"use strict";(self.webpackChunksakai_ng=self.webpackChunksakai_ng||[]).push([[37],{4037:(M,Z,p)=>{p.r(Z),p.d(Z,{EmployeesModule:()=>ke});var v=p(6814),r=p(95),T=p(9664),q=p(6068),h=p(707),x=p(4480),D=p(4104),U=p(6340),w=p(6022),C=p(3714),N=p(6218),E=p(2160),J=p(1865),Q=p(354),Y=p(7213),b=p(9862),P=p(8712),S=p(5722),f=p(8672),a=p(1712),_=p(3514),s=p(4055),c=p(2169),d=p(228),u=p(3519),g=p.n(u),k=p(2791),e=p(4946),L=p(4444);let I=(()=>{class t{constructor(i){this.httpClient=i,this.baseUrl=L.D.url,this.endpointListar="/empleadoListar",this.endpointCreateGet="/getSelectData",this.endpointEmployeeCreate="/createEmployee",this.endpointEmployeeGet="/empleadoEditar/",this.endpointEmployeeEdit="/empleadoActualizar",this.endpointDelete="/empleadoEliminar"}getAll(i,n="",o=1){const m={headers:new b.WM({"Content-Type":"application/json"})};return this.httpClient.post(`${this.baseUrl+this.endpointListar}?per_page=${i}&page=${o}&search=${n}`,m)}getDataCreate(){return this.httpClient.get(`${this.baseUrl+this.endpointCreateGet}`)}createEmployee(i){return this.httpClient.post(`${this.baseUrl+this.endpointEmployeeCreate}`,i)}getEmployee(i){return this.httpClient.get(`${this.baseUrl+this.endpointEmployeeGet+i}`)}updateEmployee(i){return this.httpClient.post(`${this.baseUrl+this.endpointEmployeeEdit}`,i)}deleteEmployee(i){return this.httpClient.post(`${this.baseUrl+this.endpointDelete}`,i)}static#e=this.\u0275fac=function(n){return new(n||t)(e.LFG(b.eN))};static#t=this.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var R=p(5219);function B(t,l){if(1&t){const i=e.EpF();e.TgZ(0,"button",20),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.redirectToCreate())}),e.qZA()}}function O(t,l){if(1&t){const i=e.EpF();e.TgZ(0,"div",21),e._UZ(1,"span"),e.TgZ(2,"span",22)(3,"form",23)(4,"div",24)(5,"input",25),e.NdJ("keyup.enter",function(o){e.CHM(i);const m=e.oxw();return e.KtG(m.buscarPorTecla(o))})("input",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.searchInput())}),e.qZA(),e.TgZ(6,"button",26),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.search(o.dt))}),e.qZA()()()()()}if(2&t){const i=e.oxw();e.xp6(3),e.Q6J("formGroup",i.formSearch)}}function V(t,l){1&t&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"Nombre"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"Tipo de documento"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"Numero documento"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"Hotel"),e.qZA(),e.TgZ(9,"th"),e._uU(10,"Usuario"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"Acciones"),e.qZA()())}function G(t,l){if(1&t){const i=e.EpF();e.TgZ(0,"p-button",30),e.NdJ("click",function(){e.CHM(i);const o=e.oxw().$implicit,m=e.oxw();return e.KtG(m.redirectToEdit(o.id))}),e.qZA()}}function H(t,l){if(1&t){const i=e.EpF();e.TgZ(0,"p-button",31),e.NdJ("click",function(){e.CHM(i);const o=e.oxw().$implicit,m=e.oxw();return e.KtG(m.confirmDelete(o.id))}),e.qZA()}}function j(t,l){if(1&t&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td",27),e.YNc(12,G,1,0,"p-button",28),e._UZ(13,"p-confirmDialog"),e.YNc(14,H,1,0,"p-button",29),e.qZA()()),2&t){const i=l.$implicit,n=e.oxw();e.xp6(2),e.Oqu(i.nombres+" "+i.apellidos),e.xp6(2),e.Oqu(i.tipo_documento.nombre),e.xp6(2),e.Oqu(i.numero_documento),e.xp6(2),e.Oqu(i.hotel.nombre),e.xp6(2),e.Oqu(i.usuario_create.usuario),e.xp6(2),e.Q6J("ngIf",n.permisoActualizar),e.xp6(2),e.Q6J("ngIf",n.permisoEliminar)}}function $(t,l){1&t&&(e.TgZ(0,"tr")(1,"td",32),e._uU(2,"Cargando informacion porfavor espere ..."),e.qZA()())}const z=function(){return{"min-width":"50rem"}},K=function(){return["nombre","Hotel","acciones"]};let W=(()=>{class t{constructor(i,n,o,m){this.FB=i,this.spinner=n,this.employeeService=o,this.router=m,this.permisoCrear=k.e.hasPermission(["administracion.empleado.crear"]),this.permisoActualizar=k.e.hasPermission(["administracion.empleado.editar"]),this.permisoEliminar=k.e.hasPermission(["administracion.empleado.eliminar"]),this.loadingTable=!1,this.pageCount=10,this.first=0,this.rows=8,this.pageActual=1,this.ultimaPage=1,this.disablePageLeft=!1,this.disablePageRight=!1}ngOnInit(){this.buildForm(),this.getIndex()}onPage(i){this.pageCount=i.rows,this.getIndex("",this.pageCount)}redirectToCreate(){this.router.navigate(["dashboard/employees/employees-create"])}redirectToEdit(i){this.router.navigate(["dashboard/employees",i,"edit"])}buildForm(){this.formSearch=this.FB.group({search:["",[]]})}getIndex(i="",n=this.pageCount,o=1){this.spinner.show(),this.loadingTable=!0,this.employeeService.getAll(n,i,o).subscribe(m=>{this.loadingTable=!1,this.employeesData=m.data,this.countRegisters=m.total,this.ultimaPage=m.last_page,m.total>n&&(this.disablePageRight=!0),this.validatePage(),this.spinner.hide()},m=>{console.log("Error: ",m),this.spinner.hide()})}confirmDelete(i){g().fire({title:"\xbfEst\xe1s seguro de que deseas eliminar este empleado?",text:"Ten cuidado, esta acci\xf3n no se podr\xe1 revertir",icon:"warning",showCancelButton:!0,confirmButtonText:"S\xed, Confirmar",cancelButtonText:"Cancelar"}).then(n=>{n.isConfirmed&&(this.spinner.show(),this.employeeService.deleteEmployee({id:i}).subscribe(o=>{this.spinner.hide(),"success"==o.code?(g().fire({title:"\xc9xito",text:"Empleado eliminado exitosamente.",icon:"success"}),this.getIndex()):g().fire({title:"Error",text:"Error al eliminar el empleado.",icon:"error"})},o=>{console.log("Error: ",o)}))})}searchInput(){let i=this.formSearch.get("search").value;this.pageActual=1,""==i&&this.getIndex(i)}search(){let i=this.formSearch.get("search").value;this.getIndex(i)}onPageChange(i){this.first=i.first,this.rows=i.rows}leftTable(){this.pageActual=this.pageActual-1,this.getIndex("",this.pageCount,this.pageActual),this.validatePage()}rightTable(){this.pageActual=this.pageActual+1,this.getIndex("",this.pageCount,this.pageActual),this.validatePage()}validatePage(){1==this.pageActual&&(this.disablePageLeft=!1),this.pageActual>1&&(this.disablePageLeft=!0),this.ultimaPage==this.pageActual&&(this.disablePageRight=!1),this.ultimaPage>this.pageActual&&(this.disablePageRight=!0)}buscarPorTecla(i){"Enter"==i.code&&this.search()}static#e=this.\u0275fac=function(n){return new(n||t)(e.Y36(r.qu),e.Y36(f.t2),e.Y36(I),e.Y36(d.F0))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-employees"]],decls:23,vars:12,consts:[[1,"surface-section","px-4","py-5","md:px-6","lg:px-8"],[1,"flex","align-items-start","flex-column","lg:justify-content-between","lg:flex-row"],[1,"font-medium","text-3xl","text-900"],[1,"flex","align-items-center","text-700","flex-wrap"],[1,"mr-5","flex","align-items-center","mt-3"],[1,"mt-3","lg:mt-0"],["pButton","","pRipple","","label","Crear","class","p-button-outlined mr-2","icon","",3,"click",4,"ngIf"],[1,"grid","mt-3"],[1,"col-12"],[1,"card","px-3","py-3"],["responsiveLayout","scroll","selectionMode","multiple","dataKey","usuario",3,"value","tableStyle","loading","rows","globalFilterFields","rowHover","onPage"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","loadingbody"],[2,"text-align","center"],[1,"p-buttonset"],["pButton","","pRipple","","label","","icon","pi pi-arrow-left",3,"disabled","click"],["pButton","","pRipple","",3,"label"],["pButton","","pRipple","","label","","icon","pi pi-arrow-right",3,"disabled","click"],["pButton","","pRipple","","label","Crear","icon","",1,"p-button-outlined","mr-2",3,"click"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[3,"formGroup"],[1,"p-inputgroup"],["formControlName","search","pInputText","","type","text","placeholder","Buscar...",1,"w-full","sm:w-auto",3,"keyup.enter","input"],["type","button","pButton","","pRipple","",1,"pi","pi-search",3,"click"],[1,"flex","gap-2"],["icon","pi pi-pencil","severity","info",3,"click",4,"ngIf"],["icon","pi pi-trash","severity","danger",3,"click",4,"ngIf"],["icon","pi pi-pencil","severity","info",3,"click"],["icon","pi pi-trash","severity","danger",3,"click"],["colspan","8"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div")(3,"div",2),e._uU(4,"Empleados"),e.qZA(),e.TgZ(5,"div",3),e._UZ(6,"div",4),e.qZA()(),e.TgZ(7,"div",5),e.YNc(8,B,1,0,"button",6),e.qZA()()(),e.TgZ(9,"div",7)(10,"div",8)(11,"div",9)(12,"p-table",10),e.NdJ("onPage",function(y){return o.onPage(y)}),e.YNc(13,O,7,1,"ng-template",11),e.YNc(14,V,13,0,"ng-template",12),e.YNc(15,j,15,7,"ng-template",13),e.YNc(16,$,3,0,"ng-template",14),e.qZA(),e._UZ(17,"br"),e.TgZ(18,"div",15)(19,"span",16)(20,"button",17),e.NdJ("click",function(){return o.leftTable()}),e.qZA(),e._UZ(21,"button",18),e.TgZ(22,"button",19),e.NdJ("click",function(){return o.rightTable()}),e.qZA()()()()()()),2&n&&(e.xp6(8),e.Q6J("ngIf",o.permisoCrear),e.xp6(4),e.Q6J("value",o.employeesData)("tableStyle",e.DdM(10,z))("loading",o.loadingTable)("rows",8)("globalFilterFields",e.DdM(11,K))("rowHover",!0),e.xp6(8),e.Q6J("disabled",!o.disablePageLeft),e.xp6(1),e.Q6J("label",o.pageActual),e.xp6(1),e.Q6J("disabled",!o.disablePageRight))},dependencies:[v.O5,T.iA,R.jx,h.Hq,h.zx,r._Y,r.Fj,r.JJ,r.JL,x.H,C.o,r.sg,r.u]})}return t})();var F=p(2506);function X(t,l){1&t&&(e.TgZ(0,"div",22),e._uU(1,"Campo requerido"),e.qZA())}function ee(t,l){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,X,2,0,"div",21),e.qZA()),2&t){const i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.formAllData.get("hotel_id").hasError("required"))}}function te(t,l){1&t&&(e.TgZ(0,"div",22),e._uU(1,"Campo requerido"),e.qZA())}function ie(t,l){1&t&&(e.TgZ(0,"div",22),e._uU(1,"M\xe1ximo 50 caracteres"),e.qZA())}function oe(t,l){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,te,2,0,"div",21),e.YNc(2,ie,2,0,"div",21),e.qZA()),2&t){const i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.formAllData.get("nombres").hasError("required")),e.xp6(1),e.Q6J("ngIf",i.formAllData.get("nombres").hasError("maxlength"))}}function ne(t,l){1&t&&(e.TgZ(0,"div",22),e._uU(1,"Campo requerido"),e.qZA())}function re(t,l){1&t&&(e.TgZ(0,"div",22),e._uU(1,"M\xe1ximo 50 caracteres"),e.qZA())}function le(t,l){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,ne,2,0,"div",21),e.YNc(2,re,2,0,"div",21),e.qZA()),2&t){const i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.formAllData.get("apellidos").hasError("required")),e.xp6(1),e.Q6J("ngIf",i.formAllData.get("apellidos").hasError("maxlength"))}}function ae(t,l){1&t&&(e.TgZ(0,"div",22),e._uU(1,"Campo requerido"),e.qZA())}function pe(t,l){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,ae,2,0,"div",21),e.qZA()),2&t){const i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.formAllData.get("tipo_documento_id").hasError("required"))}}function se(t,l){1&t&&(e.TgZ(0,"div",22),e._uU(1,"Campo requerido"),e.qZA())}function me(t,l){1&t&&(e.TgZ(0,"div",22),e._uU(1,"M\xe1ximo 20 caracteres"),e.qZA())}function de(t,l){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,se,2,0,"div",21),e.YNc(2,me,2,0,"div",21),e.qZA()),2&t){const i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.formAllData.get("numero_documento").hasError("required")),e.xp6(1),e.Q6J("ngIf",i.formAllData.get("numero_documento").hasError("maxlength"))}}function ce(t,l){1&t&&(e.TgZ(0,"div",22),e._uU(1,"Campo requerido"),e.qZA())}function ue(t,l){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,ce,2,0,"div",21),e.qZA()),2&t){const i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.formAllData.get("celular").hasError("required"))}}function _e(t,l){1&t&&(e.TgZ(0,"div",22),e._uU(1,"Campo requerido"),e.qZA())}function ge(t,l){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,_e,2,0,"div",21),e.qZA()),2&t){const i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.formAllData.get("genero_id").hasError("required"))}}let fe=(()=>{class t{constructor(i,n,o,m){this.FB=i,this.spinner=n,this.employeeService=o,this.router=m}ngOnInit(){this.buildForm(),this.getSelectCreate()}buildForm(){this.formAllData=this.FB.group({nombres:["",[r.kI.required,r.kI.maxLength(50)]],apellidos:["",[r.kI.required,r.kI.maxLength(50)]],tipo_documento_id:[null,r.kI.required],numero_documento:["",[r.kI.required,r.kI.maxLength(20)]],celular:["",r.kI.required],genero_id:[null,r.kI.required],hotel_id:[null,r.kI.required]})}getSelectCreate(){this.employeeService.getDataCreate().subscribe(i=>{this.hoteles=i.hoteles,this.generos=i.generos,this.documentos=i.tiposDocumento},i=>{console.error(i)})}empleadoCreate(){this.spinner.show();let i=this.formAllData.value;i.hotel_id=i.hotel_id.id,i.genero_id=i.genero_id.id,i.tipo_documento_id=i.tipo_documento_id.id,i.estado=1,this.employeeService.createEmployee(i).subscribe(n=>{this.spinner.hide(),"success"==n.code?g().fire({title:"Exito",text:"Empleado creado exitosamente.",icon:"success"}).then(()=>{this.router.navigate(["/dashboard/employees"])}):g().fire({title:"Error",text:"Error al crear el empleado.",icon:"error"})},n=>{this.spinner.hide(),422===n.status&&n.error.tipo_documento_id?g().fire({title:"Error",text:"El documento ya se encuentra registrado.",icon:"error"}):console.log("Error: ",n)})}static#e=this.\u0275fac=function(n){return new(n||t)(e.Y36(r.qu),e.Y36(f.t2),e.Y36(I),e.Y36(d.F0))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-employees-create"]],decls:48,vars:13,consts:[["type","ball-scale-multiple"],[1,"surface-section","px-4","py-5","md:px-6","lg:px-8"],[1,"flex","align-items-center","lg:flex-row","justify-content-between"],[1,"flex","align-items-center"],["pButton","","pRipple","","label","","icon","pi pi-arrow-left",1,"p-button-outlined","mr-4",3,"routerLink"],[1,"font-medium","text-3xl","text-900"],[1,"text-right"],["pButton","","pRipple","","label","Guardar","icon","",1,"p-button-outlined",3,"disabled","click"],[1,"p-fluid","p-formgrid"],[1,"grid","mt-5"],[3,"formGroup"],[1,"p-fluid","p-formgrid","grid"],[1,"field","col-12","md:col-6"],["optionLabel","nombre","formControlName","hotel_id",3,"options"],[4,"ngIf"],["type","text","pInputText","","formControlName","nombres",1,"w-full","mb-3","border-round-3xl"],["type","text","pInputText","","formControlName","apellidos",1,"w-full","mb-3","border-round-3xl"],["optionLabel","nombre","formControlName","tipo_documento_id",3,"options"],["type","text","pInputText","","formControlName","numero_documento",1,"w-full","mb-3","border-round-3xl"],["type","number","pInputText","","formControlName","celular",1,"w-full","mb-3","border-round-3xl"],["optionLabel","nombre","formControlName","genero_id",3,"options"],["style","color: red;",4,"ngIf"],[2,"color","red"]],template:function(n,o){1&n&&(e._UZ(0,"ngx-spinner",0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3),e._UZ(4,"button",4),e.TgZ(5,"div",5),e._uU(6,"Crear Empleado"),e.qZA()(),e.TgZ(7,"div",6)(8,"button",7),e.NdJ("click",function(){return o.empleadoCreate()}),e.qZA()()(),e.TgZ(9,"div",8)(10,"div",9)(11,"form",10)(12,"div",11)(13,"div",12)(14,"label"),e._uU(15,"Hotel"),e.qZA(),e._UZ(16,"p-dropdown",13),e.YNc(17,ee,2,1,"div",14),e.qZA(),e.TgZ(18,"div",12)(19,"label"),e._uU(20,"Nombres"),e.qZA(),e._UZ(21,"input",15),e.YNc(22,oe,3,2,"div",14),e.qZA(),e.TgZ(23,"div",12)(24,"label"),e._uU(25,"Apellidos"),e.qZA(),e._UZ(26,"input",16),e.YNc(27,le,3,2,"div",14),e.qZA(),e.TgZ(28,"div",12)(29,"label"),e._uU(30,"Tipo de documento"),e.qZA(),e._UZ(31,"p-dropdown",17),e.YNc(32,pe,2,1,"div",14),e.qZA(),e.TgZ(33,"div",12)(34,"label"),e._uU(35,"N\xfamero documento"),e.qZA(),e._UZ(36,"input",18),e.YNc(37,de,3,2,"div",14),e.qZA(),e.TgZ(38,"div",12)(39,"label"),e._uU(40,"N\xfamero contacto"),e.qZA(),e._UZ(41,"input",19),e.YNc(42,ue,2,1,"div",14),e.qZA(),e.TgZ(43,"div",12)(44,"label"),e._uU(45,"Genero"),e.qZA(),e._UZ(46,"p-dropdown",20),e.YNc(47,ge,2,1,"div",14),e.qZA()()()()()()),2&n&&(e.xp6(4),e.Q6J("routerLink","/dashboard/employees"),e.xp6(4),e.Q6J("disabled",o.formAllData.invalid),e.xp6(3),e.Q6J("formGroup",o.formAllData),e.xp6(5),e.Q6J("options",o.hoteles),e.xp6(1),e.Q6J("ngIf",o.formAllData.get("hotel_id").invalid&&(o.formAllData.get("hotel_id").dirty||o.formAllData.get("hotel_id").touched)),e.xp6(5),e.Q6J("ngIf",o.formAllData.get("nombres").invalid&&(o.formAllData.get("nombres").dirty||o.formAllData.get("nombres").touched)),e.xp6(5),e.Q6J("ngIf",o.formAllData.get("apellidos").invalid&&(o.formAllData.get("apellidos").dirty||o.formAllData.get("apellidos").touched)),e.xp6(4),e.Q6J("options",o.documentos),e.xp6(1),e.Q6J("ngIf",o.formAllData.get("tipo_documento_id").invalid&&(o.formAllData.get("tipo_documento_id").dirty||o.formAllData.get("tipo_documento_id").touched)),e.xp6(5),e.Q6J("ngIf",o.formAllData.get("numero_documento").invalid&&(o.formAllData.get("numero_documento").dirty||o.formAllData.get("numero_documento").touched)),e.xp6(5),e.Q6J("ngIf",o.formAllData.get("celular").invalid&&(o.formAllData.get("celular").dirty||o.formAllData.get("celular").touched)),e.xp6(4),e.Q6J("options",o.generos),e.xp6(1),e.Q6J("ngIf",o.formAllData.get("genero_id").invalid&&(o.formAllData.get("genero_id").dirty||o.formAllData.get("genero_id").touched)))},dependencies:[v.O5,d.rH,h.Hq,r._Y,r.Fj,r.wV,r.JJ,r.JL,x.H,C.o,E.Lt,r.sg,r.u,f.Ro]})}return t})();function he(t,l){1&t&&(e.TgZ(0,"div",22),e._uU(1,"Campo requerido"),e.qZA())}function ve(t,l){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,he,2,0,"div",21),e.qZA()),2&t){const i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.formAllData.get("hotel_id").hasError("required"))}}function xe(t,l){1&t&&(e.TgZ(0,"div",22),e._uU(1,"Campo requerido"),e.qZA())}function Ce(t,l){1&t&&(e.TgZ(0,"div",22),e._uU(1,"M\xe1ximo 50 caracteres"),e.qZA())}function ye(t,l){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,xe,2,0,"div",21),e.YNc(2,Ce,2,0,"div",21),e.qZA()),2&t){const i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.formAllData.get("nombres").hasError("required")),e.xp6(1),e.Q6J("ngIf",i.formAllData.get("nombres").hasError("maxlength"))}}function Te(t,l){1&t&&(e.TgZ(0,"div",22),e._uU(1,"Campo requerido"),e.qZA())}function Ee(t,l){1&t&&(e.TgZ(0,"div",22),e._uU(1,"M\xe1ximo 50 caracteres"),e.qZA())}function Ae(t,l){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,Te,2,0,"div",21),e.YNc(2,Ee,2,0,"div",21),e.qZA()),2&t){const i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.formAllData.get("apellidos").hasError("required")),e.xp6(1),e.Q6J("ngIf",i.formAllData.get("apellidos").hasError("maxlength"))}}function Ze(t,l){1&t&&(e.TgZ(0,"div",22),e._uU(1,"Campo requerido"),e.qZA())}function be(t,l){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,Ze,2,0,"div",21),e.qZA()),2&t){const i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.formAllData.get("tipo_documento_id").hasError("required"))}}function Ie(t,l){1&t&&(e.TgZ(0,"div",22),e._uU(1,"Campo requerido"),e.qZA())}function qe(t,l){1&t&&(e.TgZ(0,"div",22),e._uU(1,"M\xe1ximo 20 caracteres"),e.qZA())}function De(t,l){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,Ie,2,0,"div",21),e.YNc(2,qe,2,0,"div",21),e.qZA()),2&t){const i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.formAllData.get("numero_documento").hasError("required")),e.xp6(1),e.Q6J("ngIf",i.formAllData.get("numero_documento").hasError("maxlength"))}}function Ue(t,l){1&t&&(e.TgZ(0,"div",22),e._uU(1,"Campo requerido"),e.qZA())}function we(t,l){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,Ue,2,0,"div",21),e.qZA()),2&t){const i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.formAllData.get("celular").hasError("required"))}}function Ne(t,l){1&t&&(e.TgZ(0,"div",22),e._uU(1,"Campo requerido"),e.qZA())}function Je(t,l){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,Ne,2,0,"div",21),e.qZA()),2&t){const i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.formAllData.get("genero_id").hasError("required"))}}let Qe=(()=>{class t{constructor(i,n,o,m,y){this.FB=i,this.spinner=n,this.employeeService=o,this.router=m,this.route=y}ngOnInit(){this.buildForm();const i=this.route.snapshot.paramMap.get("id");i&&(this.idEmpleado=+i,this.editEmployee(this.idEmpleado))}buildForm(){this.formAllData=this.FB.group({nombres:["",[r.kI.required,r.kI.maxLength(50)]],apellidos:["",[r.kI.required,r.kI.maxLength(50)]],tipo_documento_id:[null,r.kI.required],numero_documento:["",[r.kI.required,r.kI.maxLength(20)]],celular:["",r.kI.required],genero_id:[null,r.kI.required],hotel_id:[null,r.kI.required]})}editEmployee(i){this.spinner.show(),this.employeeService.getDataCreate().subscribe(n=>{this.hoteles=n.hoteles,this.generos=n.generos,this.documentos=n.tiposDocumento,this.employeeService.getEmployee(i).subscribe(o=>{this.spinner.hide();let m=this.generos.find(A=>A.id===o.genero_id),y=this.documentos.find(A=>A.id===o.tipo_documento_id),Fe=this.hoteles.find(A=>A.id===o.hotel_id);this.formAllData.patchValue({nombres:o.nombres,apellidos:o.apellidos,tipo_documento_id:y,numero_documento:o.numero_documento,celular:o.celular,genero_id:m,hotel_id:Fe})},o=>{console.log("Error: ",o)})},n=>{console.log("Error: ",n)})}updateEmployee(){this.spinner.show();let i=this.formAllData.value;i.tipo_documento_id=i.tipo_documento_id.id,i.genero_id=i.genero_id.id,i.hotel_id=i.hotel_id.id,i.id=this.idEmpleado,this.employeeService.updateEmployee(i).subscribe(n=>{this.spinner.hide(),"success"==n.code?g().fire({title:"\xc9xito",text:"Empleado actualizado exitosamente.",icon:"success"}).then(()=>{this.router.navigate(["/dashboard/employees"])}):g().fire({title:"Error",text:"Error al actualizar el empleado.",icon:"error"})},n=>{console.log("Error: ",n)})}submitUpdate(){this.formAllData.valid&&this.updateEmployee()}static#e=this.\u0275fac=function(n){return new(n||t)(e.Y36(r.qu),e.Y36(f.t2),e.Y36(I),e.Y36(d.F0),e.Y36(d.gz))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-employees-edit"]],decls:48,vars:13,consts:[["type","ball-scale-multiple"],[1,"surface-section","px-4","py-5","md:px-6","lg:px-8"],[1,"flex","align-items-center","lg:flex-row","justify-content-between"],[1,"flex","align-items-center"],["pButton","","pRipple","","label","","icon","pi pi-arrow-left",1,"p-button-outlined","mr-4",3,"routerLink"],[1,"font-medium","text-3xl","text-900"],[1,"text-right"],["pButton","","pRipple","","label","Guardar","icon","",1,"p-button-outlined",3,"disabled","click"],[1,"p-fluid","p-formgrid"],[1,"grid","mt-5"],[3,"formGroup"],[1,"p-fluid","p-formgrid","grid"],[1,"field","col-12","md:col-6"],["optionLabel","nombre","formControlName","hotel_id",3,"options"],[4,"ngIf"],["type","text","pInputText","","formControlName","nombres",1,"w-full","mb-3","border-round-3xl"],["type","text","pInputText","","formControlName","apellidos",1,"w-full","mb-3","border-round-3xl"],["optionLabel","nombre","formControlName","tipo_documento_id",3,"options"],["type","text","pInputText","","formControlName","numero_documento",1,"w-full","mb-3","border-round-3xl"],["type","number","pInputText","","formControlName","celular",1,"w-full","mb-3","border-round-3xl"],["optionLabel","nombre","formControlName","genero_id",3,"options"],["style","color: red;",4,"ngIf"],[2,"color","red"]],template:function(n,o){1&n&&(e._UZ(0,"ngx-spinner",0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3),e._UZ(4,"button",4),e.TgZ(5,"div",5),e._uU(6,"Editar Empleado"),e.qZA()(),e.TgZ(7,"div",6)(8,"button",7),e.NdJ("click",function(){return o.submitUpdate()}),e.qZA()()(),e.TgZ(9,"div",8)(10,"div",9)(11,"form",10)(12,"div",11)(13,"div",12)(14,"label"),e._uU(15,"Hotel"),e.qZA(),e._UZ(16,"p-dropdown",13),e.YNc(17,ve,2,1,"div",14),e.qZA(),e.TgZ(18,"div",12)(19,"label"),e._uU(20,"Nombres"),e.qZA(),e._UZ(21,"input",15),e.YNc(22,ye,3,2,"div",14),e.qZA(),e.TgZ(23,"div",12)(24,"label"),e._uU(25,"Apellidos"),e.qZA(),e._UZ(26,"input",16),e.YNc(27,Ae,3,2,"div",14),e.qZA(),e.TgZ(28,"div",12)(29,"label"),e._uU(30,"Tipo de documento"),e.qZA(),e._UZ(31,"p-dropdown",17),e.YNc(32,be,2,1,"div",14),e.qZA(),e.TgZ(33,"div",12)(34,"label"),e._uU(35,"N\xfamero documento"),e.qZA(),e._UZ(36,"input",18),e.YNc(37,De,3,2,"div",14),e.qZA(),e.TgZ(38,"div",12)(39,"label"),e._uU(40,"N\xfamero contacto"),e.qZA(),e._UZ(41,"input",19),e.YNc(42,we,2,1,"div",14),e.qZA(),e.TgZ(43,"div",12)(44,"label"),e._uU(45,"Genero"),e.qZA(),e._UZ(46,"p-dropdown",20),e.YNc(47,Je,2,1,"div",14),e.qZA()()()()()()),2&n&&(e.xp6(4),e.Q6J("routerLink","/dashboard/employees"),e.xp6(4),e.Q6J("disabled",o.formAllData.invalid),e.xp6(3),e.Q6J("formGroup",o.formAllData),e.xp6(5),e.Q6J("options",o.hoteles),e.xp6(1),e.Q6J("ngIf",o.formAllData.get("hotel_id").invalid&&(o.formAllData.get("hotel_id").dirty||o.formAllData.get("hotel_id").touched)),e.xp6(5),e.Q6J("ngIf",o.formAllData.get("nombres").invalid&&(o.formAllData.get("nombres").dirty||o.formAllData.get("nombres").touched)),e.xp6(5),e.Q6J("ngIf",o.formAllData.get("apellidos").invalid&&(o.formAllData.get("apellidos").dirty||o.formAllData.get("apellidos").touched)),e.xp6(4),e.Q6J("options",o.documentos),e.xp6(1),e.Q6J("ngIf",o.formAllData.get("tipo_documento_id").invalid&&(o.formAllData.get("tipo_documento_id").dirty||o.formAllData.get("tipo_documento_id").touched)),e.xp6(5),e.Q6J("ngIf",o.formAllData.get("numero_documento").invalid&&(o.formAllData.get("numero_documento").dirty||o.formAllData.get("numero_documento").touched)),e.xp6(5),e.Q6J("ngIf",o.formAllData.get("celular").invalid&&(o.formAllData.get("celular").dirty||o.formAllData.get("celular").touched)),e.xp6(4),e.Q6J("options",o.generos),e.xp6(1),e.Q6J("ngIf",o.formAllData.get("genero_id").invalid&&(o.formAllData.get("genero_id").dirty||o.formAllData.get("genero_id").touched)))},dependencies:[v.O5,d.rH,h.Hq,r._Y,r.Fj,r.wV,r.JJ,r.JL,x.H,C.o,E.Lt,r.sg,r.u,f.Ro]})}return t})(),Ye=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275mod=e.oAB({type:t});static#i=this.\u0275inj=e.cJS({imports:[d.Bz.forChild([{path:"",component:W,canActivate:[F.a],data:{permissions:["administracion.facturacion"]}},{path:":id/edit",component:Qe,canActivate:[F.a],data:{permissions:["administracion.facturacion"]}},{path:"employees-create",component:fe,canActivate:[F.a],data:{permissions:["administracion.facturacion"]}}]),d.Bz]})}return t})(),ke=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275mod=e.oAB({type:t});static#i=this.\u0275inj=e.cJS({providers:[{provide:b.TP,useClass:P.n,multi:!0},I],imports:[v.ez,Ye,T.U$,q.O,r.u5,h.hJ,x.T,D.EV,U.V,w.Xt,C.j,N.A,E.kW,J.cc,Q.L$,Y.S,S.ii.forRoot(),r.UX,f.ef,a.U,_.dp,s.q4,c.o]})}return t})()},2169:(M,Z,p)=>{p.d(Z,{o:()=>f});var v=p(6814),r=p(4946),T=p(5219),q=p(8468);let f=(()=>{class a{static \u0275fac=function(c){return new(c||a)};static \u0275mod=r.oAB({type:a});static \u0275inj=r.cJS({imports:[v.ez,q.x,T.m8,T.m8]})}return a})()}}]);