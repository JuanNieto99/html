"use strict";(self.webpackChunksakai_ng=self.webpackChunksakai_ng||[]).push([[91],{4091:(Co,O,c)=>{c.r(O),c.d(O,{DashboardRoomsModule:()=>Zo});var h=c(6814),l=c(95),V=c(9664),$=c(6068),v=c(707),T=c(4480),K=c(4104),U=c(6340),X=c(6022),x=c(3714),y=c(6218),A=c(2160),W=c(1865),ee=c(354),I=c(7213),te=c(9862),oe=c(8712),ie=c(5722),Z=c(8672),ae=c(1712),w=c(1532),b=c(86),ne=c(3519),p=c.n(ne),e=c(4946),R=c(8663),J=c(3859),P=c(1230),_=c(5219),M=c(1122),m=c(6825),g=c(2076),k=c(7778),q=c(2332);function re(a,r){1&a&&e.GkF(0)}function se(a,r){1&a&&e._UZ(0,"TimesIcon",8),2&a&&e.Q6J("styleClass","p-overlaypanel-close-icon")}function le(a,r){}function ce(a,r){1&a&&e.YNc(0,le,0,0,"ng-template")}function de(a,r){if(1&a&&(e.TgZ(0,"span",9),e.YNc(1,ce,1,0,null,3),e.qZA()),2&a){const t=e.oxw(3);e.xp6(1),e.Q6J("ngTemplateOutlet",t.closeIconTemplate)}}function pe(a,r){if(1&a){const t=e.EpF();e.TgZ(0,"button",5),e.NdJ("click",function(o){e.CHM(t);const n=e.oxw(2);return e.KtG(n.onCloseClick(o))})("keydown.enter",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.hide())}),e.YNc(1,se,1,1,"TimesIcon",6),e.YNc(2,de,2,1,"span",7),e.qZA()}if(2&a){const t=e.oxw(2);e.uIk("aria-label",t.ariaCloseLabel),e.xp6(1),e.Q6J("ngIf",!t.closeIconTemplate),e.xp6(1),e.Q6J("ngIf",t.closeIconTemplate)}}const ue=function(a,r){return{showTransitionParams:a,hideTransitionParams:r}},he=function(a,r){return{value:a,params:r}};function me(a,r){if(1&a){const t=e.EpF();e.TgZ(0,"div",1),e.NdJ("click",function(o){e.CHM(t);const n=e.oxw();return e.KtG(n.onOverlayClick(o))})("@animation.start",function(o){e.CHM(t);const n=e.oxw();return e.KtG(n.onAnimationStart(o))})("@animation.done",function(o){e.CHM(t);const n=e.oxw();return e.KtG(n.onAnimationEnd(o))}),e.TgZ(1,"div",2),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onContentClick())})("mousedown",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onContentClick())}),e.Hsn(2),e.YNc(3,re,1,0,"ng-container",3),e.qZA(),e.YNc(4,pe,3,3,"button",4),e.qZA()}if(2&a){const t=e.oxw();e.Tol(t.styleClass),e.Q6J("ngClass","p-overlaypanel p-component")("ngStyle",t.style)("@animation",e.WLB(10,he,t.overlayVisible?"open":"close",e.WLB(7,ue,t.showTransitionOptions,t.hideTransitionOptions))),e.xp6(3),e.Q6J("ngTemplateOutlet",t.contentTemplate),e.xp6(1),e.Q6J("ngIf",t.showCloseIcon)}}const _e=["*"];let ge=(()=>{class a{document;platformId;el;renderer;cd;zone;config;overlayService;dismissable=!0;showCloseIcon;style;styleClass;appendTo="body";autoZIndex=!0;ariaCloseLabel;baseZIndex=0;focusOnShow=!0;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";onShow=new e.vpe;onHide=new e.vpe;templates;container;overlayVisible=!1;render=!1;isOverlayAnimationInProgress=!1;selfClick=!1;documentClickListener;target;willHide;scrollHandler;documentResizeListener;contentTemplate;closeIconTemplate;destroyCallback;overlayEventListener;overlaySubscription;constructor(t,i,o,n,s,u,d,f){this.document=t,this.platformId=i,this.el=o,this.renderer=n,this.cd=s,this.zone=u,this.config=d,this.overlayService=f}ngAfterContentInit(){this.templates?.forEach(t=>{switch(t.getType()){case"content":default:this.contentTemplate=t.template;break;case"closeicon":this.closeIconTemplate=t.template}this.cd.markForCheck()})}bindDocumentClickListener(){(0,h.NF)(this.platformId)&&!this.documentClickListener&&this.dismissable&&this.zone.runOutsideAngular(()=>{let t=g.p.isIOS()?"touchstart":"click";this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:this.document,t,o=>{!this.container?.contains(o.target)&&this.target!==o.target&&!this.target.contains(o.target)&&!this.selfClick&&this.zone.run(()=>{this.hide()}),this.selfClick=!1,this.cd.markForCheck()})})}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null,this.selfClick=!1)}toggle(t,i){this.isOverlayAnimationInProgress||(this.overlayVisible?(this.hasTargetChanged(t,i)&&(this.destroyCallback=()=>{this.show(null,i||t.currentTarget||t.target)}),this.hide()):this.show(t,i))}show(t,i){i&&t&&t.stopPropagation(),!this.isOverlayAnimationInProgress&&(this.target=i||t.currentTarget||t.target,this.overlayVisible=!0,this.render=!0,this.cd.markForCheck())}onOverlayClick(t){this.overlayService.add({originalEvent:t,target:this.el.nativeElement}),this.selfClick=!0}onContentClick(){this.selfClick=!0}hasTargetChanged(t,i){return null!=this.target&&this.target!==(i||t.currentTarget||t.target)}appendContainer(){this.appendTo&&("body"===this.appendTo?this.renderer.appendChild(this.document.body,this.container):g.p.appendChild(this.container,this.appendTo))}restoreAppend(){this.container&&this.appendTo&&this.renderer.appendChild(this.el.nativeElement,this.container)}align(){this.autoZIndex&&q.P9.set("overlay",this.container,this.baseZIndex+this.config.zIndex.overlay),g.p.absolutePosition(this.container,this.target);const t=g.p.getOffset(this.container),i=g.p.getOffset(this.target),o=this.document.defaultView?.getComputedStyle(this.container).getPropertyValue("border-radius");let n=0;t.left<i.left&&(n=i.left-t.left-2*parseFloat(o)),this.container?.style.setProperty("--overlayArrowLeft",`${n}px`),t.top<i.top&&(g.p.addClass(this.container,"p-overlaypanel-flipped"),this.showCloseIcon&&this.renderer.setStyle(this.container,"margin-top","-30px"))}onAnimationStart(t){"open"===t.toState&&(this.container=t.element,this.appendContainer(),this.align(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.focusOnShow&&this.focus(),this.overlayEventListener=i=>{this.container&&this.container.contains(i.target)&&(this.selfClick=!0)},this.overlaySubscription=this.overlayService.clickObservable.subscribe(this.overlayEventListener),this.onShow.emit(null)),this.isOverlayAnimationInProgress=!0}onAnimationEnd(t){switch(t.toState){case"void":this.destroyCallback&&(this.destroyCallback(),this.destroyCallback=null),this.overlaySubscription&&this.overlaySubscription.unsubscribe();break;case"close":this.autoZIndex&&q.P9.clear(this.container),this.overlaySubscription&&this.overlaySubscription.unsubscribe(),this.onContainerDestroy(),this.onHide.emit({}),this.render=!1}this.isOverlayAnimationInProgress=!1}focus(){let t=g.p.findSingle(this.container,"[autofocus]");t&&this.zone.runOutsideAngular(()=>{setTimeout(()=>t.focus(),5)})}hide(){this.overlayVisible=!1,this.cd.markForCheck()}onCloseClick(t){this.hide(),t.preventDefault()}onWindowResize(){this.overlayVisible&&!g.p.isTouchDevice()&&this.hide()}bindDocumentResizeListener(){(0,h.NF)(this.platformId)&&!this.documentResizeListener&&(this.documentResizeListener=this.renderer.listen(this.document.defaultView,"resize",this.onWindowResize.bind(this)))}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindScrollListener(){(0,h.NF)(this.platformId)&&(this.scrollHandler||(this.scrollHandler=new g.V(this.target,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener())}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}onContainerDestroy(){this.cd.destroyed||(this.target=null),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener()}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.container&&this.autoZIndex&&q.P9.clear(this.container),this.cd.destroyed||(this.target=null),this.destroyCallback=null,this.container&&(this.restoreAppend(),this.onContainerDestroy()),this.overlaySubscription&&this.overlaySubscription.unsubscribe()}static \u0275fac=function(i){return new(i||a)(e.Y36(h.K0),e.Y36(e.Lbi),e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.sBO),e.Y36(e.R0b),e.Y36(_.b4),e.Y36(_.F0))};static \u0275cmp=e.Xpm({type:a,selectors:[["p-overlayPanel"]],contentQueries:function(i,o,n){if(1&i&&e.Suo(n,_.jx,4),2&i){let s;e.iGM(s=e.CRH())&&(o.templates=s)}},hostAttrs:[1,"p-element"],inputs:{dismissable:"dismissable",showCloseIcon:"showCloseIcon",style:"style",styleClass:"styleClass",appendTo:"appendTo",autoZIndex:"autoZIndex",ariaCloseLabel:"ariaCloseLabel",baseZIndex:"baseZIndex",focusOnShow:"focusOnShow",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onShow:"onShow",onHide:"onHide"},ngContentSelectors:_e,decls:1,vars:1,consts:[[3,"ngClass","ngStyle","class","click",4,"ngIf"],[3,"ngClass","ngStyle","click"],[1,"p-overlaypanel-content",3,"click","mousedown"],[4,"ngTemplateOutlet"],["type","button","class","p-overlaypanel-close p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],["type","button","pRipple","",1,"p-overlaypanel-close","p-link",3,"click","keydown.enter"],[3,"styleClass",4,"ngIf"],["class","p-overlaypanel-close-icon",4,"ngIf"],[3,"styleClass"],[1,"p-overlaypanel-close-icon"]],template:function(i,o){1&i&&(e.F$t(),e.YNc(0,me,5,13,"div",0)),2&i&&e.Q6J("ngIf",o.render)},dependencies:function(){return[h.mk,h.O5,h.tP,h.PC,T.H,k.q]},styles:['.p-overlaypanel{position:absolute;margin-top:10px;top:0;left:0}.p-overlaypanel-flipped{margin-top:0;margin-bottom:10px}.p-overlaypanel-close{display:flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-overlaypanel:after,.p-overlaypanel:before{bottom:100%;left:calc(var(--overlayArrowLeft, 0) + 1.25rem);content:" ";height:0;width:0;position:absolute;pointer-events:none}.p-overlaypanel:after{border-width:8px;margin-left:-8px}.p-overlaypanel:before{border-width:10px;margin-left:-10px}.p-overlaypanel-shifted:after,.p-overlaypanel-shifted:before{left:auto;right:1.25em;margin-left:auto}.p-overlaypanel-flipped:after,.p-overlaypanel-flipped:before{bottom:auto;top:100%}.p-overlaypanel.p-overlaypanel-flipped:after{border-bottom-color:transparent}.p-overlaypanel.p-overlaypanel-flipped:before{border-bottom-color:transparent}\n'],encapsulation:2,data:{animation:[(0,m.X$)("animation",[(0,m.SB)("void",(0,m.oB)({transform:"scaleY(0.8)",opacity:0})),(0,m.SB)("close",(0,m.oB)({opacity:0})),(0,m.SB)("open",(0,m.oB)({transform:"translateY(0)",opacity:1})),(0,m.eR)("void => open",(0,m.jt)("{{showTransitionParams}}")),(0,m.eR)("open => close",(0,m.jt)("{{hideTransitionParams}}"))])]},changeDetection:0})}return a})(),fe=(()=>{class a{static \u0275fac=function(i){return new(i||a)};static \u0275mod=e.oAB({type:a});static \u0275inj=e.cJS({imports:[h.ez,T.T,_.m8,k.q,_.m8]})}return a})();var N=c(6005),H=c(4562);function be(a,r){if(1&a&&e._UZ(0,"span",11),2&a){const t=e.oxw(3);e.Tol(t.accordion.collapseIcon),e.Q6J("ngClass",t.iconClass)}}function ve(a,r){if(1&a&&e._UZ(0,"ChevronDownIcon",11),2&a){const t=e.oxw(3);e.Q6J("ngClass",t.iconClass)}}function Te(a,r){if(1&a&&(e.ynx(0),e.YNc(1,be,1,3,"span",9),e.YNc(2,ve,1,1,"ChevronDownIcon",10),e.BQk()),2&a){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.accordion.collapseIcon),e.xp6(1),e.Q6J("ngIf",!t.accordion.collapseIcon)}}function Ze(a,r){if(1&a&&e._UZ(0,"span",11),2&a){const t=e.oxw(3);e.Tol(t.accordion.expandIcon),e.Q6J("ngClass",t.iconClass)}}function Ae(a,r){if(1&a&&e._UZ(0,"ChevronRightIcon",11),2&a){const t=e.oxw(3);e.Q6J("ngClass",t.iconClass)}}function Ce(a,r){if(1&a&&(e.ynx(0),e.YNc(1,Ze,1,3,"span",9),e.YNc(2,Ae,1,1,"ChevronRightIcon",10),e.BQk()),2&a){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.accordion.expandIcon),e.xp6(1),e.Q6J("ngIf",!t.accordion.expandIcon)}}function xe(a,r){if(1&a&&(e.ynx(0),e.YNc(1,Te,3,2,"ng-container",3),e.YNc(2,Ce,3,2,"ng-container",3),e.BQk()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.selected),e.xp6(1),e.Q6J("ngIf",!t.selected)}}function ye(a,r){}function Ie(a,r){1&a&&e.YNc(0,ye,0,0,"ng-template")}function Re(a,r){if(1&a&&(e.TgZ(0,"span",12),e._uU(1),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.hij(" ",t.header," ")}}function qe(a,r){1&a&&e.GkF(0)}function De(a,r){1&a&&e.Hsn(0,1,["*ngIf","hasHeaderFacet"])}function Fe(a,r){1&a&&e.GkF(0)}function Se(a,r){if(1&a&&(e.ynx(0),e.YNc(1,Fe,1,0,"ng-container",6),e.BQk()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngTemplateOutlet",t.contentTemplate)}}const Oe=["*",[["p-header"]]],Ue=function(a){return{$implicit:a}},Q=function(a){return{transitionParams:a}},we=function(a){return{value:"visible",params:a}},Je=function(a){return{value:"hidden",params:a}},Pe=["*","p-header"],Me=["*"];let ke=0,E=(()=>{class a{changeDetector;header;headerStyle;tabStyle;contentStyle;tabStyleClass;headerStyleClass;contentStyleClass;disabled;cache=!0;transitionOptions="400ms cubic-bezier(0.86, 0, 0.07, 1)";iconPos="start";selectedChange=new e.vpe;headerFacet;templates;_selected=!1;get selected(){return this._selected}set selected(t){this._selected=t,this.loaded||(this._selected&&this.cache&&(this.loaded=!0),this.changeDetector.detectChanges())}get iconClass(){return"end"===this.iconPos?"p-accordion-toggle-icon-end":"p-accordion-toggle-icon"}contentTemplate;headerTemplate;iconTemplate;id="p-accordiontab-"+ke++;loaded=!1;accordion;constructor(t,i){this.changeDetector=i,this.accordion=t}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"content":default:this.contentTemplate=t.template;break;case"header":this.headerTemplate=t.template;break;case"icon":this.iconTemplate=t.template}})}toggle(t){if(this.disabled)return!1;let i=this.findTabIndex();if(this.selected)this.selected=!1,this.accordion.onClose.emit({originalEvent:t,index:i});else{if(!this.accordion.multiple)for(var o=0;o<this.accordion.tabs.length;o++)this.accordion.tabs[o].selected&&(this.accordion.tabs[o].selected=!1,this.accordion.tabs[o].selectedChange.emit(!1),this.accordion.tabs[o].changeDetector.markForCheck());this.selected=!0,this.loaded=!0,this.accordion.onOpen.emit({originalEvent:t,index:i})}this.selectedChange.emit(this.selected),this.accordion.updateActiveIndex(),this.changeDetector.markForCheck(),t.preventDefault()}findTabIndex(){let t=-1;for(var i=0;i<this.accordion.tabs.length;i++)if(this.accordion.tabs[i]==this){t=i;break}return t}get hasHeaderFacet(){return this.headerFacet&&this.headerFacet.length>0}onKeydown(t){(32===t.which||13===t.which)&&(this.toggle(t),t.preventDefault())}ngOnDestroy(){this.accordion.tabs.splice(this.findTabIndex(),1)}static \u0275fac=function(i){return new(i||a)(e.Y36((0,e.Gpc)(()=>L)),e.Y36(e.sBO))};static \u0275cmp=e.Xpm({type:a,selectors:[["p-accordionTab"]],contentQueries:function(i,o,n){if(1&i&&(e.Suo(n,_.h4,4),e.Suo(n,_.jx,4)),2&i){let s;e.iGM(s=e.CRH())&&(o.headerFacet=s),e.iGM(s=e.CRH())&&(o.templates=s)}},hostAttrs:[1,"p-element"],inputs:{header:"header",headerStyle:"headerStyle",tabStyle:"tabStyle",contentStyle:"contentStyle",tabStyleClass:"tabStyleClass",headerStyleClass:"headerStyleClass",contentStyleClass:"contentStyleClass",disabled:"disabled",cache:"cache",transitionOptions:"transitionOptions",iconPos:"iconPos",selected:"selected"},outputs:{selectedChange:"selectedChange"},ngContentSelectors:Pe,decls:12,vars:38,consts:[[1,"p-accordion-tab",3,"ngClass","ngStyle"],[1,"p-accordion-header"],["role","tab",1,"p-accordion-header-link",3,"ngClass","click","keydown"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-accordion-header-text",4,"ngIf"],[4,"ngTemplateOutlet"],["role","region",1,"p-toggleable-content"],[1,"p-accordion-content",3,"ngClass","ngStyle"],[3,"class","ngClass",4,"ngIf"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],[1,"p-accordion-header-text"]],template:function(i,o){1&i&&(e.F$t(Oe),e.TgZ(0,"div",0)(1,"div",1)(2,"a",2),e.NdJ("click",function(s){return o.toggle(s)})("keydown",function(s){return o.onKeydown(s)}),e.YNc(3,xe,3,2,"ng-container",3),e.YNc(4,Ie,1,0,null,4),e.YNc(5,Re,2,1,"span",5),e.YNc(6,qe,1,0,"ng-container",6),e.YNc(7,De,1,0,"ng-content",3),e.qZA()(),e.TgZ(8,"div",7)(9,"div",8),e.Hsn(10),e.YNc(11,Se,2,1,"ng-container",3),e.qZA()()()),2&i&&(e.ekj("p-accordion-tab-active",o.selected),e.Q6J("ngClass",o.tabStyleClass)("ngStyle",o.tabStyle),e.xp6(1),e.ekj("p-highlight",o.selected)("p-disabled",o.disabled),e.xp6(1),e.Akn(o.headerStyle),e.Q6J("ngClass",o.headerStyleClass),e.uIk("tabindex",o.disabled?null:0)("id",o.id)("aria-controls",o.id+"-content")("aria-expanded",o.selected),e.xp6(1),e.Q6J("ngIf",!o.iconTemplate),e.xp6(1),e.Q6J("ngTemplateOutlet",o.iconTemplate)("ngTemplateOutletContext",e.VKq(28,Ue,o.selected)),e.xp6(1),e.Q6J("ngIf",!o.hasHeaderFacet),e.xp6(1),e.Q6J("ngTemplateOutlet",o.headerTemplate),e.xp6(1),e.Q6J("ngIf",o.hasHeaderFacet),e.xp6(1),e.Q6J("@tabContent",o.selected?e.VKq(32,we,e.VKq(30,Q,o.transitionOptions)):e.VKq(36,Je,e.VKq(34,Q,o.transitionOptions))),e.uIk("id",o.id+"-content")("aria-hidden",!o.selected)("aria-labelledby",o.id),e.xp6(1),e.Q6J("ngClass",o.contentStyleClass)("ngStyle",o.contentStyle),e.xp6(2),e.Q6J("ngIf",o.contentTemplate&&(o.cache?o.loaded:o.selected)))},dependencies:function(){return[h.mk,h.O5,h.tP,h.PC,H.X,N.v]},styles:[".p-accordion-header-link{cursor:pointer;display:flex;align-items:center;-webkit-user-select:none;user-select:none;position:relative;text-decoration:none}.p-accordion-header-link:focus{z-index:1}.p-accordion-header-text{line-height:1}.p-accordion .p-toggleable-content{overflow:hidden}.p-accordion .p-accordion-tab-active>.p-toggleable-content:not(.ng-animating){overflow:inherit}.p-accordion-toggle-icon-end{order:1;margin-left:auto}.p-accordion-toggle-icon{order:0}\n"],encapsulation:2,data:{animation:[(0,m.X$)("tabContent",[(0,m.SB)("hidden",(0,m.oB)({height:"0"})),(0,m.SB)("visible",(0,m.oB)({height:"*"})),(0,m.eR)("visible <=> hidden",[(0,m.jt)("{{transitionParams}}")]),(0,m.eR)("void => *",(0,m.jt)(0))])]},changeDetection:0})}return a})(),L=(()=>{class a{el;changeDetector;multiple=!1;style;styleClass;expandIcon;collapseIcon;get activeIndex(){return this._activeIndex}set activeIndex(t){this._activeIndex=t,this.preventActiveIndexPropagation?this.preventActiveIndexPropagation=!1:this.updateSelectionState()}onClose=new e.vpe;onOpen=new e.vpe;activeIndexChange=new e.vpe;tabList;tabListSubscription=null;_activeIndex;preventActiveIndexPropagation=!1;tabs=[];constructor(t,i){this.el=t,this.changeDetector=i}ngAfterContentInit(){this.initTabs(),this.tabListSubscription=this.tabList.changes.subscribe(t=>{this.initTabs()})}initTabs(){this.tabs=this.tabList.toArray(),this.updateSelectionState(),this.changeDetector.markForCheck()}getBlockableElement(){return this.el.nativeElement.children[0]}updateSelectionState(){if(this.tabs&&this.tabs.length&&null!=this._activeIndex)for(let t=0;t<this.tabs.length;t++){let i=this.multiple?this._activeIndex.includes(t):t===this._activeIndex;i!==this.tabs[t].selected&&(this.tabs[t].selected=i,this.tabs[t].selectedChange.emit(i),this.tabs[t].changeDetector.markForCheck())}}updateActiveIndex(){let t=this.multiple?[]:null;this.tabs.forEach((i,o)=>{if(i.selected){if(!this.multiple)return void(t=o);t.push(o)}}),this.preventActiveIndexPropagation=!0,this.activeIndexChange.emit(t)}ngOnDestroy(){this.tabListSubscription&&this.tabListSubscription.unsubscribe()}static \u0275fac=function(i){return new(i||a)(e.Y36(e.SBq),e.Y36(e.sBO))};static \u0275cmp=e.Xpm({type:a,selectors:[["p-accordion"]],contentQueries:function(i,o,n){if(1&i&&e.Suo(n,E,4),2&i){let s;e.iGM(s=e.CRH())&&(o.tabList=s)}},hostAttrs:[1,"p-element"],inputs:{multiple:"multiple",style:"style",styleClass:"styleClass",expandIcon:"expandIcon",collapseIcon:"collapseIcon",activeIndex:"activeIndex"},outputs:{onClose:"onClose",onOpen:"onOpen",activeIndexChange:"activeIndexChange"},ngContentSelectors:Me,decls:2,vars:4,consts:[["role","tablist",3,"ngClass","ngStyle"]],template:function(i,o){1&i&&(e.F$t(),e.TgZ(0,"div",0),e.Hsn(1),e.qZA()),2&i&&(e.Tol(o.styleClass),e.Q6J("ngClass","p-accordion p-component")("ngStyle",o.style))},dependencies:[h.mk,h.PC],encapsulation:2,changeDetection:0})}return a})(),Ne=(()=>{class a{static \u0275fac=function(i){return new(i||a)};static \u0275mod=e.oAB({type:a});static \u0275inj=e.cJS({imports:[h.ez,H.X,N.v,_.m8]})}return a})();var D=c(6263),F=c(4055),S=c(7161),He=c(8725);const Qe=["op1"];function Ee(a,r){1&a&&e._UZ(0,"i",36)}function Le(a,r){if(1&a&&(e.TgZ(0,"div"),e._UZ(1,"p-tag",48),e.qZA()),2&a){const t=e.oxw().$implicit,i=e.oxw(3);e.xp6(1),e.Q6J("value",i.validarEstado(t.detalle,5))}}function Ye(a,r){1&a&&(e.TgZ(0,"div"),e._UZ(1,"p-tag",49),e.qZA())}function ze(a,r){1&a&&(e.TgZ(0,"div"),e._UZ(1,"p-tag",50),e.qZA())}function Be(a,r){1&a&&(e.TgZ(0,"div"),e._UZ(1,"p-tag",51),e.qZA())}function je(a,r){1&a&&(e.TgZ(0,"div"),e._UZ(1,"p-tag",52),e.qZA())}function Ge(a,r){1&a&&(e.TgZ(0,"div"),e._UZ(1,"p-tag",53),e.qZA())}function Ve(a,r){if(1&a){const t=e.EpF();e.TgZ(0,"div",37)(1,"div",38),e._UZ(2,"label",39),e.qZA(),e.TgZ(3,"i",40),e.NdJ("click",function(o){const s=e.CHM(t).$implicit,u=e.oxw(3);return e.KtG(u.abrirMenu(o,s))}),e.qZA(),e.TgZ(4,"p-overlayPanel",41,42)(6,"p-menu",43),e.NdJ("click",function(){const n=e.CHM(t).$implicit,s=e.oxw(3);return e.KtG(s.opcionesHabitacion(n))}),e.qZA()(),e._UZ(7,"br"),e.TgZ(8,"div",44),e._UZ(9,"img",45),e.qZA(),e.TgZ(10,"div",46),e.ynx(11),e.YNc(12,Le,2,1,"div",47),e.YNc(13,Ye,2,0,"div",47),e.YNc(14,ze,2,0,"div",47),e.YNc(15,Be,2,0,"div",47),e.YNc(16,je,2,0,"div",47),e.YNc(17,Ge,2,0,"div",47),e.BQk(),e.qZA()()}if(2&a){const t=r.$implicit,i=e.oxw(3);e.xp6(2),e.Q6J("label",t.nombre),e.xp6(2),e.Q6J("showCloseIcon",!0),e.xp6(2),e.Q6J("model",i.menuHabitacion),e.xp6(3),e.MGl("src","assets/puertas/",t.habitacionNombre,".jpg",e.LSH),e.xp6(3),e.Q6J("ngIf",i.validarEstado(t.detalle,5)),e.xp6(1),e.Q6J("ngIf",i.validarEstado(t.detalle,3)),e.xp6(1),e.Q6J("ngIf",i.validarEstado(t.detalle,4)),e.xp6(1),e.Q6J("ngIf",i.validarEstado(t.detalle,6)),e.xp6(1),e.Q6J("ngIf",i.validarEstado(t.detalle,2)),e.xp6(1),e.Q6J("ngIf",i.validarEstado(t.detalle,7))}}function $e(a,r){if(1&a&&(e.YNc(0,Ee,1,0,"i",33),e.TgZ(1,"div",34),e.YNc(2,Ve,18,10,"div",35),e.qZA()),2&a){const t=e.oxw().$implicit;e.Q6J("ngIf",t.loading),e.xp6(2),e.Q6J("ngForOf",t.habitaciones)}}function Ke(a,r){if(1&a){const t=e.EpF();e.TgZ(0,"p-accordion")(1,"p-accordionTab",31),e.NdJ("selectedChange",function(){const n=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.openTag(n.piso))}),e.YNc(2,$e,3,2,"ng-template",32),e.qZA()()}if(2&a){const t=r.$implicit,i=e.oxw();e.xp6(1),e.Q6J("header","Piso "+t.piso)("selected",t.piso==i.primerPiso)}}function Xe(a,r){if(1&a&&(e.TgZ(0,"div",67)(1,"span",68),e._uU(2),e.qZA()()),2&a){const t=r.$implicit;e.xp6(2),e.Oqu(t.nombre)}}function We(a,r){if(1&a){const t=e.EpF();e.TgZ(0,"button",69),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.crearCliente())}),e.qZA()}}function et(a,r){1&a&&(e.TgZ(0,"div",70),e._uU(1,"Seleccione el cliente"),e.qZA())}function tt(a,r){1&a&&(e.TgZ(0,"div")(1,"h5"),e._uU(2,"Hora"),e.qZA()())}function ot(a,r){1&a&&(e.TgZ(0,"div")(1,"h5"),e._uU(2,"Noche"),e.qZA()())}function it(a,r){if(1&a&&(e.TgZ(0,"div",67)(1,"span",68),e._uU(2),e._UZ(3,"p-tag",71),e.YNc(4,tt,3,0,"div",47),e.YNc(5,ot,3,0,"div",47),e.qZA()()),2&a){const t=r.$implicit;e.xp6(2),e.hij(" ",t.nombre," "),e.xp6(1),e.s9C("icon",t.icon),e.s9C("value",t.valor),e.xp6(1),e.Q6J("ngIf",2==t.tipo),e.xp6(1),e.Q6J("ngIf",1==t.tipo)}}function at(a,r){1&a&&(e.TgZ(0,"div",70),e._uU(1,"Seleccione la tarifa"),e.qZA())}function nt(a,r){1&a&&(e.TgZ(0,"div",70),e._uU(1,"Monto es requerido"),e.qZA())}function rt(a,r){if(1&a){const t=e.EpF();e.TgZ(0,"div",72)(1,"div",73)(2,"label",74),e._uU(3,"Monto"),e.qZA(),e._UZ(4,"br"),e.TgZ(5,"input",75),e.NdJ("input",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.checkAbonos())}),e.qZA(),e._UZ(6,"br"),e.YNc(7,nt,2,0,"div",18),e.qZA(),e.TgZ(8,"div",73)(9,"label",76),e._uU(10,"Medio Pago"),e.qZA(),e._UZ(11,"br")(12,"p-dropdown",77),e.qZA(),e.TgZ(13,"div",78),e._UZ(14,"label",79)(15,"br"),e.TgZ(16,"p-button",80),e.NdJ("click",function(){const n=e.CHM(t).index,s=e.oxw(2);return e.KtG(s.eliminarAbono(n))}),e.qZA()()()}if(2&a){const t=r.$implicit,i=e.oxw(2);e.Q6J("formGroup",t),e.xp6(7),e.Q6J("ngIf",null==t||null==t.controls.monto||null==t.controls.monto.errors?null:t.controls.monto.errors.required),e.xp6(5),e.Q6J("options",i.selectMedioPago)}}function st(a,r){1&a&&(e.TgZ(0,"div",70),e._uU(1,"La fecha de inicio no puede ser mayor a la fecha final"),e.qZA())}function lt(a,r){1&a&&(e.TgZ(0,"div",70),e._uU(1,"Debe reservar por al menos una hora"),e.qZA())}function ct(a,r){1&a&&e._UZ(0,"p-message",81)}function dt(a,r){if(1&a&&(e.TgZ(0,"tbody")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA()()),2&a){const t=r.$implicit;e.xp6(2),e.hij(" ",t.nombre," "),e.xp6(2),e.hij(" ",t.valor," ")}}function pt(a,r){if(1&a&&(e.TgZ(0,"tbody")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA()()),2&a){const t=r.$implicit;e.xp6(2),e.hij(" ",t.monto," "),e.xp6(2),e.hij(" ",t.medio_pago.nombre," ")}}const Y=function(){return{width:"70vw"}};function ut(a,r){if(1&a){const t=e.EpF();e.TgZ(0,"p-dialog",54),e.NdJ("visibleChange",function(o){e.CHM(t);const n=e.oxw();return e.KtG(n.reservacionModalVisible=o)}),e.TgZ(1,"div",12)(2,"div",13),e.NdJ("ngSubmit",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.enviarReservar())}),e.TgZ(3,"h2",44),e._uU(4),e.qZA(),e.TgZ(5,"div",14)(6,"div",15)(7,"label",55),e._uU(8,"Cliente"),e.qZA(),e.TgZ(9,"p-multiSelect",56),e.NdJ("onFilter",function(o){e.CHM(t);const n=e.oxw();return e.KtG(n.busquedaCliente(o))}),e.YNc(10,Xe,3,1,"ng-template",17),e.YNc(11,We,1,0,"ng-template",57),e.qZA(),e.YNc(12,et,2,0,"div",18),e.qZA(),e.TgZ(13,"div",15)(14,"label",55),e._uU(15,"Tarifa"),e.qZA(),e.TgZ(16,"p-multiSelect",58),e.NdJ("onChange",function(o){e.CHM(t);const n=e.oxw();return e.KtG(n.checkTarifaReserva(o))}),e.YNc(17,it,6,5,"ng-template",17),e.qZA(),e.YNc(18,at,2,0,"div",18),e.qZA(),e.TgZ(19,"div",15)(20,"p-panel",59)(21,"button",60),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.agregarAbono())}),e.qZA(),e.YNc(22,rt,17,3,"div",61),e.qZA()(),e.TgZ(23,"div",19)(24,"label"),e._uU(25,"Fecha Inicio"),e.qZA(),e._UZ(26,"p-calendar",62),e.YNc(27,st,2,0,"div",18),e.qZA(),e.TgZ(28,"div",19)(29,"label"),e._uU(30,"Fecha Final"),e.qZA(),e._UZ(31,"p-calendar",63),e.YNc(32,lt,2,0,"div",18),e.qZA(),e.TgZ(33,"div",15)(34,"label"),e._uU(35,"Descripcion"),e.qZA(),e._UZ(36,"textarea",22),e.qZA(),e.YNc(37,ct,1,0,"p-message",64),e.TgZ(38,"div",15)(39,"table")(40,"tr")(41,"th",65),e._uU(42,"Nombre"),e.qZA(),e.TgZ(43,"th"),e._uU(44,"Valores"),e.qZA(),e.TgZ(45,"td"),e._uU(46,"Detalle"),e.qZA()(),e.TgZ(47,"tr")(48,"th"),e._uU(49," Tarifas"),e.qZA(),e.TgZ(50,"th"),e._uU(51),e.qZA(),e.TgZ(52,"td")(53,"table")(54,"thead")(55,"th"),e._uU(56,"Nombre"),e.qZA(),e.TgZ(57,"th"),e._uU(58,"Precio"),e.qZA()(),e.YNc(59,dt,5,2,"tbody",9),e.qZA()()(),e.TgZ(60,"tr")(61,"th"),e._uU(62," Abonos"),e.qZA(),e.TgZ(63,"th"),e._uU(64),e.qZA(),e.TgZ(65,"td")(66,"table")(67,"thead")(68,"th"),e._uU(69,"Monto"),e.qZA(),e.TgZ(70,"th"),e._uU(71,"Metodo Pago"),e.qZA()(),e.YNc(72,pt,5,2,"tbody",9),e.qZA()()(),e.TgZ(73,"tr")(74,"th"),e._uU(75," Sub Total"),e.qZA(),e.TgZ(76,"th"),e._uU(77),e.qZA(),e._UZ(78,"td"),e.qZA(),e.TgZ(79,"tr")(80,"th"),e._uU(81," Total"),e.qZA(),e.TgZ(82,"th"),e._uU(83),e.qZA(),e._UZ(84,"td"),e.qZA()()(),e.TgZ(85,"div",15)(86,"button",66),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.enviarReservar())}),e.qZA()()()()()()}if(2&a){const t=e.oxw();e.Akn(e.DdM(30,Y)),e.Q6J("visible",t.reservacionModalVisible)("modal",!0)("draggable",!1)("resizable",!1),e.xp6(2),e.Q6J("formGroup",t.reservaForm),e.xp6(2),e.hij("",t.nombreHabitacionReservada," "),e.xp6(5),e.Q6J("options",t.clienteData),e.xp6(3),e.Q6J("ngIf",t.reservaForm.get("cliente_id").hasError("required")),e.xp6(4),e.Q6J("options",t.tarifaData),e.xp6(2),e.Q6J("ngIf",t.reservaForm.get("tarifa_id").hasError("required")),e.xp6(2),e.MGl("header","Abonos $ ",t.abonosTotal||0,""),e.Q6J("toggleable",!0)("collapsed",t.collapsed),e.xp6(2),e.Q6J("ngForOf",t.formAbonosArray.controls),e.xp6(4),e.Q6J("minDate",t.hoy)("showIcon",!0),e.xp6(1),e.Q6J("ngIf",t.reservaForm.get("fechaFinal").value<t.reservaForm.get("fechaInicio").value&&t.reservaForm.get("fechaFinal").value),e.xp6(4),e.Q6J("minDate",t.hoy)("showIcon",!0),e.xp6(1),e.Q6J("ngIf",t.reservaForm.get("fechaFinal").value<=t.reservaForm.get("fechaInicio").value&&t.reservaForm.get("fechaFinal").value),e.xp6(5),e.Q6J("ngIf",t.abonosTotal>t.totalPagarReserva),e.xp6(14),e.hij(" $ ",t.tarifasTotal," "),e.xp6(8),e.Q6J("ngForOf",t.reservaForm.get("tarifa_id").value),e.xp6(5),e.hij(" $ ",t.abonosTotal," "),e.xp6(8),e.Q6J("ngForOf",t.formAbonosArray.value),e.xp6(5),e.hij(" $ ",t.totalPagarReserva<=0?0:t.totalPagarReserva," "),e.xp6(6),e.hij(" $ ",t.totalPagarReserva-t.abonosTotal<=0?0:t.totalPagarReserva-t.abonosTotal," "),e.xp6(3),e.Q6J("disabled",t.reservaForm.invalid||t.formAbonosArray.invalid||t.abonosTotal>t.totalPagarReserva||t.reservaForm.get("fechaFinal").value<=t.reservaForm.get("fechaInicio").value)}}function ht(a,r){if(1&a&&(e.TgZ(0,"div",67)(1,"span",68),e._uU(2),e.qZA()()),2&a){const t=r.$implicit;e.xp6(2),e.Oqu(t.name)}}function mt(a,r){1&a&&(e.TgZ(0,"div",70),e._uU(1,"Campo requerido"),e.qZA())}function _t(a,r){1&a&&(e.TgZ(0,"div",70),e._uU(1,"Campo requerido"),e.qZA())}function gt(a,r){1&a&&e._UZ(0,"p-message",82)}function ft(a,r){if(1&a&&(e.TgZ(0,"div",67)(1,"span",68),e._uU(2),e.qZA()()),2&a){const t=r.$implicit;e.xp6(2),e.Oqu(t.name)}}function bt(a,r){1&a&&(e.TgZ(0,"div",70),e._uU(1,"Campo requerido"),e.qZA())}function vt(a,r){1&a&&(e.TgZ(0,"div",70),e._uU(1,"Campo requerido"),e.qZA())}function Tt(a,r){1&a&&e._UZ(0,"p-message",82)}function Zt(a,r){if(1&a&&(e.TgZ(0,"div",67)(1,"span",68),e._uU(2),e.qZA()()),2&a){const t=r.$implicit;e.xp6(2),e.Oqu(t.nombre)}}function At(a,r){if(1&a){const t=e.EpF();e.TgZ(0,"button",69),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.crearCliente())}),e.qZA()}}function Ct(a,r){1&a&&(e.TgZ(0,"div",70),e._uU(1,"Seleccione el cliente"),e.qZA())}function xt(a,r){1&a&&(e.TgZ(0,"div")(1,"h5"),e._uU(2,"Hora"),e.qZA()())}function yt(a,r){1&a&&(e.TgZ(0,"div")(1,"h5"),e._uU(2,"Noche"),e.qZA()())}function It(a,r){if(1&a&&(e.TgZ(0,"div",67)(1,"span",68),e._uU(2),e._UZ(3,"p-tag",71),e.YNc(4,xt,3,0,"div",47),e.YNc(5,yt,3,0,"div",47),e.qZA()()),2&a){const t=r.$implicit;e.xp6(2),e.hij(" ",t.nombre," "),e.xp6(1),e.s9C("icon",t.icon),e.s9C("value",t.valor),e.xp6(1),e.Q6J("ngIf",2==t.tipo),e.xp6(1),e.Q6J("ngIf",1==t.tipo)}}function Rt(a,r){1&a&&(e.TgZ(0,"div",70),e._uU(1,"Seleccione la tarifa"),e.qZA())}function qt(a,r){1&a&&(e.TgZ(0,"div",70),e._uU(1,"Monto es requerido."),e.qZA())}function Dt(a,r){if(1&a){const t=e.EpF();e.TgZ(0,"div",72)(1,"div",73)(2,"label",74),e._uU(3,"Monto"),e.qZA(),e._UZ(4,"br"),e.TgZ(5,"input",75),e.NdJ("input",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.checkAbonoOcupar())}),e.qZA(),e._UZ(6,"br"),e.YNc(7,qt,2,0,"div",18),e.qZA(),e.TgZ(8,"div",73)(9,"label",76),e._uU(10,"Medio Pago"),e.qZA(),e._UZ(11,"br")(12,"p-dropdown",77),e.qZA(),e.TgZ(13,"div",78),e._UZ(14,"label",79)(15,"br"),e.TgZ(16,"p-button",80),e.NdJ("click",function(){const n=e.CHM(t).index,s=e.oxw(2);return e.KtG(s.eliminarAbonoOcupar(n))}),e.qZA()()()}if(2&a){const t=r.$implicit,i=e.oxw(2);e.Q6J("formGroup",t),e.xp6(7),e.Q6J("ngIf",null==t||null==t.controls.monto||null==t.controls.monto.errors?null:t.controls.monto.errors.required),e.xp6(5),e.Q6J("options",i.selectMedioPago)}}function Ft(a,r){1&a&&e._UZ(0,"p-message",81)}function St(a,r){if(1&a&&(e.TgZ(0,"tbody")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA()()),2&a){const t=r.$implicit;e.xp6(2),e.hij(" ",t.nombre," "),e.xp6(2),e.hij(" ",t.valor," ")}}function Ot(a,r){if(1&a&&(e.TgZ(0,"tbody")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA()()),2&a){const t=r.$implicit;e.xp6(2),e.hij(" ",t.monto," "),e.xp6(2),e.hij(" ",t.medio_pago.nombre," ")}}function Ut(a,r){if(1&a){const t=e.EpF();e.TgZ(0,"p-dialog",83),e.NdJ("visibleChange",function(o){e.CHM(t);const n=e.oxw();return e.KtG(n.ocuparModalVisible=o)}),e.TgZ(1,"div",12)(2,"div",13),e.NdJ("ngSubmit",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.enviarOcupar())}),e.TgZ(3,"h2",44),e._uU(4),e.qZA(),e.TgZ(5,"div",14)(6,"div",15)(7,"label",55),e._uU(8,"Cliente"),e.qZA(),e.TgZ(9,"p-multiSelect",84),e.NdJ("onFilter",function(o){e.CHM(t);const n=e.oxw();return e.KtG(n.busquedaCliente(o))}),e.YNc(10,Zt,3,1,"ng-template",17),e.YNc(11,At,1,0,"ng-template",57),e.qZA(),e.YNc(12,Ct,2,0,"div",18),e.qZA(),e.TgZ(13,"div",15)(14,"label",55),e._uU(15,"Tarifa"),e.qZA(),e.TgZ(16,"p-multiSelect",58),e.NdJ("onChange",function(o){e.CHM(t);const n=e.oxw();return e.KtG(n.checkTarifaOcupar(o))}),e.YNc(17,It,6,5,"ng-template",17),e.qZA(),e.YNc(18,Rt,2,0,"div",18),e.qZA(),e.TgZ(19,"div",15)(20,"p-panel",59)(21,"button",60),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.agregarAbonoOcupar())}),e.qZA(),e.YNc(22,Dt,17,3,"div",61),e.qZA()(),e.TgZ(23,"div",15)(24,"label"),e._uU(25,"Descripcion"),e.qZA(),e._UZ(26,"textarea",22),e.qZA(),e.YNc(27,Ft,1,0,"p-message",64),e.TgZ(28,"div",15)(29,"table")(30,"tr")(31,"th",65),e._uU(32,"Nombre"),e.qZA(),e.TgZ(33,"th"),e._uU(34,"Valores"),e.qZA(),e.TgZ(35,"td"),e._uU(36,"Detalle"),e.qZA()(),e.TgZ(37,"tr")(38,"th"),e._uU(39," Tarifas"),e.qZA(),e.TgZ(40,"th"),e._uU(41),e.qZA(),e.TgZ(42,"td")(43,"table")(44,"thead")(45,"th"),e._uU(46,"Nombre"),e.qZA(),e.TgZ(47,"th"),e._uU(48,"Precio"),e.qZA()(),e.YNc(49,St,5,2,"tbody",9),e.qZA()()(),e.TgZ(50,"tr")(51,"th"),e._uU(52," Abonos"),e.qZA(),e.TgZ(53,"th"),e._uU(54),e.qZA(),e.TgZ(55,"td")(56,"table")(57,"thead")(58,"th"),e._uU(59,"Monto"),e.qZA(),e.TgZ(60,"th"),e._uU(61,"Metodo Pago"),e.qZA()(),e.YNc(62,Ot,5,2,"tbody",9),e.qZA()()(),e.TgZ(63,"tr")(64,"th"),e._uU(65," Sub Total"),e.qZA(),e.TgZ(66,"th"),e._uU(67),e.qZA(),e._UZ(68,"td"),e.qZA(),e.TgZ(69,"tr")(70,"th"),e._uU(71," Total"),e.qZA(),e.TgZ(72,"th"),e._uU(73),e.qZA(),e._UZ(74,"td"),e.qZA()()(),e.TgZ(75,"div",15)(76,"button",85),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.enviarOcupar())}),e.qZA()()()()()()}if(2&a){const t=e.oxw();e.Akn(e.DdM(24,Y)),e.Q6J("visible",t.ocuparModalVisible)("modal",!0)("draggable",!1)("resizable",!1),e.xp6(2),e.Q6J("formGroup",t.ocuparForm),e.xp6(2),e.hij("",t.nombreHabitacionReservada," "),e.xp6(5),e.Q6J("options",t.clienteData),e.xp6(3),e.Q6J("ngIf",t.ocuparForm.get("cliente_id").hasError("required")),e.xp6(4),e.Q6J("options",t.tarifaData),e.xp6(2),e.Q6J("ngIf",t.ocuparForm.get("tarifa_id").hasError("required")),e.xp6(2),e.MGl("header","Abonos $ ",t.abonosTotalOcupar||0,""),e.Q6J("toggleable",!0)("collapsed",t.collapsed),e.xp6(2),e.Q6J("ngForOf",t.formAbonoOcuparArray.controls),e.xp6(5),e.Q6J("ngIf",t.abonosTotalOcupar>t.totalPagarOcupar),e.xp6(14),e.hij(" $ ",t.tarifasTotalOcupar," "),e.xp6(8),e.Q6J("ngForOf",t.ocuparForm.get("tarifa_id").value),e.xp6(5),e.hij(" $ ",t.abonosTotalOcupar," "),e.xp6(8),e.Q6J("ngForOf",t.formAbonoOcuparArray.value),e.xp6(5),e.hij(" $ ",t.totalPagarOcupar<=0?0:t.totalPagarOcupar," "),e.xp6(6),e.hij(" $ ",t.totalPagarOcupar-t.abonosTotalOcupar<=0?0:t.totalPagarOcupar-t.abonosTotalOcupar," "),e.xp6(3),e.Q6J("disabled",t.ocuparForm.invalid||t.formAbonoOcuparArray.invalid||t.abonosTotalOcupar>t.totalPagarOcupar)}}function wt(a,r){if(1&a){const t=e.EpF();e.TgZ(0,"app-clientes",86,87),e.NdJ("clienteCreado",function(o){e.CHM(t);const n=e.oxw();return e.KtG(n.handleClienteCreado(o))}),e.qZA()}if(2&a){const t=e.oxw();e.Q6J("vieneDeHabitaciones",t.creandoCliente)}}const z=function(){return{width:"50vw",height:"150vw"}};let Jt=(()=>{class a{ngOnInit(){this.creandoCliente=!1,this.buildForm(),this.pisoId=1,this.primerPiso=this.pisoId;let t=JSON.parse(localStorage.getItem("currentUser"));this.hotelId=t.usuario.datalle_hoteles[0].hotel_id,this.getRoomsDashboardPisos(),this.clienteData=[],this.ProductoServicioData=[],this.empleadosData=[],this.tarifaData=[],this.hoy=new Date}constructor(t,i,o,n,s,u){this.dashboardRoomsService=t,this.FB=i,this.spinner=o,this.datePipe=n,this.router=s,this.layoutService=u,this.dayNamesSpanish=["Domingo","Lunes","Martes","Mi\xe9rcoles","Jueves","Viernes","S\xe1bado"],this.dayNamesShortSpanish=["Dom","Lun","Mar","Mi\xe9","Jue","Vie","S\xe1b"],this.monthNamesSpanish=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],this.monthNamesShortSpanish=["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],this.localeSettingsSpanish={firstDayOfWeek:1,dayNames:this.dayNamesSpanish,dayNamesShort:this.dayNamesShortSpanish,monthNames:this.monthNamesSpanish,monthNamesShort:this.monthNamesShortSpanish,today:"Hoy",clear:"Borrar",dateFormat:"dd/mm/yy",weekHeader:"Sm"},this.selectedMulti=[],this.primerPiso=1,this.pisoSeleccionado=1,this.dataRoom=[],this.ProductoServicioDataSeleccionados=[],this.visibleModalLimpieza=!1,this.visibleModalMantenimiento=!1,this.selectMedioPago=[],this.reservacionModalVisible=!1,this.ocuparModalVisible=!1,this.tarifaData=[],this.tarifasTotal=0,this.abonosTotal=0,this.totalPagarReserva=0,this.tarifasTotalOcupar=0,this.abonosTotalOcupar=0,this.totalPagarOcupar=0,this.disableButtonMantenimiento=!1,this.disableButtonLimpieza=!1,this.creandoCliente=!1,this.collapsed=!0}buildForm(){this.spinner.hide(),this.formLimpieza=this.FB.group({descripcion:["",[]],empleado:["",[l.kI.required]],fechaInicio:["",[l.kI.required]],fechaFinal:["",[l.kI.required]]}),this.formMantenimiento=this.FB.group({descripcion:["",[]],empleado:["",[l.kI.required]],fechaInicio:["",[l.kI.required]],fechaFinal:["",[l.kI.required]]}),this.reservaForm=this.FB.group({cliente_id:["",[l.kI.required]],tarifa_id:["",[l.kI.required]],producto_id:["",[]],abonos:this.formAbonosArray,descripcion:["",[]],fechaInicio:["",[l.kI.required]],fechaFinal:["",[l.kI.required]]}),this.ocuparForm=this.FB.group({cliente_id:["",[l.kI.required]],tarifa_id:["",[l.kI.required]],producto_id:["",[]],abonos:this.formAbonoOcuparArray,descripcion:["",[]]}),this.formAbonosArray=this.FB.array([]),this.formAbonoOcuparArray=this.FB.array([])}getRoomsDashboard(t=0){this.dashboardRoomsService.getDashboardRooms({hotel_id:this.hotelId,piso_id:this.pisoId,estado_id:t}).subscribe(o=>{this.dataRoom.forEach(s=>{this.pisoId==s.piso&&(s.habitaciones=[])});let n=this.dataRoom.find(s=>s.piso==this.pisoId);n.loading=!1,o.forEach(s=>{n.habitaciones.push({nombre:s.nombre,json:s.diseno_json,id:s.id,detalle:s.habitacion_estado,tipoHabitacion:s.tipo_habitacion,habitacionNombre:JSON.parse(s.tipo_habitacion.diseno_json).puerta,piso:s.piso,habitacionEstado:s.habitacion_estado})}),this.dataRoom.forEach(s=>{this.pisoId==s.piso&&(s=n)})},o=>{console.log("Error: ",o)})}getRoomsDashboardPisos(t=0){this.dashboardRoomsService.getPisos({hotel_id:this.hotelId,piso_id:this.pisoId,estado_id:t}).subscribe(o=>{this.dataRoomsPisos=[],this.dataRoomsPisos=o.pisos,this.dataRoomsPisos.forEach(n=>{this.dataRoom.push({piso:n.piso,habitaciones:[],loading:!0})}),this.getRoomsDashboard(t)},o=>{console.log("Error: ",o)})}openTag(t){this.pisoId=t,this.getRoomsDashboard()}opcionSeleccionada(t,i){this.estadoHabitacion=t.item.id,this.formAbonosArray=this.FB.array([]),this.formAbonoOcuparArray=this.FB.array([]),setTimeout(()=>{this.accionMenuHabitaciones()},500)}accionMenuHabitaciones(){let t={};if(5==this.estadoHabitacion){const i=(new Date).setDate((new Date).getDate()+1);this.reservaForm.reset(),this.formAbonosArray.clear(),this.abonosTotal=0,this.tarifasTotal=0,this.totalPagarReserva=0,this.collapsed=!0,this.getReserva(),this.reservaForm.get("fechaInicio").setValue(new Date),this.reservaForm.get("fechaFinal").setValue(new Date(i)),this.reservacionModalVisible=!0}else 2==this.estadoHabitacion?(this.ocuparForm.reset(),this.formAbonoOcuparArray.clear(),this.abonosTotalOcupar=0,this.tarifasTotalOcupar=0,this.totalPagarOcupar=0,this.collapsed=!0,this.getReserva(),this.ocuparModalVisible=!0):4==this.estadoHabitacion?this.getDataEmpleado({hotel_id:this.habitacionId,estado:4}):6==this.estadoHabitacion?this.getDataEmpleado({hotel_id:this.habitacionId,estado:6}):20==this.estadoHabitacion?(t={id_habitacion:this.habitacionId},p().fire({title:"\xbfEstas seguro que deseas Salir (Check Out)?",text:"",icon:"warning",showCancelButton:!0,confirmButtonText:"S\xed, Confirmar",cancelButtonText:"Cancelar"}).then(i=>{i.isConfirmed&&this.enviarDesocupar(t)})):50==this.estadoHabitacion?(t={id_habitacion:this.habitacionId},p().fire({title:"\xbfEstas seguro que deseas Anular la reserva?",text:"",icon:"warning",showCancelButton:!0,confirmButtonText:"S\xed, Confirmar",cancelButtonText:"Cancelar"}).then(i=>{i.isConfirmed&&this.enviarAnularReserva(t)})):40==this.estadoHabitacion?(t={id_habitacion:this.habitacionId},p().fire({title:"\xbfEstas seguro que deseas Anular La Limpieza?",text:"",icon:"warning",showCancelButton:!0,confirmButtonText:"S\xed, Confirmar",cancelButtonText:"Cancelar"}).then(i=>{i.isConfirmed&&this.enviarAnularLimpieza(t)})):60==this.estadoHabitacion?(t={id_habitacion:this.habitacionId},p().fire({title:"\xbfEstas seguro que deseas Anular el mantenimiento?",text:"",icon:"warning",showCancelButton:!0,confirmButtonText:"S\xed, Confirmar",cancelButtonText:"Cancelar"}).then(i=>{i.isConfirmed&&this.enviarAnularMantenimiento(t)})):8==this.estadoHabitacion&&this.router.navigate(["dashboard/dashboardRooms/"+this.habitacionId+"/ocupar"])}abrirMenu(t,i){this.op1.toggle(t);let o=[];this.habitacionId=i.id,this.nombreHabitacionReservada=i.nombre,this.tipoHabitacionId=i.tipoHabitacion.id,this.pisoSeleccionado=i.piso,this.estadoHabitacionActual=i.habitacionEstado,this.detalleHabitacion=i.detalle,this.estadoHabitacionActual.forEach(u=>{o.push(u.estado_id)});let n=[];if(o.includes(5)||n.push({label:"Reservar",icon:"pi pi-calendar-times",id:"5",command:u=>this.opcionSeleccionada(u,i),visible:!0,disabled:!1}),o.includes(4)||n.push({label:"Limpieza",icon:"pi pi-exclamation-triangle",id:"4",command:u=>this.opcionSeleccionada(u,i),visible:!0,disabled:!!o.includes(2)}),(o.includes(2)||o.includes(7))&&n.push({label:"Ver Ingreso",icon:"pi pi-book",id:"8",command:u=>this.opcionSeleccionada(u,i),visible:!0,disabled:!o.includes(7)&&!o.includes(2)}),!o.includes(2)){let u=!1;i.detalle&&i.detalle.forEach(d=>{if(5==d.estado_id){let f=new Date(d.fecha_inicio),Ao=f.getFullYear()+"/"+f.getMonth()+"/"+f.getDate();(new Date).getFullYear()+"/"+(new Date).getMonth()+"/"+(new Date).getDate()==Ao&&(u=!0)}}),n.push({label:"Ingresar (Check In)",icon:"pi pi-lock",id:"2",command:d=>this.opcionSeleccionada(d,i),visible:!0,disabled:!!o.includes(7)||o.includes(4)||o.includes(6)})}o.includes(6)||n.push({label:"Mantenimiento",icon:"pi pi-wrench",id:"6",command:u=>this.opcionSeleccionada(u,i),visible:!0,disabled:!!o.includes(2)});let s=!1;o.forEach(u=>{switch(u){case 5:s||(n.push({label:"Reservar",icon:"pi pi-calendar-times",id:"5",command:d=>this.opcionSeleccionada(d,i),visible:!0,disabled:!1}),s=!0);break;case 4:n.push({label:"Anular Limpieza",icon:"pi pi-exclamation-triangle",id:"40",command:d=>this.opcionSeleccionada(d,i),visible:!0,disabled:!!o.includes(2)});break;case 6:n.push({label:"Anular Mantenimiento",icon:"pi pi-wrench",id:"60",command:d=>this.opcionSeleccionada(d,i),visible:!0,disabled:!!o.includes(2)});break;case 2:n.push({label:"Salir (Check Out)",icon:"pi pi-lock-open",id:"20",command:d=>this.opcionSeleccionada(d,i),visible:!0})}}),this.menuHabitacion=[{label:"Opciones",items:n}]}enviarDesocupar(t){this.dashboardRoomsService.desocupar(t).subscribe(i=>{let o=i;"success"==o.code?(p().fire({title:"Exito",text:"Anulacion Exitosa.",icon:"success"}),this.openTag(this.pisoSeleccionado)):"warning"==o.code?p().fire({title:"Advertencia",text:o.error,icon:"warning"}):p().fire({title:"Error",text:"Error al anular.",icon:"error"})},i=>{console.log("Error: ",i)})}enviarAnularReserva(t){this.dashboardRoomsService.anularReserva(t).subscribe(i=>{let o=i;"success"==o.code?(p().fire({title:"Exito",text:"Anulacion Exitosa.",icon:"success"}),this.layoutService.reloadComponent(),this.openTag(this.pisoSeleccionado)):"warning"==o.code?p().fire({title:"Advertencia",text:o.error,icon:"warning"}):p().fire({title:"Error",text:"Error al anular.",icon:"error"})},i=>{console.log("Error: ",i)})}enviarAnularLimpieza(t){this.dashboardRoomsService.anularLimpieza(t).subscribe(i=>{let o=i;"success"==o.code?(p().fire({title:"Exito",text:"Anulacion Exitosa.",icon:"success"}),this.openTag(this.pisoSeleccionado)):"warning"==o.code?p().fire({title:"Advertencia",text:o.error,icon:"warning"}):p().fire({title:"Error",text:"Error al anular.",icon:"error"})},i=>{console.log("Error: ",i)})}enviarAnularMantenimiento(t){this.spinner.show(),this.dashboardRoomsService.anularMantenimiento(t).subscribe(i=>{this.spinner.hide();let o=i;"success"==o.code?(p().fire({title:"Exito",text:"Anulacion Exitosa.",icon:"success"}),this.openTag(this.pisoSeleccionado)):"warning"==o.code?p().fire({title:"Advertencia",text:o.error,icon:"warning"}):p().fire({title:"Error",text:"Error al anular.",icon:"error"})},i=>{console.log("Error: ",i)})}enviarMantenimiento(t){this.spinner.show(),this.dashboardRoomsService.mantenimiento(t).subscribe(i=>{this.spinner.hide(),this.visibleModalMantenimiento=!1;let o=i;"success"==o.code?(p().fire({title:"Exito",text:"Registro exitoso.",icon:"success"}),this.openTag(this.pisoSeleccionado)):"warning"==o.code?p().fire({title:"Advertencia",text:o.error,icon:"warning"}):p().fire({title:"Error",text:"Error al registrar.",icon:"error"})},i=>{console.log("Error: ",i)})}enviarOcuparReserva(t){this.spinner.show(),this.dashboardRoomsService.ocuparReserva(t).subscribe(i=>{this.spinner.hide();let o=i;this.ocuparModalVisible=!1,"success"==o.code?(p().fire({title:"Exito",text:"Ingreso exitoso.",icon:"success"}),this.openTag(this.pisoSeleccionado)):"warning"==o.code?p().fire({title:"Advertencia",text:o.error,icon:"warning"}):p().fire({title:"Error",text:"Error al generar el ingreso.",icon:"error"})},i=>{console.log("Error: ",i)})}enviarLimpieza(t){this.spinner.show(),this.dashboardRoomsService.limpieza(t).subscribe(i=>{this.spinner.hide();let o=i;this.visibleModalLimpieza=!1,"success"==o.code?(p().fire({title:"Exito",text:"Registro exitoso.",icon:"success"}),this.openTag(this.pisoSeleccionado)):"warning"==o.code?p().fire({title:"Advertencia",text:o.error,icon:"warning"}):p().fire({title:"Error",text:"Error al registrar.",icon:"error"})},i=>{console.log("Error: ",i)})}getDataEmpleado(t){this.spinner.show(),this.dashboardRoomsService.getEmpleadoHabitacion(t).subscribe(i=>{this.spinner.hide(),this.empleadosData=[],i.empleados.forEach(o=>{this.empleadosData.push({name:o.nombres+" "+o.apellidos,code:o.id})}),4==t.estado?(this.formLimpieza.reset(),this.visibleModalLimpieza=!0):6==t.estado&&(this.formMantenimiento.reset(),this.visibleModalMantenimiento=!0)},i=>{this.spinner.hide(),console.log("Error: ",i)})}submitAsignarMantenimiento(){if(this.formMantenimiento.valid){let t={empleado_id:this.formMantenimiento.value.empleado[0].code,descripcion:this.formMantenimiento.value.descripcion,fecha_final:this.datePipe.transform(this.formMantenimiento.value.fechaFinal,"yyyy-MM-dd HH:mm:ss"),fecha_inicio:this.datePipe.transform(this.formMantenimiento.value.fechaInicio,"yyyy-MM-dd HH:mm:ss"),habitacion_id:this.habitacionId};this.enviarMantenimiento(t)}}changeFechaMantenimiento(){let t=this.formMantenimiento.get("fechaInicio").value,i=this.formMantenimiento.get("fechaFinal").value;this.disableButtonMantenimiento=t>i}changeFechaLimpieza(t){let i=this.formLimpieza.get("fechaInicio").value,o=this.formLimpieza.get("fechaFinal").value;this.disableButtonLimpieza=i>o}validarEstado(t,i){return t.filter(n=>n.estado_id==i).length}orderar(t){this.dataRoom=[],this.getRoomsDashboardPisos(t)}busquedaCliente(t){this.getReserva(t.filter)}submitAsignarLimpieza(){if(this.formLimpieza.valid){let t={empleado_id:this.formLimpieza.value.empleado[0].code,descripcion:this.formLimpieza.value.descripcion,fecha_final:this.datePipe.transform(this.formLimpieza.value.fechaFinal,"yyyy-MM-dd HH:mm:ss"),fecha_inicio:this.datePipe.transform(this.formLimpieza.value.fechaInicio,"yyyy-MM-dd HH:mm:ss"),habitacion_id:this.habitacionId};this.enviarLimpieza(t)}}opcionesHabitacion(t){}getReserva(t=""){this.spinner.show(),this.dashboardRoomsService.getReserva({hotel_id:this.hotelId,cliente_busqueda:t,tipo_habitacion:this.tipoHabitacionId}).subscribe(o=>{this.spinner.hide();let n=o.cliente,s=o.metodos_pago,u=o.tarifa;this.clienteData=[],this.selectMedioPago=[],this.tarifaData=[],n.forEach(d=>{this.clienteData.push({nombre:d.numero_documento+" "+d.nombres+" "+(d.apellidos?d.apellidos:""),code:d.numero_documento,id:d.id})}),s.forEach(d=>{this.selectMedioPago.push({nombre:d.nombre,id:d.id})}),u.forEach(d=>{d.tipo_habitacion_id==this.tipoHabitacionId&&this.tarifaData.push({nombre:d.nombre,id:d.id,tipo:d.tipo,valor:d.valor,tipo_habitacion_id:d.tipo_habitacion_id,icon:1!=d.tipo?"pi pi-hourglass":"pi pi-moon"})})},o=>{this.spinner.hide(),console.log("Error: ",o)})}checkTarifaReserva(t){this.tarifasTotal=0,this.reservaForm.get("tarifa_id").value.forEach(i=>{this.tarifasTotal=this.tarifasTotal+parseInt(i.valor)}),this.totalPagarReserva=0,this.totalPagarReserva=this.tarifasTotal}checkAbonos(){this.abonosTotal=0,this.formAbonosArray.value.forEach(t=>{this.abonosTotal=this.abonosTotal+parseFloat(t.monto)})}agregarAbono(){let t=this.FB.group({monto:["",[l.kI.required,l.kI.min(0)]],medio_pago:[this.selectMedioPago[0],[l.kI.required,l.kI.min(0)]]});this.formAbonosArray.push(t)}eliminarAbono(t){this.formAbonosArray.removeAt(t),this.checkAbonos()}enviarReservar(){this.spinner.show();let t={hotel_id:this.hotelId,habitacion_id:this.habitacionId,cliente_id:this.reservaForm.get("cliente_id").value[0].id,tarifas:this.reservaForm.get("tarifa_id").value,abonos:this.formAbonosArray.value,descripcion:this.reservaForm.get("descripcion").value,fecha_inicio:this.datePipe.transform(this.reservaForm.get("fechaInicio").value,"yyyy-MM-dd HH:mm:ss"),fecha_final:this.datePipe.transform(this.reservaForm.get("fechaFinal").value,"yyyy-MM-dd HH:mm:ss"),subtotal:this.totalPagarReserva-this.abonosTotal,total:this.totalPagarReserva,productos:[]};this.dashboardRoomsService.reservar(t).subscribe(i=>{this.spinner.hide();let o=i;this.reservacionModalVisible=!1,"success"==o.code?(this.layoutService.reloadComponent(),p().fire({title:"Exito",text:"Reservacion exitosa.",icon:"success"}),this.openTag(this.pisoSeleccionado)):"warning"==o.code?p().fire({title:"Advertencia",text:o.error,icon:"warning"}):p().fire({title:"Error",text:"Error al generar la reserva.",icon:"error"})},i=>{console.log("Error: ",i)})}checkTarifaOcupar(t){this.tarifasTotalOcupar=0,this.ocuparForm.get("tarifa_id").value.forEach(i=>{this.tarifasTotalOcupar=this.tarifasTotalOcupar+parseInt(i.valor)}),this.totalPagarOcupar=this.tarifasTotalOcupar}checkAbonoOcupar(){this.abonosTotalOcupar=0,this.formAbonoOcuparArray.value.forEach(t=>{this.abonosTotalOcupar=this.abonosTotalOcupar+parseFloat(t.monto)})}agregarAbonoOcupar(){let t=this.FB.group({monto:["",[l.kI.required,l.kI.min(0)]],medio_pago:[this.selectMedioPago[0],[l.kI.required,l.kI.min(0)]]});this.formAbonoOcuparArray.push(t)}eliminarAbonoOcupar(t){this.formAbonoOcuparArray.removeAt(t),this.checkAbonoOcupar()}enviarOcupar(){this.spinner.show();let t={cliente_id:this.ocuparForm.get("cliente_id").value[0].id,total:this.totalPagarOcupar,subtotal:this.totalPagarOcupar-this.abonosTotalOcupar,tarifas:this.ocuparForm.get("tarifa_id").value,productos:[],descripcion:this.ocuparForm.get("descripcion").value,habitacion_id:this.habitacionId,hotel_id:this.hotelId,abonos:this.formAbonoOcuparArray.value};this.dashboardRoomsService.ocupar(t).subscribe(i=>{this.spinner.hide();let o=i;this.ocuparModalVisible=!1,"success"==o.code?(p().fire({title:"Exito",text:"Ingreso exitosa.",icon:"success"}),this.layoutService.reloadComponent(),this.openTag(this.pisoSeleccionado)):"warning"==o.code?p().fire({title:"Advertencia",text:o.error,icon:"warning"}):p().fire({title:"Error",text:"Error al generar el ingreso.",icon:"error"})},i=>{console.log("Error: ",i)})}crearCliente(){this.creandoCliente=!0}handleClienteCreado(t){this.creandoCliente=!1,t&&this.getReserva(),this.collapsed=!(this.formAbonosArray.length>0||this.formAbonoOcuparArray.length>0)}static#e=this.\u0275fac=function(i){return new(i||a)(e.Y36(R.y),e.Y36(l.qu),e.Y36(Z.t2),e.Y36(h.uU),e.Y36(b.F0),e.Y36(J.P))};static#t=this.\u0275cmp=e.Xpm({type:a,selectors:[["app-dashboard-rooms"]],viewQuery:function(i,o){if(1&i&&e.Gf(Qe,5),2&i){let n;e.iGM(n=e.CRH())&&(o.op1=n.first)}},decls:66,vars:34,consts:[["type","ball-scale-multiple","fullScreen","true"],[1,"card"],["icon","pi pi-calendar-times","value","Reservada",1,"padding","habilitarCursor",3,"click"],["icon","pi pi-lock-open","severity","success","value","Disponible",1,"padding","habilitarCursor",3,"click"],["icon","pi pi-exclamation-triangle","severity","info","value","Limpieza",1,"padding","habilitarCursor",3,"click"],["icon","pi pi-wrench","severity","warning","value","Mantenimiento",1,"padding","habilitarCursor",3,"click"],["icon","pi pi-lock","severity","danger","value","Ocupada",1,"padding","habilitarCursor",3,"click"],["icon","pi pi-dollar","severity","success","value","Facturar",1,"padding","habilitarCursor",3,"click"],["value","Ninguna",1,"padding","habilitarCursor",3,"click"],[4,"ngFor","ngForOf"],["header","Reservar",3,"visible","modal","style","draggable","resizable","visibleChange",4,"ngIf"],["header","Asignar Limpieza","dateFormat","dd/mm/yy",3,"visible","modal","draggable","resizable","visibleChange"],[1,"col-12"],[3,"formGroup","ngSubmit"],[1,"p-fluid","p-formgrid","grid"],[1,"field","col-12","md:col-12"],["formControlName","empleado","selectionLimit","1","optionLabel","name","placeholder","Buscar Empleados","optionLabel","name","display","chip","emptyMessage","Empleado no encontrado",1,"multiselect-custom",3,"options"],["pTemplate","item"],["style","color: red;",4,"ngIf"],[1,"field","col-12","md:col-6"],["locale","localeSettingsSpanish","inputId","fechaInicioLimpieza","formControlName","fechaInicio","showTime","true",1,"ng-dirty",3,"showIcon","onSelect"],["locale","localeSettingsSpanish","inputId","fechaFinalLimpieza","formControlName","fechaFinal","showTime","true",1,"ng-dirty",3,"showIcon","onSelect"],["formControlName","descripcion","pInputTextarea","","rows","3","cols","20"],["severity","error","class","padding","text","La fecha final es mayor a la fecha inicial",4,"ngIf"],["pButton","","pRipple","","label","Asignar limpieza","type","submit",1,"w-full","bg-admin","boder-admin","mb-5","border-round-3xl",3,"disabled"],["header","Asignar Mantenimiento",3,"visible","modal","draggable","resizable","visibleChange"],["locale","localeSettingsSpanish","inputId","fechaInicioMantenimiento","formControlName","fechaInicio","showTime","true",1,"ng-dirty",3,"showIcon","onSelect"],["locale","localeSettingsSpanish","inputId","fechaFinalMantenimiento","formControlName","fechaFinal","showTime","true",1,"ng-dirty",3,"showIcon","onSelect"],["pButton","","pRipple","","label","Asignar Mantenimiento","type","submit",1,"w-full","bg-admin","boder-admin","mb-5","border-round-3xl",3,"disabled"],["header","Ingresar ",3,"visible","modal","style","draggable","resizable","visibleChange",4,"ngIf"],[3,"vieneDeHabitaciones","clienteCreado",4,"ngIf"],[1,"line-height-3","m-0",3,"header","selected","selectedChange"],["pTemplate","listItem"],["class","pi pi-spin pi-spinner","style","font-size: 4em;",4,"ngIf"],[1,"grid","p-fluid","mt-3"],["class","field col-12 md:col-3",4,"ngFor","ngForOf"],[1,"pi","pi-spin","pi-spinner",2,"font-size","4em"],[1,"field","col-12","md:col-3"],[1,"nomeRoome"],["pButton","",3,"label"],[1,"pi","pi-ellipsis-v",2,"font-size","2rem","margin-top","4%","cursor","pointer",3,"click"],[3,"showCloseIcon"],["op1",""],[3,"model","click"],[2,"text-align","center"],["width","80%","height","80%",1,"rooms",3,"src"],[1,"flex","flex-wrap","gap-2",2,"margin-left","20%"],[4,"ngIf"],["icon","pi pi-calendar-times",3,"value"],["icon","pi pi-lock-open","severity","success"],["icon","pi pi-exclamation-triangle","severity","info"],["icon","pi pi-wrench","severity","warning"],["icon","pi pi-lock","severity","danger"],["icon","pi pi-dollar","severity","success"],["header","Reservar",3,"visible","modal","draggable","resizable","visibleChange"],["for","cliente"],["formControlName","cliente_id","selectionLimit","1","placeholder","Buscar cliente","optionLabel","nombre","display","chip","emptyMessage","Cliente no encontrado",1,"multiselect-custom",3,"options","onFilter"],["pTemplate","footer"],["formControlName","tarifa_id","optionLabel","nombre","placeholder","Buscar Tarifa","optionLabel","nombre","emptyMessage","Tarifa no encontrada","display","chip",1,"multiselect-custom",3,"options","onChange"],[3,"header","toggleable","collapsed"],["pButton","","pRipple","","type","button","icon","pi pi-plus",1,"p-button-rounded",3,"click"],["style","margin-top: 5%;","class","grid formgrid",3,"formGroup",4,"ngFor","ngForOf"],["formControlName","fechaInicio","locale","localeSettingsSpanish","inputId","fechaInicio","showTime","true","dateFormat","dd/mm/yy",1,"ng-dirty",3,"minDate","showIcon"],["formControlName","fechaFinal","locale","localeSettingsSpanish","inputId","fechaFinal","showTime","true","dateFormat","dd/mm/yy",1,"ng-dirty",3,"minDate","showIcon"],["severity","error","class","padding","text","El abono es mayor a la cantidad agregada",4,"ngIf"],[2,"width","20%"],["pButton","","pRipple","","label","Crear Reserva","showTime","true","icon","pi pi-calendar-times","type","submit",1,"w-full","bg-admin","boder-admin","mb-5","border-round-3xl",3,"disabled","click"],[1,"flex","align-items-center"],[1,"ml-2"],["pButton","","pRipple","","label","Crear nuevo cliente","type","button","icon","pi pi-plus",1,"w-full","bg-blue","boder-blue","mb-5","border-round-3xl",3,"click"],[2,"color","red"],[1,"padding",3,"icon","value"],[1,"grid","formgrid",2,"margin-top","5%",3,"formGroup"],[1,"col-12","mb-2","lg:col-5","lg:mb-0"],["for","monto"],["type","number","min","1","id","monto","formControlName","monto","pInputText","","placeholder","Valor",3,"input"],["htmlFor","medioPago"],["formControlName","medio_pago","id","medioPago","optionLabel","nombre","placeholder","Seleccione una opci\xf3n",3,"options"],[1,"col-12","mb-2","lg:col-2","lg:mb-0"],["htmlFor","opciones"],["id","opciones","icon","pi pi-trash","severity","danger",3,"click"],["severity","error","text","El abono es mayor a la cantidad agregada",1,"padding"],["severity","error","text","La fecha final es mayor a la fecha inicial",1,"padding"],["header","Ingresar ",3,"visible","modal","draggable","resizable","visibleChange"],["formControlName","cliente_id","selectionLimit","1","optionLabel","nombre","placeholder","Buscar cliente","display","chip","emptyMessage","Cliente no encontrado",1,"multiselect-custom",3,"options","onFilter"],["pButton","","pRipple","","label","Crear Ingreso","icon","pi pi-calendar-times","type","submit",1,"w-full","bg-admin","boder-admin","mb-5","border-round-3xl",3,"disabled","click"],[3,"vieneDeHabitaciones","clienteCreado"],["clientes",""]],template:function(i,o){1&i&&(e._UZ(0,"ngx-spinner",0),e.TgZ(1,"div",1)(2,"div")(3,"p-tag",2),e.NdJ("click",function(){return o.orderar(5)}),e.qZA(),e.TgZ(4,"p-tag",3),e.NdJ("click",function(){return o.orderar(3)}),e.qZA(),e.TgZ(5,"p-tag",4),e.NdJ("click",function(){return o.orderar(4)}),e.qZA(),e.TgZ(6,"p-tag",5),e.NdJ("click",function(){return o.orderar(6)}),e.qZA(),e.TgZ(7,"p-tag",6),e.NdJ("click",function(){return o.orderar(2)}),e.qZA(),e.TgZ(8,"p-tag",7),e.NdJ("click",function(){return o.orderar(7)}),e.qZA(),e.TgZ(9,"p-tag",8),e.NdJ("click",function(){return o.orderar(0)}),e.qZA()(),e.TgZ(10,"h5"),e._uU(11,"Habitaciones"),e.qZA(),e.YNc(12,Ke,3,2,"p-accordion",9),e.qZA(),e.YNc(13,ut,87,31,"p-dialog",10),e.TgZ(14,"p-dialog",11),e.NdJ("visibleChange",function(s){return o.visibleModalLimpieza=s}),e.TgZ(15,"div",12)(16,"form",13),e.NdJ("ngSubmit",function(){return o.submitAsignarLimpieza()}),e.TgZ(17,"div",14)(18,"div",15)(19,"p-multiSelect",16),e.YNc(20,ht,3,1,"ng-template",17),e.qZA(),e.YNc(21,mt,2,0,"div",18),e.qZA(),e.TgZ(22,"div",19)(23,"label"),e._uU(24,"Fecha Inicio "),e.qZA(),e.TgZ(25,"p-calendar",20),e.NdJ("onSelect",function(s){return o.changeFechaLimpieza(s)}),e.qZA()(),e.TgZ(26,"div",19)(27,"label"),e._uU(28,"Fecha Final"),e.qZA(),e.TgZ(29,"p-calendar",21),e.NdJ("onSelect",function(s){return o.changeFechaLimpieza(s)}),e.qZA()(),e.TgZ(30,"div",15)(31,"label"),e._uU(32,"Descripcion"),e.qZA(),e._UZ(33,"textarea",22),e.YNc(34,_t,2,0,"div",18),e.qZA(),e.YNc(35,gt,1,0,"p-message",23),e.TgZ(36,"div",15),e._UZ(37,"button",24),e.qZA()(),e._UZ(38,"br"),e.qZA()()(),e.TgZ(39,"p-dialog",25),e.NdJ("visibleChange",function(s){return o.visibleModalMantenimiento=s}),e.TgZ(40,"div",12)(41,"form",13),e.NdJ("ngSubmit",function(){return o.submitAsignarMantenimiento()}),e.TgZ(42,"div",14)(43,"div",15)(44,"p-multiSelect",16),e.YNc(45,ft,3,1,"ng-template",17),e.qZA(),e.YNc(46,bt,2,0,"div",18),e.qZA(),e.TgZ(47,"div",19)(48,"label"),e._uU(49,"Fecha Inicio "),e.qZA(),e.TgZ(50,"p-calendar",26),e.NdJ("onSelect",function(){return o.changeFechaMantenimiento()}),e.qZA()(),e.TgZ(51,"div",19)(52,"label"),e._uU(53,"Fecha Final"),e.qZA(),e.TgZ(54,"p-calendar",27),e.NdJ("onSelect",function(){return o.changeFechaMantenimiento()}),e.qZA()(),e.TgZ(55,"div",15)(56,"label"),e._uU(57,"Descripcion"),e.qZA(),e._UZ(58,"textarea",22),e.YNc(59,vt,2,0,"div",18),e.qZA(),e.YNc(60,Tt,1,0,"p-message",23),e.TgZ(61,"div",15),e._UZ(62,"button",28),e.qZA()(),e._UZ(63,"br"),e.qZA()()(),e.YNc(64,Ut,77,25,"p-dialog",29),e.YNc(65,wt,2,1,"app-clientes",30)),2&i&&(e.xp6(12),e.Q6J("ngForOf",o.dataRoom),e.xp6(1),e.Q6J("ngIf",!o.creandoCliente),e.xp6(1),e.Akn(e.DdM(32,z)),e.Q6J("visible",o.visibleModalLimpieza)("modal",!0)("draggable",!1)("resizable",!1),e.xp6(2),e.Q6J("formGroup",o.formLimpieza),e.xp6(3),e.Q6J("options",o.empleadosData),e.xp6(2),e.Q6J("ngIf",o.formLimpieza.get("empleado").hasError("required")),e.xp6(4),e.Q6J("showIcon",!0),e.xp6(4),e.Q6J("showIcon",!0),e.xp6(5),e.Q6J("ngIf",o.formLimpieza.get("descripcion").hasError("required")),e.xp6(1),e.Q6J("ngIf",o.formLimpieza.get("fechaInicio").value>o.formLimpieza.get("fechaFinal").value),e.xp6(2),e.Q6J("disabled",o.formLimpieza.invalid||o.disableButtonLimpieza),e.xp6(2),e.Akn(e.DdM(33,z)),e.Q6J("visible",o.visibleModalMantenimiento)("modal",!0)("draggable",!1)("resizable",!1),e.xp6(2),e.Q6J("formGroup",o.formMantenimiento),e.xp6(3),e.Q6J("options",o.empleadosData),e.xp6(2),e.Q6J("ngIf",o.formMantenimiento.get("empleado").hasError("required")),e.xp6(4),e.Q6J("showIcon",!0),e.xp6(4),e.Q6J("showIcon",!0),e.xp6(5),e.Q6J("ngIf",o.formMantenimiento.get("descripcion").hasError("required")),e.xp6(1),e.Q6J("ngIf",o.formMantenimiento.get("fechaInicio").value>o.formMantenimiento.get("fechaFinal").value),e.xp6(2),e.Q6J("disabled",o.formMantenimiento.invalid||o.disableButtonMantenimiento),e.xp6(2),e.Q6J("ngIf",!o.creandoCliente),e.xp6(1),e.Q6J("ngIf",o.creandoCliente))},dependencies:[P.s,_.jx,h.sg,h.O5,v.Hq,v.zx,l._Y,l.Fj,l.wV,l.JJ,l.JL,l.qQ,M.v2,T.H,x.o,y.g,A.Lt,ge,I.V,l.sg,l.u,Z.Ro,L,E,D.V,w.f,F.NU,S.q,He.R],styles:[".rooms[_ngcontent-%COMP%]{cursor:pointer}.tag[_ngcontent-%COMP%]{padding:.5%;display:flex;text-align:center}.nomeRoome[_ngcontent-%COMP%]{text-align:center}.padding[_ngcontent-%COMP%]{padding:1%}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-bottom:20px}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px solid #dddddd;text-align:left;padding:8px}th[_ngcontent-%COMP%]{background-color:#f2f2f2}.habilitarCursor[_ngcontent-%COMP%]{cursor:pointer}"]})}return a})();var Pt=c(4444),Mt=c(6401),B=c(3173),j=c(5609);function kt(a,r){1&a&&e._UZ(0,"p-message",51)}function Nt(a,r){if(1&a){const t=e.EpF();e.TgZ(0,"div",52)(1,"button",53),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.addTarifa())}),e.qZA()()}}function Ht(a,r){1&a&&(e.TgZ(0,"th"),e._uU(1,"Opcion"),e.qZA())}function Qt(a,r){if(1&a){const t=e.EpF();e.TgZ(0,"td")(1,"p-button",54),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,n=e.oxw();return e.KtG(n.confirmDeleteTarifa(o.id))}),e.qZA()()}}function Et(a,r){if(1&a&&(e.TgZ(0,"tbody")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.ALo(5,"number"),e.qZA(),e.YNc(6,Qt,2,0,"td",22),e.qZA()),2&a){const t=r.$implicit,i=e.oxw();e.xp6(2),e.hij(" ",null==t?null:t.nombre," "),e.xp6(2),e.hij(" ",e.lcZ(5,3,null==t?null:t.valor)," "),e.xp6(2),e.Q6J("ngIf",2==(null==i.estadoHabitacion?null:i.estadoHabitacion.estado_id))}}function Lt(a,r){if(1&a){const t=e.EpF();e.TgZ(0,"div",52)(1,"button",53),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.addProductos())}),e.qZA()()}}function Yt(a,r){1&a&&(e.TgZ(0,"th"),e._uU(1,"Opcion"),e.qZA())}function zt(a,r){if(1&a){const t=e.EpF();e.TgZ(0,"td")(1,"p-button",54),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,n=e.oxw();return e.KtG(n.confirmDeleteProductos(o.identificador))}),e.qZA()()}}function Bt(a,r){if(1&a&&(e.TgZ(0,"tbody")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.ALo(5,"number"),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.ALo(8,"number"),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.YNc(11,zt,2,0,"td",22),e.qZA()),2&a){const t=r.$implicit,i=e.oxw();e.xp6(2),e.hij(" ",null==t?null:t.nombre," "),e.xp6(2),e.hij(" ",e.lcZ(5,5,null==t?null:t.valor)," "),e.xp6(3),e.hij(" ",e.lcZ(8,7,null==t?null:t.valorImpuesto)," "),e.xp6(3),e.hij(" ",null==t?null:t.cantidad," "),e.xp6(1),e.Q6J("ngIf",2==(null==i.estadoHabitacion?null:i.estadoHabitacion.estado_id))}}function jt(a,r){if(1&a){const t=e.EpF();e.TgZ(0,"div",52)(1,"button",53),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.addRecetas())}),e.qZA()()}}function Gt(a,r){1&a&&(e.TgZ(0,"th"),e._uU(1,"Opcion"),e.qZA())}function Vt(a,r){if(1&a){const t=e.EpF();e.TgZ(0,"td")(1,"p-button",54),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,n=e.oxw();return e.KtG(n.confirmDeleteRecetas(o.identificador))}),e.qZA()()}}function $t(a,r){if(1&a&&(e.TgZ(0,"tbody")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.ALo(5,"number"),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.ALo(8,"number"),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.YNc(11,Vt,2,0,"td",22),e.qZA()),2&a){const t=r.$implicit,i=e.oxw();e.xp6(2),e.hij(" ",null==t?null:t.nombre," "),e.xp6(2),e.hij(" ",e.lcZ(5,5,null==t?null:t.valor)," "),e.xp6(3),e.hij(" ",e.lcZ(8,7,null==t?null:t.valorImpuesto)," "),e.xp6(3),e.hij(" ",null==t?null:t.cantidad," "),e.xp6(1),e.Q6J("ngIf",2==(null==i.estadoHabitacion?null:i.estadoHabitacion.estado_id))}}function Kt(a,r){1&a&&e._UZ(0,"div",52)}function Xt(a,r){1&a&&(e.TgZ(0,"th"),e._uU(1,"Opcion"),e.qZA())}function Wt(a,r){1&a&&e._UZ(0,"td")}function eo(a,r){if(1&a&&(e.TgZ(0,"tbody")(1,"td"),e._uU(2),e.ALo(3,"number"),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.YNc(6,Wt,1,0,"td",22),e.qZA()),2&a){const t=r.$implicit,i=e.oxw();e.xp6(2),e.hij(" ",e.lcZ(3,3,null==t?null:t.valor)," "),e.xp6(3),e.hij(" ",null==t?null:t.nombre," "),e.xp6(1),e.Q6J("ngIf",2==(null==i.estadoHabitacion?null:i.estadoHabitacion.estado_id))}}function to(a,r){if(1&a&&(e.TgZ(0,"tr")(1,"th"),e._uU(2," Total sin redondear"),e.qZA(),e.TgZ(3,"th"),e._uU(4),e.ALo(5,"number"),e.qZA(),e._UZ(6,"td"),e.qZA()),2&a){const t=e.oxw();e.xp6(4),e.hij(" $ ",e.lcZ(5,1,t.montoSinRedondear)," ")}}function oo(a,r){if(1&a&&(e.TgZ(0,"tr")(1,"th"),e._uU(2," Excedente"),e.qZA(),e.TgZ(3,"th"),e._uU(4),e.ALo(5,"number"),e.qZA(),e._UZ(6,"td"),e.qZA()),2&a){const t=e.oxw();e.xp6(4),e.hij(" $ ",e.lcZ(5,1,t.excedente)," ")}}function io(a,r){1&a&&(e.TgZ(0,"div")(1,"h5"),e._uU(2,"Hora"),e.qZA()())}function ao(a,r){1&a&&(e.TgZ(0,"div")(1,"h5"),e._uU(2,"Noche"),e.qZA()())}function no(a,r){if(1&a&&(e.TgZ(0,"div",55)(1,"span",56),e._uU(2),e._UZ(3,"p-tag",57),e.YNc(4,io,3,0,"div",22),e.YNc(5,ao,3,0,"div",22),e.qZA()()),2&a){const t=r.$implicit;e.xp6(2),e.hij(" ",t.nombre," "),e.xp6(1),e.s9C("icon",t.icon),e.s9C("value",t.valor),e.xp6(1),e.Q6J("ngIf",2==t.tipo),e.xp6(1),e.Q6J("ngIf",1==t.tipo)}}function ro(a,r){if(1&a&&(e.TgZ(0,"div",55)(1,"span",56),e._uU(2),e.qZA(),e._UZ(3,"p-tag",58)(4,"p-tag",58),e.qZA()),2&a){const t=r.$implicit;e.xp6(2),e.Oqu(t.nombre),e.xp6(1),e.s9C("value",t.valor_impuesto),e.xp6(1),e.s9C("value","stock :"+t.disponibles)}}function so(a,r){1&a&&(e.TgZ(0,"small"),e._uU(1,"Producto es requerido."),e.qZA())}function lo(a,r){if(1&a&&(e.TgZ(0,"div"),e.YNc(1,so,2,0,"small",22),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.formProducto.get("producto_id").hasError("required"))}}function co(a,r){if(1&a&&(e.TgZ(0,"div",55)(1,"span",56),e._uU(2),e.qZA(),e._UZ(3,"p-tag",58),e.qZA()),2&a){const t=r.$implicit;e.xp6(2),e.Oqu(t.nombre),e.xp6(1),e.s9C("value",t.precio)}}function po(a,r){if(1&a&&(e.TgZ(0,"div",55)(1,"span",56),e._uU(2),e.qZA()()),2&a){const t=r.$implicit;e.xp6(2),e.Oqu(t.nombre)}}function uo(a,r){1&a&&(e.TgZ(0,"div",70),e._uU(1,"Nombre es requerido."),e.qZA())}function ho(a,r){if(1&a){const t=e.EpF();e.TgZ(0,"div",59)(1,"div",60)(2,"label",61),e._uU(3,"Monto"),e.qZA(),e._UZ(4,"br"),e.TgZ(5,"input",62),e.NdJ("input",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.changeMedioPagoFactura())}),e.qZA(),e._UZ(6,"br"),e.YNc(7,uo,2,0,"div",63),e.qZA(),e.TgZ(8,"div",64)(9,"label",65),e._uU(10,"Medio Pago"),e.qZA(),e._UZ(11,"br")(12,"p-dropdown",66),e.qZA(),e.TgZ(13,"div",67),e._UZ(14,"label",68)(15,"br"),e.TgZ(16,"p-button",69),e.NdJ("click",function(){const n=e.CHM(t).index,s=e.oxw();return e.KtG(s.eliminarMedioPagoAbono(n))}),e.qZA()()()}if(2&a){const t=r.$implicit,i=e.oxw();e.Q6J("formGroup",t),e.xp6(7),e.Q6J("ngIf",null==t||null==t.controls.monto||null==t.controls.monto.errors?null:t.controls.monto.errors.required),e.xp6(5),e.Q6J("options",i.dataMetodosPago)}}function mo(a,r){1&a&&e._UZ(0,"p-message",71)}const C=function(){return{width:"50vw",height:"40vw"}},_o=function(){return{width:"40vw",height:"40vw"}};let go=(()=>{class a{constructor(t,i,o,n,s,u,d,f){this.dashboardRoomsService=t,this.FB=i,this.spinner=o,this.datePipe=n,this.router=s,this.route=u,this.appComponent=d,this.layoutService=f,this.dataTarifa=[],this.dataAbonos=[],this.tarifasTotal=0,this.abonosTotal=0,this.items=[],this.totalPagarReserva=0,this.subtotaltotalPagarReserva=0,this.totalProductos=0,this.dataProductos=[],this.dataReceta=[],this.tarifaVisible=!1,this.productoVisible=!1,this.abonoVisible=!1,this.recetaVisible=!1,this.allTarifas=[],this.allTarifasDefault=[],this.productoData=[],this.totalFactura=0,this.totalImpuestos=0,this.impuestosData=[],this.detalleId=0,this.hotelId=0,this.clienteId=0,this.impuestos_save=[],this.totalRecetas=0,this.recetasData=[],this.montoSinRedondear=0,this.activarRedondear=!1,this.formFacturacionMediosPago=this.FB.array([]),this.baseUrl=Pt.D.url,this.token=d.getToken()}ngOnInit(){this.spinner.hide(),this.dataRoomDetail=[],this.habitacionId=parseFloat(this.route.snapshot.paramMap.get("idHabitacion")),this.buildForm(),this.getRoomOcupar()}cargarItems(){this.items=[{label:"Facturar",icon:"pi pi-dollar",disabled:this.disableFactura,command:t=>this.opcionSelect(t,"facturar")},{label:"Salida (Check out)",disabled:2!=this.estadoHabitacion?.estado_id,icon:"pi pi-lock-open",command:t=>this.opcionSelect(t,"desocupar")}]}buildForm(){this.form=this.FB.group({nombreHabitacion:[this.dataRoomDetail?.detalleHabitacion?.habitacion?.nombre,[]],descripcion:[this.dataRoomDetail?.detalleHabitacion?.descripcion,[]],nombreCliente:[this.dataRoomDetail?.detalleHabitacion?.cliente?.nombres+" "+this.dataRoomDetail?.detalleHabitacion?.cliente?.apellidos,[]],desde:[this.dataRoomDetail?.detalleHabitacion?.checkin,[]],hasta:[this.dataRoomDetail?.detalleHabitacion?.checkout,[]]}),this.formTarifa=this.FB.group({tarifa_id:[this.allTarifasDefault,[l.kI.required]]}),this.formProducto=this.FB.group({producto_id:[null,[l.kI.required]],cantidad:[1,[l.kI.required,l.kI.min(1)]]}),this.formMetodoPago=this.FB.group({metodo_pago_id:[null,[l.kI.required]],valor:[null,[l.kI.required,l.kI.min(1)]]}),this.formReceta=this.FB.group({receta_id:[null,[l.kI.required]],cantidad:[1,[l.kI.required,l.kI.min(1)]]});let t=this.FB.group({monto:["",[l.kI.required,l.kI.min(0)]],medio_pago:[this.dataMetodosPago?this.dataMetodosPago[0]:null,[l.kI.required,l.kI.min(1)]]});this.formFacturacionMediosPago=this.FB.array([]),this.formFacturacionMediosPago.push(t),this.formFacturar=this.FB.group({isFacturaElectronica:[""]}),this.form.disable()}getRoomOcupar(){let t={habitacion_id:this.habitacionId};this.spinner.show(),this.dashboardRoomsService.getOcuparHabitacion(t).subscribe(i=>{this.spinner.hide(),this.dataRoomDetail=i,this.estadoHabitacion=this.dataRoomDetail.estadoHabitacion,this.impuestos=this.dataRoomDetail.impuesto,this.recetasData=this.dataRoomDetail.recetas,this.allTarifasDefault=[],this.dataRoomDetail.tarifasHabitacion.forEach(o=>{this.dataTarifa.push({valor:o.valor,nombre:o.tarifa?.nombre,tipo:o.tipo,id:o.item_id})}),this.dataRoomDetail.recetasHabitacion.forEach(o=>{let n="receta"+this.generarIdAleatorio(),s=0;o?.recetas?.impuestos.forEach(u=>{let d=parseInt(u?.impuesto?.porcentaje)*(parseFloat(o?.recetas.precio)*parseInt(o?.cantidad))/100;s+=d,this.impuestos_save.push({valor:d,porcentaje:u?.impuesto?.porcentaje,cantidad:o?.cantidad,id:u?.impuesto.id,item_id:o?.item_id,tipo:"4",identificador:n})}),this.dataReceta.push({nombre:o?.recetas?.nombre,valor:o?.recetas?.precio,valorImpuesto:s+parseFloat(o?.recetas?.precio),cantidad:o?.cantidad,id:o?.item_id,identificador:n,impuestos:o.recetas?.impuestos}),this.totalRecetas=this.totalRecetas+s+parseFloat(o?.recetas?.precio)}),this.dataMetodosPago=this.dataRoomDetail.metodos_pago,this.dataRoomDetail.productosHabitacion.forEach(o=>{let n=0,s="productos"+this.generarIdAleatorio();o.productos.impuestos.forEach(u=>{let d=parseInt(u.impuesto.porcentaje)*parseFloat(o?.valor)/100;n+=d,this.impuestos_save.push({valor:d,porcentaje:u.impuesto.porcentaje,cantidad:o?.cantidad,id:u.impuesto.id,item_id:o?.item_id,tipo:"1",identificador:s})}),this.dataProductos.push({nombre:o?.productos.nombre,valor:o?.valor,valorImpuesto:n+parseFloat(o?.valor),cantidad:o?.cantidad,id:o?.item_id,identificador:s,tipoProducto:o?.productos.tipo_producto,impuestos:o.productos.impuestos})}),this.dataRoomDetail.abonoHabitacion.forEach(o=>{this.dataAbonos.push({valor:o.valor,nombre:o.metodo_pago.nombre,id:o.id,metodo_pago_id:o?.metodo_pago.id,identificador:"abonos"+this.generarIdAleatorio()})}),this.dataRoomDetail.tarifas.forEach(o=>{this.allTarifas.push({valor:o.valor,nombre:o.nombre,tipo:o.tipo,id:o.id}),this.dataRoomDetail.tarifasHabitacion.filter(n=>n?.tarifa?.id==o.id).length>0&&this.allTarifasDefault.push({valor:o.valor,nombre:o.nombre,tipo:o.tipo,id:o.id})}),this.dataRoomDetail.productos.forEach(o=>{this.productoData.push({id:o.id,nombre:o.nombre,valor:o.precio,tipo:o.tipo_producto,impuestos:o.impuestos,disponibles:o.disponibles,valor_impuesto:parseFloat(o.precio)})}),this.detalleId=this.dataRoomDetail?.detalleHabitacion.id,this.hotelId=this.dataRoomDetail?.detalleHabitacion.hotel_id,this.clienteId=this.dataRoomDetail?.detalleHabitacion.cliente?.id,this.buildForm(),this.recalcular(),this.cargarItems()})}recalcular(){this.tarifasTotal=0,this.totalProductos=0,this.abonosTotal=0,this.totalPagarReserva=0,this.totalImpuestos=0,this.totalRecetas=0,this.dataTarifa.forEach(o=>{this.tarifasTotal=this.tarifasTotal+parseFloat(o.valor)}),this.dataProductos.forEach(o=>{let n=0;n=parseFloat(o?.valorImpuesto),this.totalImpuestos=this.totalImpuestos+n-o?.valor,this.totalProductos=this.totalProductos+n}),this.dataReceta.forEach(o=>{let n=parseFloat(o?.valorImpuesto);this.totalRecetas=this.totalRecetas+n,this.totalImpuestos=this.totalImpuestos+n-o?.valor}),this.dataAbonos.forEach(o=>{this.abonosTotal=this.abonosTotal+parseFloat(o.valor)}),this.totalPagarReserva=this.tarifasTotal+this.totalProductos+this.totalRecetas-this.abonosTotal,this.activarRedondear?(this.montoSinRedondear=this.totalPagarReserva,this.totalPagarReserva=function i(o){let n=o%50,s=0;return n>0&&(s=50-n),o+s}(this.totalPagarReserva),this.excedente=this.totalPagarReserva-this.montoSinRedondear):this.excedente=0,this.subtotaltotalPagarReserva=this.tarifasTotal+this.totalProductos+this.totalRecetas-this.totalImpuestos,this.validaciones()}opcionSelect(t,i){"desocupar"==i&&this.desocuparHabitacion(),"facturar"==i&&this.facturacion()}confirmDeleteAbono(t){this.dataAbonos=this.dataAbonos.filter(i=>i.identificador!=t),this.recalcular()}confirmDeleteTarifa(t){this.dataTarifa=this.dataTarifa.filter(i=>i.id!=t),this.allTarifasDefault=this.dataTarifa,this.buildForm(),this.recalcular()}confirmDeleteProductos(t){this.dataProductos=this.dataProductos.filter(i=>i.identificador!=t),this.impuestos_save=this.impuestos_save.filter(i=>i.identificador!=t),this.recalcular()}confirmDeleteRecetas(t){this.dataReceta=this.dataReceta.filter(i=>i.identificador!=t),this.impuestos_save=this.impuestos_save.filter(i=>i.identificador!=t),this.recalcular()}addTarifa(){this.tarifaVisible=!0}addProductos(){this.productoVisible=!0,this.formProducto.reset(),this.recalcular()}addAbonos(){this.abonoVisible=!0}submitTarifa(){this.recargarTablaTarifa(),this.tarifaVisible=!1,this.recalcular()}submitProducto(){this.recargarTablaProducto(),this.productoVisible=!1,this.recalcular()}submitReceta(){this.recetaVisible=!1,this.recargarTablaReceta(),this.recalcular()}recargarTablaReceta(){let t=this.formReceta.get("receta_id")?.value,i=this.formReceta.get("cantidad")?.value,o="receta"+this.generarIdAleatorio(),n=0;t.impuestos.forEach(s=>{let u=parseInt(s.impuesto.porcentaje)*(parseFloat(t.precio)*parseInt(i))/100;n+=u,this.impuestos_save.push({valor:u,porcentaje:s?.impuesto?.porcentaje,cantidad:i,id:s?.impuesto.id,item_id:t.id,tipo:"4",identificador:o})}),this.dataReceta.push({nombre:t.nombre,valor:t.precio*i,valorImpuesto:t.precio*i+n,cantidad:i,id:t.id,identificador:o,impuestos:t.impuestos})}recargarTablaProducto(){let t=this.formProducto.get("producto_id")?.value,i=this.formProducto.get("cantidad").value,o=0,n=t.tipo,s="productos"+this.generarIdAleatorio();t.impuestos.forEach(u=>{let d=parseInt(u.impuesto.porcentaje)*(parseFloat(t.valor)*parseInt(i))/100;o+=d,this.impuestos_save.push({valor:d,porcentaje:u.impuesto.porcentaje,cantidad:i,id:u.impuesto.id,item_id:t.id,tipo:"1",identificador:s})}),this.dataProductos.push({nombre:t.nombre,valor:t.valor*i,valorImpuesto:t.valor*i+o,cantidad:i,tipoProducto:n,id:t.id,identificador:s}),this.formProducto.reset()}recargarTablaTarifa(){let t=this.formTarifa.get("tarifa_id").value;this.dataTarifa=[],this.allTarifasDefault=[],t.forEach(i=>{this.dataTarifa.push({valor:i.valor,nombre:i.nombre,tipo:i.tipo,id:i.id}),this.allTarifasDefault.push({valor:i.valor,nombre:i.nombre,tipo:i.tipo,id:i.id})})}recargarTablaAbonos(){let t=this.formMetodoPago.get("metodo_pago_id").value[0],i=parseFloat(this.formMetodoPago.get("valor").value);this.dataAbonos.push({valor:i,nombre:t.nombre,id:t.id,metodo_pago_id:t.id,identificador:"abonos"+this.generarIdAleatorio()})}submitAbono(){this.abonoVisible=!1,this.recargarTablaAbonos(),this.recalcular()}submitAll(){2==this.estadoHabitacion?.estado_id&&this.envirRoomDetalle({tarifas:this.dataTarifa,productos:this.dataProductos,abonos:this.dataAbonos,detalleId:this.detalleId,hotelId:this.hotelId,clienteId:this.clienteId,receta:this.dataReceta,habitacion_id:this.habitacionId})}envirRoomDetalle(t){this.spinner.show(),this.dashboardRoomsService.saveDetalleHabitacion(t).subscribe(i=>{this.spinner.hide();let o=i;"success"==o.code?(p().fire({title:"Exito",text:o.msm,icon:"success"}),this.layoutService.reloadComponent(),this.router.navigate(["dashboard/dashboardRooms"])):"warning"==o.code?p().fire({title:"Advertencia",text:o.msm,icon:"warning"}):p().fire({title:"Error",text:"Error al anular.",icon:"error"})})}envirRoomDetalleFactura(t){this.spinner.show(),this.dashboardRoomsService.saveDetalleHabitacion(t).subscribe(i=>{if("warning"==i.code)p().fire({title:"Advertencia",text:i.msm,icon:"warning"}),this.spinner.hide(),this.facturarVisible=!1;else{let o=this.formFacturar.get("isFacturaElectronica").value;this.enviarFacturacion({detalle_id:this.detalleId,metodos_pagos:this.formFacturacionMediosPago.value,concepto:"Factura Habitacion",hotel_id:this.hotelId,cliente_id:this.clienteId,porcentaje_descuento:0,subtotal:this.subtotaltotalPagarReserva,total:this.totalPagarReserva+this.abonosTotal,impuesto_total:this.totalImpuestos,detalleId:this.detalleId,hotelId:this.hotelId,clienteId:this.clienteId,receta:this.dataReceta,impuesto:this.impuestos_save,habitacion_id:this.habitacionId,is_factura_electronica:o,excedente:this.excedente})}})}desocuparHabitacion(){let t={id_habitacion:this.habitacionId};p().fire({title:"\xbfEstas seguro que deseas Salir (Check out) de esta habitacion?",text:"",icon:"warning",showCancelButton:!0,confirmButtonText:"S\xed, Confirmar",cancelButtonText:"Cancelar"}).then(i=>{i.isConfirmed&&(this.spinner.show(),this.enviarDesocupar(t))})}facturacion(){this.facturarVisible=!0}enviarDesocupar(t){this.dashboardRoomsService.desocupar(t).subscribe(i=>{let o=i;this.spinner.hide(),"success"==o.code?(p().fire({title:"Exito",text:"Anulacion Exitosa.",icon:"success"}),this.router.navigate(["dashboard/dashboardRooms"])):"warning"==o.code?p().fire({title:"Advertencia",text:o.error,icon:"warning"}):p().fire({title:"Error",text:"Error al anular.",icon:"error"})},i=>{console.log("Error: ",i)})}validaciones(){this.disableFactura=!1,this.abonosTotal>this.tarifasTotal&&(this.disableFactura=!0,this.cargarItems())}eliminarMedioPagoAbono(t){this.formFacturacionMediosPago.removeAt(t),this.changeMedioPagoFactura()}agregarAbonoOcupar(){let t=this.FB.group({monto:["",[l.kI.required,l.kI.min(1)]],medio_pago:[this.dataMetodosPago[0],[l.kI.required,l.kI.min(0)]]});this.formFacturacionMediosPago.push(t)}changeMedioPagoFactura(){this.totalFactura=0,this.formFacturacionMediosPago.value.forEach(t=>{this.totalFactura=this.totalFactura+parseFloat(t.monto)})}submitFactura(){this.envirRoomDetalleFactura({tarifas:this.dataTarifa,productos:this.dataProductos,abonos:this.dataAbonos,detalleId:this.detalleId,hotelId:this.hotelId,clienteId:this.clienteId,receta:this.dataReceta,impuesto:this.impuestos_save,habitacion_id:this.habitacionId})}enviarFacturacion(t){this.spinner.show(),this.dashboardRoomsService.facturar(t).subscribe(i=>{let o=i;this.facturarVisible=!1,this.spinner.hide(),"success"==o.code?(this.layoutService.reloadComponent(),p().fire({title:"Exito",text:o.msm,icon:"success"}),window.open(this.baseUrl+"/facturaRemisionPdf/"+o.factura.id+"?token="+this.token,"_blank"),this.router.navigate(["dashboard/dashboardRooms"])):"warning"==o.code?p().fire({title:"Advertencia",text:o.msm,icon:"warning"}):p().fire({title:"Error",text:"Error al Facturar.",icon:"error"})},i=>{console.log("Error: ",i)})}addRecetas(){this.recetaVisible=!0}generarIdAleatorio(){let o="";for(let n=0;n<10;n++)o+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random()));return o}static#e=this.\u0275fac=function(i){return new(i||a)(e.Y36(R.y),e.Y36(l.qu),e.Y36(Z.t2),e.Y36(h.uU),e.Y36(b.F0),e.Y36(b.gz),e.Y36(Mt.y),e.Y36(J.P))};static#t=this.\u0275cmp=e.Xpm({type:a,selectors:[["app-dashboard-rooms-ocupar"]],decls:212,vars:97,consts:[["type","ball-scale-multiple","fullScreen","true"],[1,"surface-section","px-4","py-5","md:px-6","lg:px-8"],[1,"flex","align-items-center","flex-column","lg:flex-row"],["pButton","","pRipple","","label","","icon","pi pi-arrow-left",1,"p-button-outlined","mr-4",3,"routerLink"],[1,"font-medium","text-3xl","text-900"],[1,"card","mt-3"],[1,"p-toolbar-group-left","flex","flex-wrap"],[1,"p-toolbar-group-right"],[3,"label","disabled","model","onClick"],[3,"formGroup"],[1,"p-fluid","p-formgrid","grid"],[1,"field","col-12","md:col-3"],["type","text","formControlName","nombreHabitacion","pInputText","",1,"w-full","mb-3","border-round-3xl"],["type","text","formControlName","desde","pInputText","",1,"w-full","mb-3","border-round-3xl"],["type","text","formControlName","hasta","pInputText","",1,"w-full","mb-3","border-round-3xl"],["type","text","formControlName","nombreCliente","pInputText","",1,"w-full","mb-3","border-round-3xl"],[1,"field","col-12","md:col-12"],["formControlName","descripcion","pInputTextarea","","rows","3","cols","20"],["severity","error","class","padding","text","El total de abonos no puede ser mallor al total a pagar",4,"ngIf"],[1,"card","field","col-12","md:col-12"],[2,"width","20%"],["class","ordenAdd",4,"ngIf"],[4,"ngIf"],[4,"ngFor","ngForOf"],["header","Agregar Tarifa",3,"visible","modal","draggable","resizable","visibleChange"],[1,"col-12"],[3,"formGroup","ngSubmit"],["formControlName","tarifa_id","optionLabel","nombre","placeholder","Buscar Tarifa","optionLabel","nombre","emptyMessage","Tarifa no encontrada","display","chip",1,"multiselect-custom",3,"options"],["pTemplate","item"],["pButton","","pRipple","","label","Agregar","type","submit",1,"w-full","bg-admin","boder-admin","mb-5","border-round-3xl",3,"disabled"],["header","Agregar Producto",3,"visible","modal","draggable","resizable","visibleChange"],[1,"field","col-12","md:col-6"],["for","producto_id"],["formControlName","producto_id","limoptionLabel","nombre","placeholder","Buscar Producto/Servicio","optionLabel","nombre","emptyMessage","Producto no encontrado","display","chip",1,"multiselect-custom",3,"options"],["type","number","min","1","formControlName","cantidad","pInputText","",1,"w-full","mb-3","border-round-3xl"],["header","Agregar Receta",3,"visible","modal","draggable","resizable","visibleChange"],["for","cliente"],["formControlName","receta_id","limoptionLabel","nombre","placeholder","Buscar Receta","optionLabel","nombre","emptyMessage","Producto no encontrado","display","chip",1,"multiselect-custom",3,"options"],["header","Abonos ",3,"visible","modal","draggable","resizable","visibleChange"],["formControlName","metodo_pago_id","selectionLimit","1","limoptionLabel","nombre","placeholder","Metodo pago","optionLabel","nombre","emptyMessage","Producto no encontrado","display","chip",1,"multiselect-custom",3,"options"],["type","number","min","1","formControlName","valor","pInputText","",1,"w-full","mb-3","border-round-3xl"],["header","Facturar ",3,"visible","modal","draggable","resizable","visibleChange"],["pButton","","pRipple","","type","button","icon","pi pi-plus",1,"p-button-rounded",3,"click"],[2,"display","flex"],[2,"text-align","left"],["severity","info","text","Generar Factura electronica",1,"padding"],[2,"margin-left","20%"],["formControlName","isFacturaElectronica"],["class","grid formgrid",3,"formGroup",4,"ngFor","ngForOf"],["severity","info","class","padding","text","El total ingresado no es igual al total a Pagar",4,"ngIf"],["pButton","","pRipple","","type","submit",1,"w-full","bg-admin","boder-admin","mb-5","border-round-3xl",3,"label","disabled","click"],["severity","error","text","El total de abonos no puede ser mallor al total a pagar",1,"padding"],[1,"ordenAdd"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button",3,"click"],["icon","pi pi-trash","severity","danger",3,"click"],[1,"flex","align-items-center"],[1,"ml-2"],[1,"padding",3,"icon","value"],[1,"padding",3,"value"],[1,"grid","formgrid",3,"formGroup"],[1,"col-12","mb-5","lg:col-5","lg:mb-5"],["for","monto"],["type","number","min","1","id","monto","formControlName","monto","pInputText","","placeholder","Valor",1,"expandir",3,"input"],["style","color: red;",4,"ngIf"],[1,"col-12","mb-5","lg:col-5","lg:mb-5",2,"width","auto"],["htmlFor","medioPago"],["formControlName","medio_pago","id","medioPago","optionLabel","nombre",1,"expandir",3,"options"],[1,"col-12","mb-2","lg:col-2","lg:mb-5"],["htmlFor","opciones"],["id","opciones","icon","pi pi-trash","severity","danger",3,"click"],[2,"color","red"],["severity","info","text","El total ingresado no es igual al total a Pagar",1,"padding"]],template:function(i,o){1&i&&(e._UZ(0,"ngx-spinner",0),e.TgZ(1,"div",1)(2,"div",2)(3,"div"),e._UZ(4,"button",3),e.qZA(),e.TgZ(5,"div")(6,"div",4),e._uU(7,"Detalle Ingreso"),e.qZA()()()(),e.TgZ(8,"div",5)(9,"p-toolbar"),e._UZ(10,"div",6),e.TgZ(11,"div",7)(12,"p-splitButton",8),e.NdJ("onClick",function(){return o.submitAll()}),e.qZA()(),e.TgZ(13,"form",9)(14,"div",10)(15,"div",11)(16,"label"),e._uU(17,"Nombre Habitacion"),e.qZA(),e._UZ(18,"input",12),e.qZA(),e.TgZ(19,"div",11)(20,"label"),e._uU(21," CheckIn "),e.qZA(),e._UZ(22,"input",13),e.qZA(),e.TgZ(23,"div",11)(24,"label"),e._uU(25," CheckOut "),e.qZA(),e._UZ(26,"input",14),e.qZA(),e.TgZ(27,"div",11)(28,"label"),e._uU(29,"Nombre Cliente"),e.qZA(),e._UZ(30,"input",15),e.qZA(),e.TgZ(31,"div",16)(32,"label"),e._uU(33,"Descripcion"),e.qZA(),e._UZ(34,"textarea",17),e.qZA()()(),e.YNc(35,kt,1,0,"p-message",18),e.qZA()(),e.TgZ(36,"div",19)(37,"table")(38,"tr")(39,"th",20),e._uU(40,"Nombre"),e.qZA(),e.TgZ(41,"th"),e._uU(42,"Valores"),e.qZA(),e.TgZ(43,"th"),e._uU(44,"Detalle"),e.qZA()(),e.TgZ(45,"tr")(46,"th"),e._uU(47," Tarifas"),e.qZA(),e.TgZ(48,"th"),e._uU(49),e.ALo(50,"number"),e.qZA(),e.TgZ(51,"td"),e.YNc(52,Nt,2,0,"div",21),e.TgZ(53,"table")(54,"thead")(55,"th"),e._uU(56,"Nombre"),e.qZA(),e.TgZ(57,"th"),e._uU(58,"Precio"),e.qZA(),e.YNc(59,Ht,2,0,"th",22),e.qZA(),e.YNc(60,Et,7,5,"tbody",23),e.qZA()()(),e.TgZ(61,"tr")(62,"th"),e._uU(63," Productos / Servicios"),e.qZA(),e.TgZ(64,"th"),e._uU(65),e.ALo(66,"number"),e.qZA(),e.TgZ(67,"td"),e.YNc(68,Lt,2,0,"div",21),e.TgZ(69,"table")(70,"thead")(71,"th"),e._uU(72,"Nombre"),e.qZA(),e.TgZ(73,"th"),e._uU(74,"Precio "),e.qZA(),e.TgZ(75,"th"),e._uU(76,"Precio con Impuesto"),e.qZA(),e.TgZ(77,"th"),e._uU(78,"Cantidad"),e.qZA(),e.YNc(79,Yt,2,0,"th",22),e.qZA(),e.YNc(80,Bt,12,9,"tbody",23),e.qZA()()(),e.TgZ(81,"tr")(82,"th"),e._uU(83,"Recetas"),e.qZA(),e.TgZ(84,"th"),e._uU(85),e.ALo(86,"number"),e.qZA(),e.TgZ(87,"td"),e.YNc(88,jt,2,0,"div",21),e.TgZ(89,"table")(90,"thead")(91,"th"),e._uU(92,"Nombre"),e.qZA(),e.TgZ(93,"th"),e._uU(94,"Precio"),e.qZA(),e.TgZ(95,"th"),e._uU(96,"Precio con Impuesto"),e.qZA(),e.TgZ(97,"th"),e._uU(98,"Cantidad"),e.qZA(),e.YNc(99,Gt,2,0,"th",22),e.qZA(),e.YNc(100,$t,12,9,"tbody",23),e.qZA()()(),e.TgZ(101,"tr")(102,"th"),e._uU(103," Abonos"),e.qZA(),e.TgZ(104,"th"),e._uU(105),e.ALo(106,"number"),e.qZA(),e.TgZ(107,"td"),e.YNc(108,Kt,1,0,"div",21),e.TgZ(109,"table")(110,"thead")(111,"th"),e._uU(112,"Monto"),e.qZA(),e.TgZ(113,"th"),e._uU(114,"Metodo Pago"),e.qZA(),e.YNc(115,Xt,2,0,"th",22),e.qZA(),e.YNc(116,eo,7,5,"tbody",23),e.qZA()()(),e.TgZ(117,"tr")(118,"th"),e._uU(119," Impuestos "),e.qZA(),e.TgZ(120,"th"),e._uU(121),e.ALo(122,"number"),e.qZA(),e._UZ(123,"th"),e.qZA(),e.TgZ(124,"tr")(125,"th"),e._uU(126," Sub Total"),e.qZA(),e.TgZ(127,"th"),e._uU(128),e.ALo(129,"number"),e.qZA(),e._UZ(130,"td"),e.qZA(),e.YNc(131,to,7,3,"tr",22),e.YNc(132,oo,7,3,"tr",22),e.TgZ(133,"tr")(134,"th"),e._uU(135),e.qZA(),e.TgZ(136,"th"),e._uU(137),e.ALo(138,"number"),e.qZA(),e._UZ(139,"td"),e.qZA()()(),e.TgZ(140,"p-dialog",24),e.NdJ("visibleChange",function(s){return o.tarifaVisible=s}),e.TgZ(141,"div",25)(142,"form",26),e.NdJ("ngSubmit",function(){return o.submitTarifa()}),e.TgZ(143,"div",10)(144,"div",16)(145,"label"),e._uU(146,"Tarifa"),e.qZA(),e.TgZ(147,"p-multiSelect",27),e.YNc(148,no,6,5,"ng-template",28),e.qZA()(),e.TgZ(149,"div",16),e._UZ(150,"button",29),e.qZA()()()()(),e.TgZ(151,"p-dialog",30),e.NdJ("visibleChange",function(s){return o.productoVisible=s}),e.TgZ(152,"div",25)(153,"form",26),e.NdJ("ngSubmit",function(){return o.submitProducto()}),e.TgZ(154,"div",10)(155,"div",31)(156,"label",32),e._uU(157,"Producto / Servicio"),e.qZA(),e.TgZ(158,"p-dropdown",33),e.YNc(159,ro,5,3,"ng-template",28),e.qZA(),e.YNc(160,lo,2,1,"div",22),e.qZA(),e.TgZ(161,"div",31)(162,"label"),e._uU(163,"Cantidad"),e.qZA(),e._UZ(164,"input",34),e.qZA(),e.TgZ(165,"div",16),e._UZ(166,"button",29),e.qZA()()()()(),e.TgZ(167,"p-dialog",35),e.NdJ("visibleChange",function(s){return o.recetaVisible=s}),e.TgZ(168,"div",25)(169,"form",26),e.NdJ("ngSubmit",function(){return o.submitReceta()}),e.TgZ(170,"div",10)(171,"div",31)(172,"label",36),e._uU(173,"Receta"),e.qZA(),e.TgZ(174,"p-dropdown",37),e.YNc(175,co,4,2,"ng-template",28),e.qZA()(),e.TgZ(176,"div",31)(177,"label"),e._uU(178,"Cantidad"),e.qZA(),e._UZ(179,"input",34),e.qZA(),e.TgZ(180,"div",16),e._UZ(181,"button",29),e.qZA()()()()(),e.TgZ(182,"p-dialog",38),e.NdJ("visibleChange",function(s){return o.abonoVisible=s}),e.TgZ(183,"div",25)(184,"form",26),e.NdJ("ngSubmit",function(){return o.submitAbono()}),e.TgZ(185,"div",10)(186,"div",31)(187,"label",36),e._uU(188,"Metodo Pago"),e.qZA(),e.TgZ(189,"p-multiSelect",39),e.YNc(190,po,3,1,"ng-template",28),e.qZA()(),e.TgZ(191,"div",31)(192,"label"),e._uU(193,"Monto"),e.qZA(),e._UZ(194,"input",40),e.qZA(),e.TgZ(195,"div",16),e._UZ(196,"button",29),e.qZA()()()()(),e.TgZ(197,"p-dialog",41),e.NdJ("visibleChange",function(s){return o.facturarVisible=s}),e.TgZ(198,"button",42),e.NdJ("click",function(){return o.agregarAbonoOcupar()}),e.qZA(),e._UZ(199,"br"),e.TgZ(200,"div",43)(201,"div",44),e._UZ(202,"p-message",45),e.qZA(),e.TgZ(203,"div",46)(204,"form",26),e.NdJ("ngSubmit",function(){return o.submitAbono()}),e._UZ(205,"p-inputSwitch",47),e.qZA()()(),e._UZ(206,"br"),e.YNc(207,ho,17,3,"div",48),e.YNc(208,mo,1,0,"p-message",49),e.TgZ(209,"div",16)(210,"button",50),e.NdJ("click",function(){return o.submitFactura()}),e.ALo(211,"number"),e.qZA()()()),2&i&&(e.xp6(4),e.Q6J("routerLink","/dashboard/dashboardRooms"),e.xp6(8),e.Q6J("label",2==(null==o.estadoHabitacion?null:o.estadoHabitacion.estado_id)?"Guardar":void 0)("disabled",o.subtotaltotalPagarReserva<=0)("model",o.items),e.xp6(1),e.Q6J("formGroup",o.form),e.xp6(22),e.Q6J("ngIf",o.abonosTotal>o.tarifasTotal),e.xp6(14),e.hij(" $ ",e.lcZ(50,76,o.tarifasTotal)," "),e.xp6(3),e.Q6J("ngIf",2==(null==o.estadoHabitacion?null:o.estadoHabitacion.estado_id)),e.xp6(7),e.Q6J("ngIf",2==(null==o.estadoHabitacion?null:o.estadoHabitacion.estado_id)),e.xp6(1),e.Q6J("ngForOf",o.dataTarifa),e.xp6(5),e.hij(" $ ",e.lcZ(66,78,o.totalProductos)," "),e.xp6(3),e.Q6J("ngIf",2==(null==o.estadoHabitacion?null:o.estadoHabitacion.estado_id)),e.xp6(11),e.Q6J("ngIf",2==(null==o.estadoHabitacion?null:o.estadoHabitacion.estado_id)),e.xp6(1),e.Q6J("ngForOf",o.dataProductos),e.xp6(5),e.hij(" $ ",e.lcZ(86,80,o.totalRecetas)," "),e.xp6(3),e.Q6J("ngIf",2==(null==o.estadoHabitacion?null:o.estadoHabitacion.estado_id)),e.xp6(11),e.Q6J("ngIf",2==(null==o.estadoHabitacion?null:o.estadoHabitacion.estado_id)),e.xp6(1),e.Q6J("ngForOf",o.dataReceta),e.xp6(5),e.hij(" $ ",e.lcZ(106,82,o.abonosTotal)," "),e.xp6(3),e.Q6J("ngIf",2==(null==o.estadoHabitacion?null:o.estadoHabitacion.estado_id)),e.xp6(7),e.Q6J("ngIf",2==(null==o.estadoHabitacion?null:o.estadoHabitacion.estado_id)),e.xp6(1),e.Q6J("ngForOf",o.dataAbonos),e.xp6(5),e.hij(" $ ",e.lcZ(122,84,o.totalImpuestos)," "),e.xp6(7),e.hij(" $ ",o.subtotaltotalPagarReserva<=0?0:e.lcZ(129,86,o.subtotaltotalPagarReserva)," "),e.xp6(3),e.Q6J("ngIf",o.activarRedondear),e.xp6(1),e.Q6J("ngIf",o.activarRedondear),e.xp6(3),e.hij(" ",o.activarRedondear?"Total redondeado":"Total",""),e.xp6(2),e.hij(" $ ",e.lcZ(138,88,o.totalPagarReserva)," "),e.xp6(3),e.Akn(e.DdM(92,C)),e.Q6J("visible",o.tarifaVisible)("modal",!0)("draggable",!0)("resizable",!0),e.xp6(2),e.Q6J("formGroup",o.formTarifa),e.xp6(5),e.Q6J("options",o.allTarifas),e.xp6(3),e.Q6J("disabled",o.formTarifa.invalid),e.xp6(1),e.Akn(e.DdM(93,C)),e.Q6J("visible",o.productoVisible)("modal",!0)("draggable",!0)("resizable",!0),e.xp6(2),e.Q6J("formGroup",o.formProducto),e.xp6(5),e.Q6J("options",o.productoData),e.xp6(2),e.Q6J("ngIf",o.formProducto.get("producto_id").errors&&(o.formProducto.get("producto_id").dirty||o.formProducto.get("producto_id").touched)),e.xp6(6),e.Q6J("disabled",o.formProducto.invalid),e.xp6(1),e.Akn(e.DdM(94,C)),e.Q6J("visible",o.recetaVisible)("modal",!0)("draggable",!0)("resizable",!0),e.xp6(2),e.Q6J("formGroup",o.formReceta),e.xp6(5),e.Q6J("options",o.recetasData),e.xp6(7),e.Q6J("disabled",o.formReceta.invalid),e.xp6(1),e.Akn(e.DdM(95,C)),e.Q6J("visible",o.abonoVisible)("modal",!0)("draggable",!0)("resizable",!0),e.xp6(2),e.Q6J("formGroup",o.formMetodoPago),e.xp6(5),e.Q6J("options",o.dataMetodosPago),e.xp6(7),e.Q6J("disabled",o.formMetodoPago.invalid),e.xp6(1),e.Akn(e.DdM(96,_o)),e.Q6J("visible",o.facturarVisible)("modal",!0)("draggable",!1)("resizable",!1),e.xp6(7),e.Q6J("formGroup",o.formFacturar),e.xp6(3),e.Q6J("ngForOf",o.formFacturacionMediosPago.controls),e.xp6(1),e.Q6J("ngIf",o.totalFactura!=o.totalPagarReserva),e.xp6(2),e.Q6J("label","Pagar "+e.lcZ(211,90,o.totalPagarReserva))("disabled",o.formFacturacionMediosPago.invalid||o.totalFactura!=o.totalPagarReserva))},dependencies:[_.jx,h.sg,h.O5,v.Hq,v.zx,l._Y,l.Fj,l.wV,l.JJ,l.JL,l.qQ,b.rH,T.H,U.o,x.o,y.g,A.Lt,I.V,l.sg,l.u,Z.Ro,D.V,F.NU,S.q,B.a,j.Ql,h.JJ],styles:["table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-bottom:20px}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px solid #dddddd;text-align:left;padding:8px}th[_ngcontent-%COMP%]{background-color:#f2f2f2}.ordenAdd[_ngcontent-%COMP%]{padding:1%;text-align:right}.padding[_ngcontent-%COMP%]{padding:1%}.expandir[_ngcontent-%COMP%]{width:100%}"]})}return a})();var G=c(2506);let fo=(()=>{class a{static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275mod=e.oAB({type:a});static#o=this.\u0275inj=e.cJS({imports:[b.Bz.forChild([{path:"",component:Jt,canActivate:[G.a],data:{permissions:["dashboard.habitacion"]}},{path:":idHabitacion/ocupar",component:go,canActivate:[G.a],data:{permissions:["dashboard.habitacion"]}}]),b.Bz]})}return a})();var bo=c(2169),vo=c(1480),To=c(5617);let Zo=(()=>{class a{static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275mod=e.oAB({type:a});static#o=this.\u0275inj=e.cJS({providers:[{provide:te.TP,useClass:oe.n,multi:!0},R.y,h.uU],imports:[P.Q,h.ez,V.U$,$.O,l.u5,M.$9,v.hJ,T.T,K.EV,U.V,X.Xt,x.j,y.A,A.kW,W.cc,fe,ee.L$,I.S,ie.ii.forRoot(),l.UX,Z.ef,ae.U,fo,Ne,D.W,w._8,F.q4,bo.o,vo.Gg,S.O,B.l,A.kW,j.Iu,To.ClientesModule]})}return a})()}}]);