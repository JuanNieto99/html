"use strict";(self.webpackChunksakai_ng=self.webpackChunksakai_ng||[]).push([[898],{2898:(oa,k,p)=>{p.r(k),p.d(k,{DashboardRoomsModule:()=>ta});var _=p(6814),d=p(95),y=p(9664),W=p(6068),A=p(707),x=p(4480),X=p(4104),P=p(6340),tt=p(6022),J=p(3714),D=p(6218),R=p(2160),ot=p(1865),S=p(354),I=p(7213),et=p(9862),at=p(8712),it=p(5722),C=p(8672),nt=p(1712),E=p(1532),Z=p(228),rt=p(3519),u=p.n(rt),t=p(4946),M=p(8663),H=p(3859),Y=p(1230),v=p(5219),L=p(1122),g=p(6825),b=p(2076),Q=p(7778),F=p(2332);function st(e,r){1&e&&t.GkF(0)}function lt(e,r){1&e&&t._UZ(0,"TimesIcon",8),2&e&&t.Q6J("styleClass","p-overlaypanel-close-icon")}function ct(e,r){}function dt(e,r){1&e&&t.YNc(0,ct,0,0,"ng-template")}function pt(e,r){if(1&e&&(t.TgZ(0,"span",9),t.YNc(1,dt,1,0,null,3),t.qZA()),2&e){const o=t.oxw(3);t.xp6(1),t.Q6J("ngTemplateOutlet",o.closeIconTemplate)}}function mt(e,r){if(1&e){const o=t.EpF();t.TgZ(0,"button",5),t.NdJ("click",function(a){t.CHM(o);const n=t.oxw(2);return t.KtG(n.onCloseClick(a))})("keydown.enter",function(){t.CHM(o);const a=t.oxw(2);return t.KtG(a.hide())}),t.YNc(1,lt,1,1,"TimesIcon",6),t.YNc(2,pt,2,1,"span",7),t.qZA()}if(2&e){const o=t.oxw(2);t.uIk("aria-label",o.ariaCloseLabel),t.xp6(1),t.Q6J("ngIf",!o.closeIconTemplate),t.xp6(1),t.Q6J("ngIf",o.closeIconTemplate)}}const ut=function(e,r){return{showTransitionParams:e,hideTransitionParams:r}},_t=function(e,r){return{value:e,params:r}};function ht(e,r){if(1&e){const o=t.EpF();t.TgZ(0,"div",1),t.NdJ("click",function(a){t.CHM(o);const n=t.oxw();return t.KtG(n.onOverlayClick(a))})("@animation.start",function(a){t.CHM(o);const n=t.oxw();return t.KtG(n.onAnimationStart(a))})("@animation.done",function(a){t.CHM(o);const n=t.oxw();return t.KtG(n.onAnimationEnd(a))}),t.TgZ(1,"div",2),t.NdJ("click",function(){t.CHM(o);const a=t.oxw();return t.KtG(a.onContentClick())})("mousedown",function(){t.CHM(o);const a=t.oxw();return t.KtG(a.onContentClick())}),t.Hsn(2),t.YNc(3,st,1,0,"ng-container",3),t.qZA(),t.YNc(4,mt,3,3,"button",4),t.qZA()}if(2&e){const o=t.oxw();t.Tol(o.styleClass),t.Q6J("ngClass","p-overlaypanel p-component")("ngStyle",o.style)("@animation",t.WLB(10,_t,o.overlayVisible?"open":"close",t.WLB(7,ut,o.showTransitionOptions,o.hideTransitionOptions))),t.xp6(3),t.Q6J("ngTemplateOutlet",o.contentTemplate),t.xp6(1),t.Q6J("ngIf",o.showCloseIcon)}}const gt=["*"];let ft=(()=>{class e{document;platformId;el;renderer;cd;zone;config;overlayService;dismissable=!0;showCloseIcon;style;styleClass;appendTo="body";autoZIndex=!0;ariaCloseLabel;baseZIndex=0;focusOnShow=!0;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";onShow=new t.vpe;onHide=new t.vpe;templates;container;overlayVisible=!1;render=!1;isOverlayAnimationInProgress=!1;selfClick=!1;documentClickListener;target;willHide;scrollHandler;documentResizeListener;contentTemplate;closeIconTemplate;destroyCallback;overlayEventListener;overlaySubscription;constructor(o,i,a,n,s,c,l,m){this.document=o,this.platformId=i,this.el=a,this.renderer=n,this.cd=s,this.zone=c,this.config=l,this.overlayService=m}ngAfterContentInit(){this.templates?.forEach(o=>{switch(o.getType()){case"content":default:this.contentTemplate=o.template;break;case"closeicon":this.closeIconTemplate=o.template}this.cd.markForCheck()})}bindDocumentClickListener(){(0,_.NF)(this.platformId)&&!this.documentClickListener&&this.dismissable&&this.zone.runOutsideAngular(()=>{let o=b.p.isIOS()?"touchstart":"click";this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:this.document,o,a=>{!this.container?.contains(a.target)&&this.target!==a.target&&!this.target.contains(a.target)&&!this.selfClick&&this.zone.run(()=>{this.hide()}),this.selfClick=!1,this.cd.markForCheck()})})}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null,this.selfClick=!1)}toggle(o,i){this.isOverlayAnimationInProgress||(this.overlayVisible?(this.hasTargetChanged(o,i)&&(this.destroyCallback=()=>{this.show(null,i||o.currentTarget||o.target)}),this.hide()):this.show(o,i))}show(o,i){i&&o&&o.stopPropagation(),!this.isOverlayAnimationInProgress&&(this.target=i||o.currentTarget||o.target,this.overlayVisible=!0,this.render=!0,this.cd.markForCheck())}onOverlayClick(o){this.overlayService.add({originalEvent:o,target:this.el.nativeElement}),this.selfClick=!0}onContentClick(){this.selfClick=!0}hasTargetChanged(o,i){return null!=this.target&&this.target!==(i||o.currentTarget||o.target)}appendContainer(){this.appendTo&&("body"===this.appendTo?this.renderer.appendChild(this.document.body,this.container):b.p.appendChild(this.container,this.appendTo))}restoreAppend(){this.container&&this.appendTo&&this.renderer.appendChild(this.el.nativeElement,this.container)}align(){this.autoZIndex&&F.P9.set("overlay",this.container,this.baseZIndex+this.config.zIndex.overlay),b.p.absolutePosition(this.container,this.target);const o=b.p.getOffset(this.container),i=b.p.getOffset(this.target),a=this.document.defaultView?.getComputedStyle(this.container).getPropertyValue("border-radius");let n=0;o.left<i.left&&(n=i.left-o.left-2*parseFloat(a)),this.container?.style.setProperty("--overlayArrowLeft",`${n}px`),o.top<i.top&&(b.p.addClass(this.container,"p-overlaypanel-flipped"),this.showCloseIcon&&this.renderer.setStyle(this.container,"margin-top","-30px"))}onAnimationStart(o){"open"===o.toState&&(this.container=o.element,this.appendContainer(),this.align(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.focusOnShow&&this.focus(),this.overlayEventListener=i=>{this.container&&this.container.contains(i.target)&&(this.selfClick=!0)},this.overlaySubscription=this.overlayService.clickObservable.subscribe(this.overlayEventListener),this.onShow.emit(null)),this.isOverlayAnimationInProgress=!0}onAnimationEnd(o){switch(o.toState){case"void":this.destroyCallback&&(this.destroyCallback(),this.destroyCallback=null),this.overlaySubscription&&this.overlaySubscription.unsubscribe();break;case"close":this.autoZIndex&&F.P9.clear(this.container),this.overlaySubscription&&this.overlaySubscription.unsubscribe(),this.onContainerDestroy(),this.onHide.emit({}),this.render=!1}this.isOverlayAnimationInProgress=!1}focus(){let o=b.p.findSingle(this.container,"[autofocus]");o&&this.zone.runOutsideAngular(()=>{setTimeout(()=>o.focus(),5)})}hide(){this.overlayVisible=!1,this.cd.markForCheck()}onCloseClick(o){this.hide(),o.preventDefault()}onWindowResize(){this.overlayVisible&&!b.p.isTouchDevice()&&this.hide()}bindDocumentResizeListener(){(0,_.NF)(this.platformId)&&!this.documentResizeListener&&(this.documentResizeListener=this.renderer.listen(this.document.defaultView,"resize",this.onWindowResize.bind(this)))}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindScrollListener(){(0,_.NF)(this.platformId)&&(this.scrollHandler||(this.scrollHandler=new b.V(this.target,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener())}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}onContainerDestroy(){this.cd.destroyed||(this.target=null),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener()}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.container&&this.autoZIndex&&F.P9.clear(this.container),this.cd.destroyed||(this.target=null),this.destroyCallback=null,this.container&&(this.restoreAppend(),this.onContainerDestroy()),this.overlaySubscription&&this.overlaySubscription.unsubscribe()}static \u0275fac=function(i){return new(i||e)(t.Y36(_.K0),t.Y36(t.Lbi),t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(t.sBO),t.Y36(t.R0b),t.Y36(v.b4),t.Y36(v.F0))};static \u0275cmp=t.Xpm({type:e,selectors:[["p-overlayPanel"]],contentQueries:function(i,a,n){if(1&i&&t.Suo(n,v.jx,4),2&i){let s;t.iGM(s=t.CRH())&&(a.templates=s)}},hostAttrs:[1,"p-element"],inputs:{dismissable:"dismissable",showCloseIcon:"showCloseIcon",style:"style",styleClass:"styleClass",appendTo:"appendTo",autoZIndex:"autoZIndex",ariaCloseLabel:"ariaCloseLabel",baseZIndex:"baseZIndex",focusOnShow:"focusOnShow",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onShow:"onShow",onHide:"onHide"},ngContentSelectors:gt,decls:1,vars:1,consts:[[3,"ngClass","ngStyle","class","click",4,"ngIf"],[3,"ngClass","ngStyle","click"],[1,"p-overlaypanel-content",3,"click","mousedown"],[4,"ngTemplateOutlet"],["type","button","class","p-overlaypanel-close p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],["type","button","pRipple","",1,"p-overlaypanel-close","p-link",3,"click","keydown.enter"],[3,"styleClass",4,"ngIf"],["class","p-overlaypanel-close-icon",4,"ngIf"],[3,"styleClass"],[1,"p-overlaypanel-close-icon"]],template:function(i,a){1&i&&(t.F$t(),t.YNc(0,ht,5,13,"div",0)),2&i&&t.Q6J("ngIf",a.render)},dependencies:function(){return[_.mk,_.O5,_.tP,_.PC,x.H,Q.q]},styles:['.p-overlaypanel{position:absolute;margin-top:10px;top:0;left:0}.p-overlaypanel-flipped{margin-top:0;margin-bottom:10px}.p-overlaypanel-close{display:flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-overlaypanel:after,.p-overlaypanel:before{bottom:100%;left:calc(var(--overlayArrowLeft, 0) + 1.25rem);content:" ";height:0;width:0;position:absolute;pointer-events:none}.p-overlaypanel:after{border-width:8px;margin-left:-8px}.p-overlaypanel:before{border-width:10px;margin-left:-10px}.p-overlaypanel-shifted:after,.p-overlaypanel-shifted:before{left:auto;right:1.25em;margin-left:auto}.p-overlaypanel-flipped:after,.p-overlaypanel-flipped:before{bottom:auto;top:100%}.p-overlaypanel.p-overlaypanel-flipped:after{border-bottom-color:transparent}.p-overlaypanel.p-overlaypanel-flipped:before{border-bottom-color:transparent}\n'],encapsulation:2,data:{animation:[(0,g.X$)("animation",[(0,g.SB)("void",(0,g.oB)({transform:"scaleY(0.8)",opacity:0})),(0,g.SB)("close",(0,g.oB)({opacity:0})),(0,g.SB)("open",(0,g.oB)({transform:"translateY(0)",opacity:1})),(0,g.eR)("void => open",(0,g.jt)("{{showTransitionParams}}")),(0,g.eR)("open => close",(0,g.jt)("{{hideTransitionParams}}"))])]},changeDetection:0})}return e})(),bt=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=t.oAB({type:e});static \u0275inj=t.cJS({imports:[_.ez,x.T,v.m8,Q.q,v.m8]})}return e})();var w=p(5389),U=p(6263),O=p(4055),N=p(7161),vt=p(8725),z=p(9326);const Zt=["op1"];function Tt(e,r){1&e&&t._UZ(0,"i",31)}function At(e,r){1&e&&t._UZ(0,"i",31)}function xt(e,r){1&e&&t._UZ(0,"i",31)}function Ct(e,r){1&e&&t._UZ(0,"i",31)}function Rt(e,r){1&e&&t._UZ(0,"i",31)}function qt(e,r){1&e&&t._UZ(0,"i",31)}function yt(e,r){1&e&&t._UZ(0,"i",37)}const f=function(e){return{background:e,color:"white"}};function Dt(e,r){if(1&e&&(t.TgZ(0,"span",50),t._UZ(1,"p-tag",51),t.qZA()),2&e){const o=t.oxw().$implicit,i=t.oxw(3);t.xp6(1),t.Akn(t.VKq(3,f,i.botonReservaColor)),t.Q6J("value","Reservada ("+i.validarEstado(o.detalle,5)+")")}}function It(e,r){if(1&e&&(t.TgZ(0,"span",50),t._UZ(1,"p-tag",52),t.qZA()),2&e){const o=t.oxw(4);t.xp6(1),t.Akn(t.VKq(2,f,o.botonDisponibleColor))}}function Mt(e,r){if(1&e&&(t.TgZ(0,"span",50),t._UZ(1,"p-tag",53),t.qZA()),2&e){const o=t.oxw(4);t.xp6(1),t.Akn(t.VKq(2,f,o.botonLimpiezaColor))}}function Ft(e,r){if(1&e&&(t.TgZ(0,"span",50),t._UZ(1,"p-tag",54),t.qZA()),2&e){const o=t.oxw(4);t.xp6(1),t.Akn(t.VKq(2,f,o.botonMantenimientoColor))}}function wt(e,r){if(1&e&&(t.TgZ(0,"span",50),t._UZ(1,"p-tag",55),t.qZA()),2&e){const o=t.oxw(4);t.xp6(1),t.Akn(t.VKq(2,f,o.botonOcupadoColor))}}function Ut(e,r){if(1&e){const o=t.EpF();t.TgZ(0,"div",38)(1,"p-overlayPanel",39,40)(3,"p-menu",41),t.NdJ("click",function(){const n=t.CHM(o).$implicit,s=t.oxw(3);return t.KtG(s.opcionesHabitacion(n))}),t.qZA()(),t.TgZ(4,"div",42),t.NdJ("click",function(a){const s=t.CHM(o).$implicit,c=t.oxw(3);return t.KtG(c.abrirMenu(a,s))}),t._UZ(5,"label",43),t.qZA(),t.TgZ(6,"i",44),t.NdJ("click",function(a){const s=t.CHM(o).$implicit,c=t.oxw(3);return t.KtG(c.abrirMenu(a,s))}),t.qZA(),t.TgZ(7,"p-overlayPanel",39,40)(9,"p-menu",41),t.NdJ("click",function(){const n=t.CHM(o).$implicit,s=t.oxw(3);return t.KtG(s.opcionesHabitacion(n))}),t.qZA()(),t.TgZ(10,"div",45),t.NdJ("click",function(a){const s=t.CHM(o).$implicit,c=t.oxw(3);return t.KtG(c.abrirMenu(a,s))}),t.TgZ(11,"div",46),t._UZ(12,"img",47),t.qZA(),t.TgZ(13,"div",48),t.YNc(14,Dt,2,5,"span",49),t.YNc(15,It,2,4,"span",49),t.YNc(16,Mt,2,4,"span",49),t.YNc(17,Ft,2,4,"span",49),t.YNc(18,wt,2,4,"span",49),t.qZA()()()}if(2&e){const o=r.$implicit,i=t.oxw(3);t.xp6(1),t.Q6J("showCloseIcon",!0),t.xp6(2),t.Q6J("model",i.menuHabitacion),t.xp6(2),t.Q6J("label",(null==o||null==o.tipoHabitacion?null:o.tipoHabitacion.nombre)+" "+o.nombre),t.xp6(2),t.Q6J("showCloseIcon",!0),t.xp6(2),t.Q6J("model",i.menuHabitacion),t.xp6(3),t.MGl("src","assets/puertas/",o.habitacionNombre,".jpg",t.LSH),t.xp6(1),t.Akn("margin-left: 20%;display: flex;"),t.xp6(1),t.Q6J("ngIf",i.validarEstado(o.detalle,5)),t.xp6(1),t.Q6J("ngIf",i.validarEstado(o.detalle,3)),t.xp6(1),t.Q6J("ngIf",i.validarEstado(o.detalle,4)),t.xp6(1),t.Q6J("ngIf",i.validarEstado(o.detalle,6)),t.xp6(1),t.Q6J("ngIf",i.validarEstado(o.detalle,2))}}function Ot(e,r){if(1&e&&(t.YNc(0,yt,1,0,"i",34),t.TgZ(1,"div",35),t.YNc(2,Ut,19,13,"div",36),t.qZA()),2&e){const o=t.oxw().$implicit;t.Q6J("ngIf",o.loading),t.xp6(2),t.Q6J("ngForOf",o.habitaciones)}}function Nt(e,r){if(1&e){const o=t.EpF();t.TgZ(0,"p-accordion"),t._UZ(1,"br"),t.TgZ(2,"p-accordionTab",32),t.NdJ("selectedChange",function(){const n=t.CHM(o).$implicit,s=t.oxw();return t.KtG(s.openTag(n.piso))}),t.YNc(3,Ot,3,2,"ng-template",33),t.qZA()()}if(2&e){const o=r.$implicit,i=t.oxw();t.xp6(2),t.Q6J("header","Piso "+o.piso)("selected",o.piso==i.primerPiso)}}function kt(e,r){1&e&&(t.TgZ(0,"div",78),t._uU(1,"La fecha de inicio no puede ser mayor a la fecha final"),t.qZA())}function Pt(e,r){1&e&&(t.TgZ(0,"div",78),t._uU(1,"Debe reservar por al menos una hora"),t.qZA())}function Jt(e,r){if(1&e&&(t.TgZ(0,"div",79)(1,"span",80),t._uU(2),t.qZA()()),2&e){const o=r.$implicit;t.xp6(2),t.Oqu(o.nombre)}}function St(e,r){if(1&e){const o=t.EpF();t.TgZ(0,"button",81),t.NdJ("click",function(){t.CHM(o);const a=t.oxw(2);return t.KtG(a.crearCliente())}),t.qZA()}}function Et(e,r){1&e&&(t.TgZ(0,"div",78),t._uU(1,"Seleccione el cliente"),t.qZA())}function Ht(e,r){1&e&&(t.TgZ(0,"div")(1,"h5"),t._uU(2,"Hora"),t.qZA()())}function Yt(e,r){1&e&&(t.TgZ(0,"div")(1,"h5"),t._uU(2,"Noche"),t.qZA()())}function Lt(e,r){if(1&e&&(t.TgZ(0,"div",79)(1,"span",80),t._uU(2),t._UZ(3,"p-tag",82),t.ALo(4,"currencyFormat"),t.YNc(5,Ht,3,0,"div",83),t.YNc(6,Yt,3,0,"div",83),t.qZA()()),2&e){const o=r.$implicit;t.xp6(2),t.hij(" ",o.nombre," "),t.xp6(1),t.s9C("icon",o.icon),t.s9C("value",t.lcZ(4,5,o.valor)),t.xp6(2),t.Q6J("ngIf",2==o.tipo),t.xp6(1),t.Q6J("ngIf",1==o.tipo)}}function Qt(e,r){1&e&&(t.TgZ(0,"div",78),t._uU(1,"Seleccione la tarifa"),t.qZA())}function zt(e,r){1&e&&(t.TgZ(0,"div",78),t._uU(1,"Monto es requerido"),t.qZA())}function Bt(e,r){if(1&e){const o=t.EpF();t.TgZ(0,"div",84)(1,"div",85)(2,"label",86),t._uU(3,"Monto"),t.qZA(),t._UZ(4,"br"),t.TgZ(5,"p-inputNumber",87),t.NdJ("ngModelChange",function(){t.CHM(o);const a=t.oxw(2);return t.KtG(a.checkAbonos())}),t.qZA(),t._UZ(6,"br"),t.YNc(7,zt,2,0,"div",18),t.qZA(),t.TgZ(8,"div",85)(9,"label",88),t._uU(10,"Medio Pago"),t.qZA(),t._UZ(11,"br")(12,"p-dropdown",89),t.qZA(),t.TgZ(13,"div",90),t._UZ(14,"label",91)(15,"br"),t.TgZ(16,"p-button",92),t.NdJ("click",function(){const n=t.CHM(o).index,s=t.oxw(2);return t.KtG(s.eliminarAbono(n))}),t.qZA()()()}if(2&e){const o=r.$implicit,i=t.oxw(2);t.Q6J("formGroup",o),t.xp6(7),t.Q6J("ngIf",null==o||null==o.controls.monto||null==o.controls.monto.errors?null:o.controls.monto.errors.required),t.xp6(5),t.Q6J("options",i.selectMedioPago)}}function $t(e,r){1&e&&t._UZ(0,"p-message",93)}function Vt(e,r){1&e&&(t.TgZ(0,"th"),t._UZ(1,"span"),t.qZA(),t.TgZ(2,"th"),t._UZ(3,"span"),t.qZA())}function Gt(e,r){1&e&&(t.TgZ(0,"tr")(1,"th"),t._uU(2,"Metodo de pago"),t.qZA(),t.TgZ(3,"th"),t._uU(4,"Monto"),t.qZA(),t.YNc(5,Vt,4,0,"ng-template",null,94,t.W1O),t.qZA())}function jt(e,r){1&e&&(t.TgZ(0,"td"),t._UZ(1,"span"),t.qZA(),t.TgZ(2,"td"),t._UZ(3,"span"),t.qZA())}function Kt(e,r){if(1&e&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.ALo(5,"currencyFormat"),t.qZA(),t.YNc(6,jt,4,0,"ng-template",null,94,t.W1O),t.qZA()),2&e){const o=r.$implicit;t.xp6(2),t.Oqu(o.medio_pago.nombre),t.xp6(2),t.hij("$ ",t.lcZ(5,2,o.monto),"")}}function Wt(e,r){1&e&&(t.TgZ(0,"td"),t._UZ(1,"span"),t.qZA(),t.TgZ(2,"td"),t._UZ(3,"span"),t.qZA())}function Xt(e,r){if(1&e&&(t.TgZ(0,"tr")(1,"td",95),t._uU(2,"Total"),t.qZA(),t.TgZ(3,"td",95),t._uU(4),t.ALo(5,"currencyFormat"),t.qZA(),t.YNc(6,Wt,4,0,"ng-template",null,94,t.W1O),t.qZA()),2&e){const o=t.oxw(2);t.xp6(4),t.hij(" $",t.lcZ(5,1,o.abonosTotal),"")}}function to(e,r){1&e&&(t.TgZ(0,"th"),t._UZ(1,"span"),t.qZA(),t.TgZ(2,"th"),t._UZ(3,"span"),t.qZA())}function oo(e,r){1&e&&(t.TgZ(0,"tr")(1,"th"),t._uU(2,"Nombre"),t.qZA(),t.TgZ(3,"th"),t._uU(4,"Precio"),t.qZA(),t.YNc(5,to,4,0,"ng-template",null,94,t.W1O),t.qZA())}function eo(e,r){1&e&&(t.TgZ(0,"td"),t._UZ(1,"span"),t.qZA(),t.TgZ(2,"td"),t._UZ(3,"span"),t.qZA())}function ao(e,r){if(1&e&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.ALo(5,"currencyFormat"),t.qZA(),t.YNc(6,eo,4,0,"ng-template",null,94,t.W1O),t.qZA()),2&e){const o=r.$implicit;t.xp6(2),t.Oqu(o.nombre),t.xp6(2),t.hij("$",t.lcZ(5,2,o.valor),"")}}function io(e,r){1&e&&(t.TgZ(0,"td"),t._UZ(1,"span"),t.qZA(),t.TgZ(2,"td"),t._UZ(3,"span"),t.qZA())}function no(e,r){if(1&e&&(t.TgZ(0,"tr")(1,"td",95),t._uU(2,"Total"),t.qZA(),t.TgZ(3,"td",95),t._uU(4),t.ALo(5,"currencyFormat"),t.qZA(),t.YNc(6,io,4,0,"ng-template",null,94,t.W1O),t.qZA()),2&e){const o=t.oxw(2);t.xp6(4),t.hij(" $",t.lcZ(5,1,o.tarifasTotal),"")}}function ro(e,r){1&e&&(t.TgZ(0,"th"),t._UZ(1,"span"),t.qZA(),t.TgZ(2,"th"),t._UZ(3,"span"),t.qZA())}function so(e,r){1&e&&(t.TgZ(0,"tr")(1,"th"),t._uU(2,"Subtotal"),t.qZA(),t.TgZ(3,"th"),t._uU(4,"Total"),t.qZA(),t.YNc(5,ro,4,0,"ng-template",null,94,t.W1O),t.qZA())}function lo(e,r){1&e&&(t.TgZ(0,"td"),t._UZ(1,"span"),t.qZA(),t.TgZ(2,"td"),t._UZ(3,"span"),t.qZA())}function co(e,r){if(1&e&&(t.TgZ(0,"tr")(1,"td",95),t._uU(2),t.ALo(3,"currencyFormat"),t.qZA(),t.TgZ(4,"td",95),t._uU(5),t.ALo(6,"currencyFormat"),t.qZA(),t.YNc(7,lo,4,0,"ng-template",null,94,t.W1O),t.qZA()),2&e){const o=t.oxw(2);t.xp6(2),t.hij("$ ",o.totalPagarReserva<=0?0:t.lcZ(3,2,o.totalPagarReserva)," "),t.xp6(3),t.hij("$ ",o.totalPagarReserva-o.abonosTotal<=0?0:t.lcZ(6,4,o.totalPagarReserva-o.abonosTotal)," ")}}const po=function(){return{width:"95vw"}},T=function(){return{"min-width":"25rem"}},B=function(){return[]};function mo(e,r){if(1&e){const o=t.EpF();t.TgZ(0,"p-dialog",56),t.NdJ("visibleChange",function(a){t.CHM(o);const n=t.oxw();return t.KtG(n.reservacionModalVisible=a)}),t.TgZ(1,"div",12)(2,"div",57)(3,"div",58)(4,"h4",59)(5,"strong"),t._uU(6),t.qZA()()(),t.TgZ(7,"div",60)(8,"button",61),t.NdJ("click",function(){t.CHM(o);const a=t.oxw();return t.KtG(a.hideDialog())}),t.qZA()()(),t.TgZ(9,"div",13),t.NdJ("ngSubmit",function(){t.CHM(o);const a=t.oxw();return t.KtG(a.enviarReservar())}),t.TgZ(10,"div",14)(11,"div",19)(12,"label"),t._uU(13,"Fecha Inicio"),t.qZA(),t._UZ(14,"p-calendar",62),t.YNc(15,kt,2,0,"div",18),t.qZA(),t.TgZ(16,"div",19)(17,"label"),t._uU(18,"Fecha Final"),t.qZA(),t._UZ(19,"p-calendar",63),t.YNc(20,Pt,2,0,"div",18),t.qZA(),t.TgZ(21,"div",14)(22,"div",15)(23,"label",64),t._uU(24,"Cliente"),t.qZA(),t.TgZ(25,"p-multiSelect",65),t.NdJ("onFilter",function(a){t.CHM(o);const n=t.oxw();return t.KtG(n.busquedaCliente(a))}),t.YNc(26,Jt,3,1,"ng-template",17),t.YNc(27,St,1,0,"ng-template",66),t.qZA(),t.YNc(28,Et,2,0,"div",18),t.qZA(),t.TgZ(29,"div",15)(30,"label",64),t._uU(31,"Tarifa"),t.qZA(),t.TgZ(32,"p-multiSelect",67),t.NdJ("onChange",function(a){t.CHM(o);const n=t.oxw();return t.KtG(n.checkTarifaReserva(a))}),t.YNc(33,Lt,7,7,"ng-template",17),t.qZA(),t.YNc(34,Qt,2,0,"div",18),t.qZA(),t.TgZ(35,"div",15)(36,"p-panel",68)(37,"button",69),t.NdJ("click",function(){t.CHM(o);const a=t.oxw();return t.KtG(a.agregarAbono())}),t.qZA(),t.YNc(38,Bt,17,3,"div",70),t.qZA()(),t.TgZ(39,"div",15)(40,"label"),t._uU(41,"Descripci\xf3n"),t.qZA(),t._UZ(42,"textarea",22),t.qZA(),t.YNc(43,$t,1,0,"p-message",71),t.TgZ(44,"div",72)(45,"div",73)(46,"h5"),t._uU(47,"Abonos"),t.qZA(),t.TgZ(48,"p-table",74),t.YNc(49,Gt,7,0,"ng-template",75),t.YNc(50,Kt,8,4,"ng-template",76),t.YNc(51,Xt,8,3,"ng-template",66),t.qZA()()(),t._UZ(52,"hr"),t.TgZ(53,"div",72)(54,"div",73)(55,"h5"),t._uU(56,"Tarifas"),t.qZA(),t.TgZ(57,"p-table",74),t.YNc(58,oo,7,0,"ng-template",75),t.YNc(59,ao,8,4,"ng-template",76),t.YNc(60,no,8,3,"ng-template",66),t.qZA()()(),t.TgZ(61,"div",72)(62,"div",73)(63,"h5"),t._uU(64,"Totales"),t.qZA(),t.TgZ(65,"p-table",74),t.YNc(66,so,7,0,"ng-template",75),t.YNc(67,co,9,6,"ng-template",66),t.qZA()()(),t.TgZ(68,"div",15)(69,"button",77),t.NdJ("click",function(){t.CHM(o);const a=t.oxw();return t.KtG(a.enviarReservar())}),t.qZA()()()()()()()}if(2&e){const o=t.oxw();t.Akn(t.DdM(33,po)),t.Q6J("showHeader",!1)("visible",o.reservacionModalVisible)("modal",!0)("draggable",!1)("resizable",!1),t.xp6(6),t.hij("Reservar ",o.nombreHabitacionReservada," "),t.xp6(3),t.Q6J("formGroup",o.reservaForm),t.xp6(5),t.Q6J("minDate",o.hoy)("showIcon",!0),t.xp6(1),t.Q6J("ngIf",o.reservaForm.get("fechaFinal").value<o.reservaForm.get("fechaInicio").value&&o.reservaForm.get("fechaFinal").value),t.xp6(4),t.Q6J("minDate",o.hoy)("showIcon",!0),t.xp6(1),t.Q6J("ngIf",o.reservaForm.get("fechaFinal").value<=o.reservaForm.get("fechaInicio").value&&o.reservaForm.get("fechaFinal").value),t.xp6(5),t.Q6J("options",o.clienteData),t.xp6(3),t.Q6J("ngIf",o.reservaForm.get("cliente_id").hasError("required")),t.xp6(4),t.Q6J("options",o.tarifaData),t.xp6(2),t.Q6J("ngIf",o.reservaForm.get("tarifa_id").hasError("required")),t.xp6(2),t.Q6J("toggleable",!0)("collapsed",o.collapsed),t.xp6(2),t.Q6J("ngForOf",o.formAbonosArray.controls),t.xp6(5),t.Q6J("ngIf",o.abonosTotal>o.totalPagarReserva),t.xp6(5),t.Q6J("value",o.formAbonosArray.value)("tableStyle",t.DdM(34,T))("rows",5),t.xp6(9),t.Q6J("value",o.reservaForm.get("tarifa_id").value)("tableStyle",t.DdM(35,T))("rows",5),t.xp6(8),t.Q6J("value",t.DdM(36,B))("tableStyle",t.DdM(37,T))("rows",5),t.xp6(4),t.Q6J("disabled",o.reservaForm.invalid||o.formAbonosArray.invalid||o.abonosTotal>o.totalPagarReserva||o.reservaForm.get("fechaFinal").value<=o.reservaForm.get("fechaInicio").value)}}function uo(e,r){if(1&e&&(t.TgZ(0,"div",79)(1,"span",80),t._uU(2),t.qZA()()),2&e){const o=r.$implicit;t.xp6(2),t.Oqu(o.name)}}function _o(e,r){1&e&&(t.TgZ(0,"div",78),t._uU(1,"Campo requerido"),t.qZA())}function ho(e,r){1&e&&(t.TgZ(0,"div",78),t._uU(1,"Campo requerido"),t.qZA())}function go(e,r){1&e&&t._UZ(0,"p-message",96)}function fo(e,r){if(1&e&&(t.TgZ(0,"div",79)(1,"span",80),t._uU(2),t.qZA()()),2&e){const o=r.$implicit;t.xp6(2),t.Oqu(o.name)}}function bo(e,r){1&e&&(t.TgZ(0,"div",78),t._uU(1,"Campo requerido"),t.qZA())}function vo(e,r){1&e&&(t.TgZ(0,"div",78),t._uU(1,"Campo requerido"),t.qZA())}function Zo(e,r){1&e&&t._UZ(0,"p-message",96)}function To(e,r){if(1&e&&(t.TgZ(0,"div",79)(1,"span",80),t._uU(2),t.qZA()()),2&e){const o=r.$implicit;t.xp6(2),t.Oqu(o.nombre)}}function Ao(e,r){if(1&e){const o=t.EpF();t.TgZ(0,"button",81),t.NdJ("click",function(){t.CHM(o);const a=t.oxw(2);return t.KtG(a.crearCliente())}),t.qZA()}}function xo(e,r){1&e&&(t.TgZ(0,"div",78),t._uU(1,"Seleccione el cliente"),t.qZA())}function Co(e,r){1&e&&(t.TgZ(0,"div")(1,"h5"),t._uU(2,"Hora"),t.qZA()())}function Ro(e,r){1&e&&(t.TgZ(0,"div")(1,"h5"),t._uU(2,"Noche"),t.qZA()())}function qo(e,r){if(1&e&&(t.TgZ(0,"div",79)(1,"span",80),t._uU(2),t._UZ(3,"p-tag",82),t.ALo(4,"currencyFormat"),t.YNc(5,Co,3,0,"div",83),t.YNc(6,Ro,3,0,"div",83),t.qZA()()),2&e){const o=r.$implicit;t.xp6(2),t.hij(" ",o.nombre," "),t.xp6(1),t.s9C("icon",o.icon),t.s9C("value",t.lcZ(4,5,o.valor)),t.xp6(2),t.Q6J("ngIf",2==o.tipo),t.xp6(1),t.Q6J("ngIf",1==o.tipo)}}function yo(e,r){1&e&&(t.TgZ(0,"div",78),t._uU(1,"Seleccione la tarifa"),t.qZA())}function Do(e,r){1&e&&(t.TgZ(0,"div",78),t._uU(1,"Monto es requerido."),t.qZA())}function Io(e,r){if(1&e){const o=t.EpF();t.TgZ(0,"div",84)(1,"div",85)(2,"label",86),t._uU(3,"Monto"),t.qZA(),t._UZ(4,"br"),t.TgZ(5,"p-inputNumber",87),t.NdJ("ngModelChange",function(){t.CHM(o);const a=t.oxw(2);return t.KtG(a.checkAbonoOcupar())}),t.qZA(),t._UZ(6,"br"),t.YNc(7,Do,2,0,"div",18),t.qZA(),t.TgZ(8,"div",85)(9,"label",88),t._uU(10,"Medio Pago"),t.qZA(),t._UZ(11,"br")(12,"p-dropdown",89),t.qZA(),t.TgZ(13,"div",90),t._UZ(14,"label",91)(15,"br"),t.TgZ(16,"p-button",92),t.NdJ("click",function(){const n=t.CHM(o).index,s=t.oxw(2);return t.KtG(s.eliminarAbonoOcupar(n))}),t.qZA()()()}if(2&e){const o=r.$implicit,i=t.oxw(2);t.Q6J("formGroup",o),t.xp6(7),t.Q6J("ngIf",null==o||null==o.controls.monto||null==o.controls.monto.errors?null:o.controls.monto.errors.required),t.xp6(5),t.Q6J("options",i.selectMedioPago)}}function Mo(e,r){1&e&&t._UZ(0,"p-message",93)}function Fo(e,r){1&e&&(t.TgZ(0,"th"),t._UZ(1,"span"),t.qZA(),t.TgZ(2,"th"),t._UZ(3,"span"),t.qZA())}function wo(e,r){1&e&&(t.TgZ(0,"tr")(1,"th"),t._uU(2,"Metodo de pago"),t.qZA(),t.TgZ(3,"th"),t._uU(4,"Monto"),t.qZA(),t.YNc(5,Fo,4,0,"ng-template",null,94,t.W1O),t.qZA())}function Uo(e,r){1&e&&(t.TgZ(0,"td"),t._UZ(1,"span"),t.qZA(),t.TgZ(2,"td"),t._UZ(3,"span"),t.qZA())}function Oo(e,r){if(1&e&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.ALo(5,"currencyFormat"),t.qZA(),t.YNc(6,Uo,4,0,"ng-template",null,94,t.W1O),t.qZA()),2&e){const o=r.$implicit;t.xp6(2),t.Oqu(o.medio_pago.nombre),t.xp6(2),t.hij("$ ",t.lcZ(5,2,o.monto),"")}}function No(e,r){1&e&&(t.TgZ(0,"td"),t._UZ(1,"span"),t.qZA(),t.TgZ(2,"td"),t._UZ(3,"span"),t.qZA())}function ko(e,r){if(1&e&&(t.TgZ(0,"tr")(1,"td",95),t._uU(2,"Total"),t.qZA(),t.TgZ(3,"td",95),t._uU(4),t.ALo(5,"currencyFormat"),t.qZA(),t.YNc(6,No,4,0,"ng-template",null,94,t.W1O),t.qZA()),2&e){const o=t.oxw(2);t.xp6(4),t.hij(" $",t.lcZ(5,1,o.abonosTotalOcupar),"")}}function Po(e,r){1&e&&(t.TgZ(0,"th"),t._UZ(1,"span"),t.qZA(),t.TgZ(2,"th"),t._UZ(3,"span"),t.qZA())}function Jo(e,r){1&e&&(t.TgZ(0,"tr")(1,"th"),t._uU(2,"Nombre"),t.qZA(),t.TgZ(3,"th"),t._uU(4,"Precio"),t.qZA(),t.YNc(5,Po,4,0,"ng-template",null,94,t.W1O),t.qZA())}function So(e,r){1&e&&(t.TgZ(0,"td"),t._UZ(1,"span"),t.qZA(),t.TgZ(2,"td"),t._UZ(3,"span"),t.qZA())}function Eo(e,r){if(1&e&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.ALo(5,"currencyFormat"),t.qZA(),t.YNc(6,So,4,0,"ng-template",null,94,t.W1O),t.qZA()),2&e){const o=r.$implicit;t.xp6(2),t.Oqu(o.nombre),t.xp6(2),t.hij("$",t.lcZ(5,2,o.valor),"")}}function Ho(e,r){1&e&&(t.TgZ(0,"td"),t._UZ(1,"span"),t.qZA(),t.TgZ(2,"td"),t._UZ(3,"span"),t.qZA())}function Yo(e,r){if(1&e&&(t.TgZ(0,"tr")(1,"td",95),t._uU(2,"Total"),t.qZA(),t.TgZ(3,"td",95),t._uU(4),t.ALo(5,"currencyFormat"),t.qZA(),t.YNc(6,Ho,4,0,"ng-template",null,94,t.W1O),t.qZA()),2&e){const o=t.oxw(2);t.xp6(4),t.hij(" $",t.lcZ(5,1,o.tarifasTotalOcupar),"")}}function Lo(e,r){1&e&&(t.TgZ(0,"th"),t._UZ(1,"span"),t.qZA(),t.TgZ(2,"th"),t._UZ(3,"span"),t.qZA())}function Qo(e,r){1&e&&(t.TgZ(0,"tr")(1,"th"),t._uU(2,"Subtotal"),t.qZA(),t.TgZ(3,"th"),t._uU(4,"Total"),t.qZA(),t.YNc(5,Lo,4,0,"ng-template",null,94,t.W1O),t.qZA())}function zo(e,r){1&e&&(t.TgZ(0,"td"),t._UZ(1,"span"),t.qZA(),t.TgZ(2,"td"),t._UZ(3,"span"),t.qZA())}function Bo(e,r){if(1&e&&(t.TgZ(0,"tr")(1,"td",95),t._uU(2),t.ALo(3,"currencyFormat"),t.qZA(),t.TgZ(4,"td",95),t._uU(5),t.ALo(6,"currencyFormat"),t.qZA(),t.YNc(7,zo,4,0,"ng-template",null,94,t.W1O),t.qZA()),2&e){const o=t.oxw(2);t.xp6(2),t.hij("$ ",o.totalPagarOcupar<=0?0:t.lcZ(3,2,o.totalPagarOcupar)," "),t.xp6(3),t.hij("$ ",o.totalPagarOcupar-o.abonosTotalOcupar<=0?0:t.lcZ(6,4,o.totalPagarOcupar-o.abonosTotalOcupar)," ")}}const $o=function(){return{width:"70vw"}};function Vo(e,r){if(1&e){const o=t.EpF();t.TgZ(0,"p-dialog",97),t.NdJ("visibleChange",function(a){t.CHM(o);const n=t.oxw();return t.KtG(n.ocuparModalVisible=a)}),t.TgZ(1,"div",12)(2,"div",13),t.NdJ("ngSubmit",function(){t.CHM(o);const a=t.oxw();return t.KtG(a.enviarOcupar())}),t.TgZ(3,"h2",46),t._uU(4),t.qZA(),t.TgZ(5,"div",14)(6,"div",15)(7,"label",64),t._uU(8,"Cliente"),t.qZA(),t.TgZ(9,"p-multiSelect",98),t.NdJ("onFilter",function(a){t.CHM(o);const n=t.oxw();return t.KtG(n.busquedaCliente(a))}),t.YNc(10,To,3,1,"ng-template",17),t.YNc(11,Ao,1,0,"ng-template",66),t.qZA(),t.YNc(12,xo,2,0,"div",18),t.qZA(),t.TgZ(13,"div",15)(14,"label",64),t._uU(15,"Tarifa"),t.qZA(),t.TgZ(16,"p-multiSelect",67),t.NdJ("onChange",function(a){t.CHM(o);const n=t.oxw();return t.KtG(n.checkTarifaOcupar(a))}),t.YNc(17,qo,7,7,"ng-template",17),t.qZA(),t.YNc(18,yo,2,0,"div",18),t.qZA(),t.TgZ(19,"div",15)(20,"p-panel",99)(21,"button",69),t.NdJ("click",function(){t.CHM(o);const a=t.oxw();return t.KtG(a.agregarAbonoOcupar())}),t.qZA(),t.YNc(22,Io,17,3,"div",70),t.qZA()(),t.TgZ(23,"div",15)(24,"label"),t._uU(25,"Descripci\xf3n"),t.qZA(),t._UZ(26,"textarea",22),t.qZA(),t.YNc(27,Mo,1,0,"p-message",71),t.TgZ(28,"div",72)(29,"div",73)(30,"h5"),t._uU(31,"Abonos"),t.qZA(),t.TgZ(32,"p-table",74),t.YNc(33,wo,7,0,"ng-template",75),t.YNc(34,Oo,8,4,"ng-template",76),t.YNc(35,ko,8,3,"ng-template",66),t.qZA()()(),t._UZ(36,"hr"),t.TgZ(37,"div",72)(38,"div",73)(39,"h5"),t._uU(40,"Tarifas"),t.qZA(),t.TgZ(41,"p-table",74),t.YNc(42,Jo,7,0,"ng-template",75),t.YNc(43,Eo,8,4,"ng-template",76),t.YNc(44,Yo,8,3,"ng-template",66),t.qZA()()(),t.TgZ(45,"div",72)(46,"div",73)(47,"h5"),t._uU(48,"Totales"),t.qZA(),t.TgZ(49,"p-table",74),t.YNc(50,Qo,7,0,"ng-template",75),t.YNc(51,Bo,9,6,"ng-template",66),t.qZA()()(),t.TgZ(52,"div",15)(53,"button",100),t.NdJ("click",function(){t.CHM(o);const a=t.oxw();return t.KtG(a.enviarOcupar())}),t.qZA()()()()()()}if(2&e){const o=t.oxw();t.Akn(t.DdM(26,$o)),t.Q6J("visible",o.ocuparModalVisible)("modal",!0)("draggable",!1)("resizable",!1),t.xp6(2),t.Q6J("formGroup",o.ocuparForm),t.xp6(2),t.hij("",o.nombreHabitacionReservada," "),t.xp6(5),t.Q6J("options",o.clienteData),t.xp6(3),t.Q6J("ngIf",o.ocuparForm.get("cliente_id").hasError("required")),t.xp6(4),t.Q6J("options",o.tarifaData),t.xp6(2),t.Q6J("ngIf",o.ocuparForm.get("tarifa_id").hasError("required")),t.xp6(2),t.Q6J("toggleable",!0)("collapsed",o.collapsed),t.xp6(2),t.Q6J("ngForOf",o.formAbonoOcuparArray.controls),t.xp6(5),t.Q6J("ngIf",o.abonosTotalOcupar>o.totalPagarOcupar),t.xp6(5),t.Q6J("value",o.formAbonoOcuparArray.value)("tableStyle",t.DdM(27,T))("rows",5),t.xp6(9),t.Q6J("value",o.ocuparForm.get("tarifa_id").value)("tableStyle",t.DdM(28,T))("rows",5),t.xp6(8),t.Q6J("value",t.DdM(29,B))("tableStyle",t.DdM(30,T))("rows",5),t.xp6(4),t.Q6J("disabled",o.ocuparForm.invalid||o.formAbonoOcuparArray.invalid||o.abonosTotalOcupar>o.totalPagarOcupar)}}function Go(e,r){if(1&e){const o=t.EpF();t.TgZ(0,"app-clientes",101,102),t.NdJ("clienteCreado",function(a){t.CHM(o);const n=t.oxw();return t.KtG(n.handleClienteCreado(a))}),t.qZA()}if(2&e){const o=t.oxw();t.Q6J("vieneDeHabitaciones",o.creandoCliente)}}const $=function(){return{width:"95vw",height:"195vw"}};let jo=(()=>{class e{ngOnInit(){this.creandoCliente=!1,this.buildForm(),this.pisoId=1,this.primerPiso=this.pisoId;let o=JSON.parse(localStorage.getItem("currentUser"));this.hotelId=o.usuario.datalle_hoteles[0].hotel_id,this.getRoomsDashboardPisos(),this.clienteData=[],this.ProductoServicioData=[],this.empleadosData=[],this.tarifaData=[],this.hoy=new Date,this.selectedFilter=0}constructor(o,i,a,n,s,c){this.dashboardRoomsService=o,this.FB=i,this.spinner=a,this.datePipe=n,this.router=s,this.layoutService=c,this.dayNamesSpanish=["Domingo","Lunes","Martes","Mi\xe9rcoles","Jueves","Viernes","S\xe1bado"],this.dayNamesShortSpanish=["Dom","Lun","Mar","Mi\xe9","Jue","Vie","S\xe1b"],this.monthNamesSpanish=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],this.monthNamesShortSpanish=["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],this.botonDisponibleColor="#26B01A",this.botonReservaColor="#A30E67",this.botonOcupadoColor="#FF3D3D",this.botonLimpiezaColor="#00A3FF",this.botonMantenimientoColor="#F6A510",this.botonFacturadoColor="#00C5B9",this.botonTodosColor="#353535",this.localeSettingsSpanish={firstDayOfWeek:1,dayNames:this.dayNamesSpanish,dayNamesShort:this.dayNamesShortSpanish,monthNames:this.monthNamesSpanish,monthNamesShort:this.monthNamesShortSpanish,today:"Hoy",clear:"Borrar",dateFormat:"dd/mm/yy",weekHeader:"Sm"},this.selectedMulti=[],this.primerPiso=1,this.pisoSeleccionado=1,this.dataRoom=[],this.ProductoServicioDataSeleccionados=[],this.visibleModalLimpieza=!1,this.visibleModalMantenimiento=!1,this.selectMedioPago=[],this.reservacionModalVisible=!1,this.ocuparModalVisible=!1,this.tarifaData=[],this.tarifasTotal=0,this.abonosTotal=0,this.totalPagarReserva=0,this.tarifasTotalOcupar=0,this.abonosTotalOcupar=0,this.totalPagarOcupar=0,this.disableButtonMantenimiento=!1,this.disableButtonLimpieza=!1,this.creandoCliente=!1,this.collapsed=!0,this.selectedFilter=null}buildForm(){this.spinner.hide(),this.formLimpieza=this.FB.group({descripcion:["",[]],empleado:["",[d.kI.required]],fechaInicio:["",[d.kI.required]],fechaFinal:["",[d.kI.required]]}),this.formMantenimiento=this.FB.group({descripcion:["",[]],empleado:["",[d.kI.required]],fechaInicio:["",[d.kI.required]],fechaFinal:["",[d.kI.required]]}),this.reservaForm=this.FB.group({cliente_id:["",[d.kI.required]],tarifa_id:["",[d.kI.required]],producto_id:["",[]],abonos:this.formAbonosArray,descripcion:["",[]],fechaInicio:["",[d.kI.required]],fechaFinal:["",[d.kI.required]]}),this.ocuparForm=this.FB.group({cliente_id:["",[d.kI.required]],tarifa_id:["",[d.kI.required]],producto_id:["",[]],abonos:this.formAbonoOcuparArray,descripcion:["",[]]}),this.formAbonosArray=this.FB.array([]),this.formAbonoOcuparArray=this.FB.array([])}getRoomsDashboard(o=0){this.dashboardRoomsService.getDashboardRooms({hotel_id:this.hotelId,piso_id:this.pisoId,estado_id:o}).subscribe(a=>{this.dataRoom.forEach(s=>{this.pisoId==s.piso&&(s.habitaciones=[])});let n=this.dataRoom.find(s=>s.piso==this.pisoId);n.loading=!1,a.forEach(s=>{n.habitaciones.push({nombre:s.nombre,json:s.diseno_json,id:s.id,detalle:s.habitacion_estado,tipoHabitacion:s.tipo_habitacion,habitacionNombre:JSON.parse(s.tipo_habitacion.diseno_json).puerta,piso:s.piso,habitacionEstado:s.habitacion_estado})}),this.dataRoom.forEach(s=>{this.pisoId==s.piso&&(s=n)})},a=>{console.log("Error: ",a)})}getRoomsDashboardPisos(o=0){this.dashboardRoomsService.getPisos({hotel_id:this.hotelId,piso_id:this.pisoId,estado_id:o}).subscribe(a=>{this.dataRoomsPisos=[],this.dataRoomsPisos=a.pisos,this.dataRoomsPisos.forEach(n=>{this.dataRoom.push({piso:n.piso,habitaciones:[],loading:!0})}),this.getRoomsDashboard(o)},a=>{console.log("Error: ",a)})}openTag(o){this.pisoId=o,this.getRoomsDashboard()}opcionSeleccionada(o,i){this.estadoHabitacion=o.item.id,this.formAbonosArray=this.FB.array([]),this.formAbonoOcuparArray=this.FB.array([]),setTimeout(()=>{this.accionMenuHabitaciones()},500)}accionMenuHabitaciones(){let o={};if(5==this.estadoHabitacion){const i=(new Date).setDate((new Date).getDate()+1);this.reservaForm.reset(),this.formAbonosArray.clear(),this.abonosTotal=0,this.tarifasTotal=0,this.totalPagarReserva=0,this.collapsed=!0,this.getReserva(),this.reservaForm.get("fechaInicio").setValue(new Date),this.reservaForm.get("fechaFinal").setValue(new Date(i)),this.reservacionModalVisible=!0}else 2==this.estadoHabitacion?(this.ocuparForm.reset(),this.formAbonoOcuparArray.clear(),this.abonosTotalOcupar=0,this.tarifasTotalOcupar=0,this.totalPagarOcupar=0,this.collapsed=!0,this.getReserva(),this.ocuparModalVisible=!0):4==this.estadoHabitacion?this.getDataEmpleado({hotel_id:this.habitacionId,estado:4}):6==this.estadoHabitacion?this.getDataEmpleado({hotel_id:this.habitacionId,estado:6}):20==this.estadoHabitacion?(o={id_habitacion:this.habitacionId},u().fire({title:"\xbfEstas seguro que deseas Salir (Check Out)?",text:"",icon:"warning",showCancelButton:!0,confirmButtonText:"S\xed, Confirmar",cancelButtonText:"Cancelar"}).then(i=>{i.isConfirmed&&this.enviarDesocupar(o)})):50==this.estadoHabitacion?(o={id_habitacion:this.habitacionId},u().fire({title:"\xbfEstas seguro que deseas Anular la reserva?",text:"",icon:"warning",showCancelButton:!0,confirmButtonText:"S\xed, Confirmar",cancelButtonText:"Cancelar"}).then(i=>{i.isConfirmed&&this.enviarAnularReserva(o)})):40==this.estadoHabitacion?(o={id_habitacion:this.habitacionId},u().fire({title:"\xbfEstas seguro que deseas Anular La Limpieza?",text:"",icon:"warning",showCancelButton:!0,confirmButtonText:"S\xed, Confirmar",cancelButtonText:"Cancelar"}).then(i=>{i.isConfirmed&&this.enviarAnularLimpieza(o)})):60==this.estadoHabitacion?(o={id_habitacion:this.habitacionId},u().fire({title:"\xbfEstas seguro que deseas Anular el mantenimiento?",text:"",icon:"warning",showCancelButton:!0,confirmButtonText:"S\xed, Confirmar",cancelButtonText:"Cancelar"}).then(i=>{i.isConfirmed&&this.enviarAnularMantenimiento(o)})):8==this.estadoHabitacion&&this.router.navigate(["dashboard/dashboardRooms/"+this.habitacionId+"/ocupar"])}abrirMenu(o,i){this.op1.toggle(o);let a=[];this.habitacionId=i.id,this.nombreHabitacionReservada=i.nombre,this.tipoHabitacionId=i.tipoHabitacion.id,this.pisoSeleccionado=i.piso,this.estadoHabitacionActual=i.habitacionEstado,this.detalleHabitacion=i.detalle,this.estadoHabitacionActual.forEach(c=>{a.push(c.estado_id)});let n=[];if(a.includes(5)||n.push({label:"Reservar",icon:"pi pi-calendar-times",id:"5",command:c=>this.opcionSeleccionada(c,i),visible:!0,disabled:!1}),a.includes(4)||n.push({label:"Limpieza",icon:"pi pi-exclamation-triangle",id:"4",command:c=>this.opcionSeleccionada(c,i),visible:!0,disabled:!1
/*!estadoHabitaciones.includes(2) ? false : true,*/}),(a.includes(2)||a.includes(7))&&n.push({label:"Ver Ingreso",icon:"pi pi-book",id:"8",command:c=>this.opcionSeleccionada(c,i),visible:!0,disabled:!a.includes(7)&&!a.includes(2)}),!a.includes(2)){let c=!1;i.detalle&&i.detalle.forEach(l=>{if(5==l.estado_id){let m=new Date(l.fecha_inicio),h=m.getFullYear()+"/"+m.getMonth()+"/"+m.getDate();(new Date).getFullYear()+"/"+(new Date).getMonth()+"/"+(new Date).getDate()==h&&(c=!0)}}),n.push({label:"Ingresar (Check-in)",icon:"pi pi-lock",id:"2",command:l=>this.opcionSeleccionada(l,i),visible:!0,disabled:!!a.includes(7)||a.includes(4)||a.includes(6)})}a.includes(6)||n.push({label:"Mantenimiento",icon:"pi pi-wrench",id:"6",command:c=>this.opcionSeleccionada(c,i),visible:!0,disabled:!1
/*!estadoHabitaciones.includes(2) ? false : true,*/});let s=!1;a.forEach(c=>{switch(c){case 5:s||(n.push({label:"Reservar",icon:"pi pi-calendar-times",id:"5",command:l=>this.opcionSeleccionada(l,i),visible:!0,disabled:!1}),s=!0);break;case 4:n.push({label:"Anular Limpieza",icon:"pi pi-exclamation-triangle",id:"40",command:l=>this.opcionSeleccionada(l,i),visible:!0,disabled:!1
/*!estadoHabitaciones.includes(2)
                    ? false
                    : true,*/});break;case 6:n.push({label:"Anular Mantenimiento",icon:"pi pi-wrench",id:"60",command:l=>this.opcionSeleccionada(l,i),visible:!0,disabled:!1
/*!estadoHabitaciones.includes(2)
                    ? false
                    : true,*/})}}),this.menuHabitacion=[{label:"Opciones",items:n}]}enviarDesocupar(o){this.dashboardRoomsService.desocupar(o).subscribe(i=>{let a=i;"success"==a.code?(u().fire({title:"Exito",text:"Anulacion Exitosa.",icon:"success"}),this.openTag(this.pisoSeleccionado)):"warning"==a.code?u().fire({title:"Advertencia",text:a.error,icon:"warning"}):u().fire({title:"Error",text:"Error al anular.",icon:"error"})},i=>{console.log("Error: ",i)})}enviarAnularReserva(o){this.dashboardRoomsService.anularReserva(o).subscribe(i=>{let a=i;"success"==a.code?(u().fire({title:"Exito",text:"Anulacion Exitosa.",icon:"success"}),this.layoutService.reloadComponent(),this.openTag(this.pisoSeleccionado)):"warning"==a.code?u().fire({title:"Advertencia",text:a.error,icon:"warning"}):u().fire({title:"Error",text:"Error al anular.",icon:"error"})},i=>{console.log("Error: ",i)})}enviarAnularLimpieza(o){this.dashboardRoomsService.anularLimpieza(o).subscribe(i=>{let a=i;"success"==a.code?(u().fire({title:"Exito",text:"Anulacion Exitosa.",icon:"success"}),this.openTag(this.pisoSeleccionado)):"warning"==a.code?u().fire({title:"Advertencia",text:a.error,icon:"warning"}):u().fire({title:"Error",text:"Error al anular.",icon:"error"})},i=>{console.log("Error: ",i)})}enviarAnularMantenimiento(o){this.spinner.show(),this.dashboardRoomsService.anularMantenimiento(o).subscribe(i=>{this.spinner.hide();let a=i;"success"==a.code?(u().fire({title:"Exito",text:"Anulacion Exitosa.",icon:"success"}),this.openTag(this.pisoSeleccionado)):"warning"==a.code?u().fire({title:"Advertencia",text:a.error,icon:"warning"}):u().fire({title:"Error",text:"Error al anular.",icon:"error"})},i=>{console.log("Error: ",i)})}enviarMantenimiento(o){this.spinner.show(),this.dashboardRoomsService.mantenimiento(o).subscribe(i=>{this.spinner.hide(),this.visibleModalMantenimiento=!1;let a=i;"success"==a.code?(u().fire({title:"Exito",text:"Registro exitoso.",icon:"success"}),this.openTag(this.pisoSeleccionado)):"warning"==a.code?u().fire({title:"Advertencia",text:a.error,icon:"warning"}):u().fire({title:"Error",text:"Error al registrar.",icon:"error"})},i=>{console.log("Error: ",i)})}enviarOcuparReserva(o){this.spinner.show(),this.dashboardRoomsService.ocuparReserva(o).subscribe(i=>{this.spinner.hide();let a=i;this.ocuparModalVisible=!1,"success"==a.code?(u().fire({title:"Exito",text:"Ingreso exitoso.",icon:"success"}),this.openTag(this.pisoSeleccionado)):"warning"==a.code?u().fire({title:"Advertencia",text:a.error,icon:"warning"}):u().fire({title:"Error",text:"Error al generar el ingreso.",icon:"error"})},i=>{console.log("Error: ",i)})}enviarLimpieza(o){this.spinner.show(),this.dashboardRoomsService.limpieza(o).subscribe(i=>{this.spinner.hide();let a=i;this.visibleModalLimpieza=!1,"success"==a.code?(u().fire({title:"Exito",text:"Registro exitoso.",icon:"success"}),this.openTag(this.pisoSeleccionado)):"warning"==a.code?u().fire({title:"Advertencia",text:a.error,icon:"warning"}):u().fire({title:"Error",text:"Error al registrar.",icon:"error"})},i=>{console.log("Error: ",i)})}getDataEmpleado(o){this.spinner.show(),this.dashboardRoomsService.getEmpleadoHabitacion(o).subscribe(i=>{this.spinner.hide(),this.empleadosData=[],i.empleados.forEach(a=>{this.empleadosData.push({name:a.nombres+" "+a.apellidos,code:a.id})}),4==o.estado?(this.formLimpieza.reset(),this.visibleModalLimpieza=!0):6==o.estado&&(this.formMantenimiento.reset(),this.visibleModalMantenimiento=!0)},i=>{this.spinner.hide(),console.log("Error: ",i)})}submitAsignarMantenimiento(){if(this.formMantenimiento.valid){let o={empleado_id:this.formMantenimiento.value.empleado[0].code,descripcion:this.formMantenimiento.value.descripcion,fecha_final:this.datePipe.transform(this.formMantenimiento.value.fechaFinal,"yyyy-MM-dd HH:mm:ss"),fecha_inicio:this.datePipe.transform(this.formMantenimiento.value.fechaInicio,"yyyy-MM-dd HH:mm:ss"),habitacion_id:this.habitacionId};this.enviarMantenimiento(o)}}changeFechaMantenimiento(){let o=this.formMantenimiento.get("fechaInicio").value,i=this.formMantenimiento.get("fechaFinal").value;this.disableButtonMantenimiento=o>i}changeFechaLimpieza(o){let i=this.formLimpieza.get("fechaInicio").value,a=this.formLimpieza.get("fechaFinal").value;this.disableButtonLimpieza=i>a}validarEstado(o,i){return o.filter(n=>n.estado_id==i).length}orderar(o){this.selectedFilter=o,this.dataRoom=[],this.getRoomsDashboardPisos(o)}busquedaCliente(o){this.getReserva(o.filter)}submitAsignarLimpieza(){if(this.formLimpieza.valid){let o={empleado_id:this.formLimpieza.value.empleado[0].code,descripcion:this.formLimpieza.value.descripcion,fecha_final:this.datePipe.transform(this.formLimpieza.value.fechaFinal,"yyyy-MM-dd HH:mm:ss"),fecha_inicio:this.datePipe.transform(this.formLimpieza.value.fechaInicio,"yyyy-MM-dd HH:mm:ss"),habitacion_id:this.habitacionId};this.enviarLimpieza(o)}}opcionesHabitacion(o){}getReserva(o=""){this.spinner.show(),this.dashboardRoomsService.getReserva({hotel_id:this.hotelId,cliente_busqueda:o,tipo_habitacion:this.tipoHabitacionId}).subscribe(a=>{this.spinner.hide();let n=a.cliente,s=a.metodos_pago,c=a.tarifa;this.clienteData=[],this.selectMedioPago=[],this.tarifaData=[],n.forEach(l=>{this.clienteData.push({nombre:l.numero_documento+" "+l.nombres+" "+(l.apellidos?l.apellidos:""),code:l.numero_documento,id:l.id})}),s.forEach(l=>{this.selectMedioPago.push({nombre:l.nombre,id:l.id})}),c.forEach(l=>{l.tipo_habitacion_id==this.tipoHabitacionId&&this.tarifaData.push({nombre:l.nombre,id:l.id,tipo:l.tipo,valor:l.valor,tipo_habitacion_id:l.tipo_habitacion_id,icon:1!=l.tipo?"pi pi-hourglass":"pi pi-moon"})})},a=>{this.spinner.hide(),console.log("Error: ",a)})}checkTarifaReserva(o){this.tarifasTotal=0,this.reservaForm.get("tarifa_id").value.forEach(i=>{this.tarifasTotal=this.tarifasTotal+parseInt(i.valor)}),this.totalPagarReserva=0,this.totalPagarReserva=this.tarifasTotal}checkAbonos(){this.abonosTotal=0,this.formAbonosArray.value.forEach(o=>{this.abonosTotal=this.abonosTotal+parseFloat(o.monto)})}agregarAbono(){let o=this.FB.group({monto:["",[d.kI.required,d.kI.min(0)]],medio_pago:[this.selectMedioPago[0],[d.kI.required,d.kI.min(0)]]});this.formAbonosArray.push(o)}eliminarAbono(o){this.formAbonosArray.removeAt(o),this.checkAbonos()}enviarReservar(){this.spinner.show();let o={hotel_id:this.hotelId,habitacion_id:this.habitacionId,cliente_id:this.reservaForm.get("cliente_id").value[0].id,tarifas:this.reservaForm.get("tarifa_id").value,abonos:this.formAbonosArray.value,descripcion:this.reservaForm.get("descripcion").value,fecha_inicio:this.datePipe.transform(this.reservaForm.get("fechaInicio").value,"yyyy-MM-dd HH:mm:ss"),fecha_final:this.datePipe.transform(this.reservaForm.get("fechaFinal").value,"yyyy-MM-dd HH:mm:ss"),subtotal:this.totalPagarReserva-this.abonosTotal,total:this.totalPagarReserva,productos:[]};this.dashboardRoomsService.reservar(o).subscribe(i=>{this.spinner.hide();let a=i;this.reservacionModalVisible=!1,"success"==a.code?(this.layoutService.reloadComponent(),u().fire({title:"Exito",text:"Reservacion exitosa.",icon:"success"}),this.openTag(this.pisoSeleccionado)):"warning"==a.code?u().fire({title:"Advertencia",text:a.error,icon:"warning"}):u().fire({title:"Error",text:"Error al generar la reserva.",icon:"error"})},i=>{console.log("Error: ",i)})}checkTarifaOcupar(o){this.tarifasTotalOcupar=0,this.ocuparForm.get("tarifa_id").value.forEach(i=>{this.tarifasTotalOcupar=this.tarifasTotalOcupar+parseInt(i.valor)}),this.totalPagarOcupar=this.tarifasTotalOcupar}checkAbonoOcupar(){this.abonosTotalOcupar=0,this.formAbonoOcuparArray.value.forEach(o=>{this.abonosTotalOcupar=this.abonosTotalOcupar+parseFloat(o.monto)})}agregarAbonoOcupar(){let o=this.FB.group({monto:["",[d.kI.required,d.kI.min(0)]],medio_pago:[this.selectMedioPago[0],[d.kI.required,d.kI.min(0)]]});this.formAbonoOcuparArray.push(o)}eliminarAbonoOcupar(o){this.formAbonoOcuparArray.removeAt(o),this.checkAbonoOcupar()}enviarOcupar(){this.spinner.show();let o={cliente_id:this.ocuparForm.get("cliente_id").value[0].id,total:this.totalPagarOcupar,subtotal:this.totalPagarOcupar-this.abonosTotalOcupar,tarifas:this.ocuparForm.get("tarifa_id").value,productos:[],descripcion:this.ocuparForm.get("descripcion").value,habitacion_id:this.habitacionId,hotel_id:this.hotelId,abonos:this.formAbonoOcuparArray.value};this.dashboardRoomsService.ocupar(o).subscribe(i=>{this.spinner.hide();let a=i;this.ocuparModalVisible=!1,"success"==a.code?(u().fire({title:"Exito",text:"Ingreso exitosa.",icon:"success"}),this.layoutService.reloadComponent(),this.openTag(this.pisoSeleccionado)):"warning"==a.code?u().fire({title:"Advertencia",text:a.error,icon:"warning"}):u().fire({title:"Error",text:"Error al generar el ingreso.",icon:"error"})},i=>{console.log("Error: ",i)})}crearCliente(){this.creandoCliente=!0}handleClienteCreado(o){this.creandoCliente=!1,o&&this.getReserva(),this.collapsed=!(this.formAbonosArray.length>0||this.formAbonoOcuparArray.length>0)}hideDialog(){this.reservacionModalVisible=!1}static#t=this.\u0275fac=function(i){return new(i||e)(t.Y36(M.y),t.Y36(d.qu),t.Y36(C.t2),t.Y36(_.uU),t.Y36(Z.F0),t.Y36(H.P))};static#o=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-dashboard-rooms"]],viewQuery:function(i,a){if(1&i&&t.Gf(Zt,5),2&i){let n;t.iGM(n=t.CRH())&&(a.op1=n.first)}},decls:71,vars:64,consts:[["type","ball-scale-multiple","size","large","bdColor","rgba(192,192,192,0.8)","template","<img src='assets/loading/cargando.gif' />"],[1,"card"],["icon","pi pi-calendar-times","value","Reservada",1,"btn","reservada","padding","habilitarCursor",3,"click"],["class","pi pi-check",4,"ngIf"],["icon","pi pi-lock-open","value","Disponible",1,"btn","disponible","padding","habilitarCursor",3,"click"],["icon","pi pi-exclamation-triangle","value","Limpieza",1,"btn","limpieza","padding","habilitarCursor",3,"click"],["icon","pi pi-wrench","value","Mantenimiento",1,"btn","mantenimiento","padding","habilitarCursor",3,"click"],["icon","pi pi-lock","value","Ocupada",1,"btn","ocupada","padding","habilitarCursor",3,"click"],["value","Todos",1,"btn","ninguna","padding","habilitarCursor",3,"click"],[4,"ngFor","ngForOf"],["header","Reservar",3,"showHeader","visible","modal","style","draggable","resizable","visibleChange",4,"ngIf"],["header","Asignar Limpieza","dateFormat","dd/mm/yy",3,"visible","modal","draggable","resizable","visibleChange"],[1,"col-12"],[3,"formGroup","ngSubmit"],[1,"p-fluid","p-formgrid","grid"],[1,"field","col-12","md:col-12"],["formControlName","empleado","selectionLimit","1","optionLabel","name","placeholder","Buscar Empleados","optionLabel","name","display","chip","emptyMessage","Empleado no encontrado",1,"multiselect-custom",3,"options"],["pTemplate","item"],["style","color: red;",4,"ngIf"],[1,"field","col-12","md:col-6"],["locale","localeSettingsSpanish","inputId","fechaInicioLimpieza","formControlName","fechaInicio","showTime","true",1,"ng-dirty",3,"showIcon","onSelect"],["locale","localeSettingsSpanish","inputId","fechaFinalLimpieza","formControlName","fechaFinal","showTime","true",1,"ng-dirty",3,"showIcon","onSelect"],["formControlName","descripcion","pInputTextarea","","rows","3","cols","20"],["severity","error","class","padding","text","La fecha final es mayor a la fecha inicial",4,"ngIf"],["pButton","","pRipple","","label","Asignar limpieza","type","submit",1,"w-full","bg-admin","boder-admin","mb-5","border-round-3xl",3,"disabled"],["header","Asignar Mantenimiento",3,"visible","modal","draggable","resizable","visibleChange"],["locale","localeSettingsSpanish","inputId","fechaInicioMantenimiento","formControlName","fechaInicio","showTime","true",1,"ng-dirty",3,"showIcon","onSelect"],["locale","localeSettingsSpanish","inputId","fechaFinalMantenimiento","formControlName","fechaFinal","showTime","true",1,"ng-dirty",3,"showIcon","onSelect"],["pButton","","pRipple","","label","Asignar Mantenimiento","type","submit",1,"w-full","bg-admin","boder-admin","mb-5","border-round-3xl",3,"disabled"],["header","Ingresar ",3,"visible","modal","style","draggable","resizable","visibleChange",4,"ngIf"],[3,"vieneDeHabitaciones","clienteCreado",4,"ngIf"],[1,"pi","pi-check"],[1,"line-height-3","m-0",3,"header","selected","selectedChange"],["pTemplate","listItem"],["class","pi pi-spin pi-spinner","style","font-size: 4em;",4,"ngIf"],[1,"grid","p-fluid","mt-3"],["class","field col-12 md:col-3",4,"ngFor","ngForOf"],[1,"pi","pi-spin","pi-spinner",2,"font-size","4em"],[1,"field","col-12","md:col-3"],[3,"showCloseIcon"],["op1",""],[3,"model","click"],[1,"nomeRoome",3,"click"],["pButton","",3,"label"],[1,"pi","pi-ellipsis-v",2,"font-size","2rem","margin-top","4%","cursor","pointer",3,"click"],[2,"cursor","pointer",3,"click"],[2,"text-align","center"],["width","80%","height","80%",1,"rooms",3,"src"],[1,"habitaciones-container"],["class","habitacion-item","style","padding: 2%;",4,"ngIf"],[1,"habitacion-item",2,"padding","2%"],["icon","pi pi-calendar-times",3,"value"],["icon","pi pi-lock-open","value","Disponible"],["icon","pi pi-exclamation-triangle","value","Limpieza"],["icon","pi pi-wrench","value","Mantenimiento"],["icon","pi pi-lock","value","Ocupado"],["header","Reservar",3,"showHeader","visible","modal","draggable","resizable","visibleChange"],[1,"container"],[1,"div1"],[2,"width","100%"],[1,"div2"],["icon","pi pi-times","pButton","","pRipple","","type","button",1,"p-button-rounded","p-button-text","p-button-plain",2,"text-align","left",3,"click"],["formControlName","fechaInicio","locale","localeSettingsSpanish","inputId","fechaInicio","showTime","true","dateFormat","dd/mm/yy",1,"ng-dirty",3,"minDate","showIcon"],["formControlName","fechaFinal","locale","localeSettingsSpanish","inputId","fechaFinal","showTime","true","dateFormat","dd/mm/yy",1,"ng-dirty",3,"minDate","showIcon"],["for","cliente"],["formControlName","cliente_id","selectionLimit","1","placeholder","Buscar cliente","optionLabel","nombre","display","chip","emptyMessage","Cliente no encontrado",1,"multiselect-custom",3,"options","onFilter"],["pTemplate","footer"],["formControlName","tarifa_id","optionLabel","nombre","placeholder","Buscar Tarifa","optionLabel","nombre","emptyMessage","Tarifa no encontrada","display","chip",1,"multiselect-custom",3,"options","onChange"],["header","Abonos  ",3,"toggleable","collapsed"],["pButton","","pRipple","","type","button","icon","pi pi-plus",1,"p-button-rounded",3,"click"],["style","margin-top: 5%;","class","grid formgrid",3,"formGroup",4,"ngFor","ngForOf"],["severity","error","class","padding","text","El abono es mayor a la cantidad agregada",4,"ngIf"],[1,"col-12","md:col-12"],[1,"table-details"],["responsiveLayout","scroll",3,"value","tableStyle","rows"],["pTemplate","header"],["pTemplate","body"],["pButton","","pRipple","","label","Crear Reserva","showTime","true","icon","pi pi-calendar-times","type","submit",1,"w-full","bg-admin","boder-admin","mb-5","border-round-3xl",3,"disabled","click"],[2,"color","red"],[1,"flex","align-items-center"],[1,"ml-2"],["pButton","","pRipple","","label","Crear nuevo cliente","type","button","icon","pi pi-plus",1,"w-full","bg-blue","boder-blue","mb-5","border-round-3xl",3,"click"],[1,"padding",3,"icon","value"],[4,"ngIf"],[1,"grid","formgrid",2,"margin-top","5%",3,"formGroup"],[1,"col-12","mb-2","lg:col-5","lg:mb-0"],["for","monto"],["currency","COP","locale","es-CO","minFractionDigits","0","min","1","id","monto","formControlName","monto","placeholder","Valor","maxFractionDigits","0",3,"ngModelChange"],["htmlFor","medioPago"],["formControlName","medio_pago","id","medioPago","optionLabel","nombre","placeholder","Seleccione una opci\xf3n",3,"options"],[1,"col-12","mb-2","lg:col-2","lg:mb-0"],["htmlFor","opciones"],["id","opciones","icon","pi pi-trash","severity","danger",3,"click"],["severity","error","text","El abono es mayor a la cantidad agregada",1,"padding"],["name",""],["colspan","1"],["severity","error","text","La fecha final es mayor a la fecha inicial",1,"padding"],["header","Ingresar ",3,"visible","modal","draggable","resizable","visibleChange"],["formControlName","cliente_id","selectionLimit","1","optionLabel","nombre","placeholder","Buscar cliente","display","chip","emptyMessage","Cliente no encontrado",1,"multiselect-custom",3,"options","onFilter"],["header","Abonos ",3,"toggleable","collapsed"],["pButton","","pRipple","","label","Crear Ingreso","icon","pi pi-calendar-times","type","submit",1,"w-full","bg-admin","boder-admin","mb-5","border-round-3xl",3,"disabled","click"],[3,"vieneDeHabitaciones","clienteCreado"],["clientes",""]],template:function(i,a){1&i&&(t._UZ(0,"ngx-spinner",0),t.TgZ(1,"div",1)(2,"div")(3,"p-tag",2),t.NdJ("click",function(){return a.orderar(5)}),t.YNc(4,Tt,1,0,"i",3),t.qZA(),t.TgZ(5,"p-tag",4),t.NdJ("click",function(){return a.orderar(3)}),t.YNc(6,At,1,0,"i",3),t.qZA(),t.TgZ(7,"p-tag",5),t.NdJ("click",function(){return a.orderar(4)}),t.YNc(8,xt,1,0,"i",3),t.qZA(),t.TgZ(9,"p-tag",6),t.NdJ("click",function(){return a.orderar(6)}),t.YNc(10,Ct,1,0,"i",3),t.qZA(),t.TgZ(11,"p-tag",7),t.NdJ("click",function(){return a.orderar(2)}),t.YNc(12,Rt,1,0,"i",3),t.qZA(),t.TgZ(13,"p-tag",8),t.NdJ("click",function(){return a.orderar(0)}),t.YNc(14,qt,1,0,"i",3),t.qZA()(),t.TgZ(15,"h5"),t._uU(16,"Habitaciones"),t.qZA(),t.YNc(17,Nt,4,2,"p-accordion",9),t.qZA(),t.YNc(18,mo,70,38,"p-dialog",10),t.TgZ(19,"p-dialog",11),t.NdJ("visibleChange",function(s){return a.visibleModalLimpieza=s}),t.TgZ(20,"div",12)(21,"form",13),t.NdJ("ngSubmit",function(){return a.submitAsignarLimpieza()}),t.TgZ(22,"div",14)(23,"div",15)(24,"p-multiSelect",16),t.YNc(25,uo,3,1,"ng-template",17),t.qZA(),t.YNc(26,_o,2,0,"div",18),t.qZA(),t.TgZ(27,"div",19)(28,"label"),t._uU(29,"Fecha Inicio "),t.qZA(),t.TgZ(30,"p-calendar",20),t.NdJ("onSelect",function(s){return a.changeFechaLimpieza(s)}),t.qZA()(),t.TgZ(31,"div",19)(32,"label"),t._uU(33,"Fecha Final"),t.qZA(),t.TgZ(34,"p-calendar",21),t.NdJ("onSelect",function(s){return a.changeFechaLimpieza(s)}),t.qZA()(),t.TgZ(35,"div",15)(36,"label"),t._uU(37,"Descripci\xf3n"),t.qZA(),t._UZ(38,"textarea",22),t.YNc(39,ho,2,0,"div",18),t.qZA(),t.YNc(40,go,1,0,"p-message",23),t.TgZ(41,"div",15),t._UZ(42,"button",24),t.qZA()(),t._UZ(43,"br"),t.qZA()()(),t.TgZ(44,"p-dialog",25),t.NdJ("visibleChange",function(s){return a.visibleModalMantenimiento=s}),t.TgZ(45,"div",12)(46,"form",13),t.NdJ("ngSubmit",function(){return a.submitAsignarMantenimiento()}),t.TgZ(47,"div",14)(48,"div",15)(49,"p-multiSelect",16),t.YNc(50,fo,3,1,"ng-template",17),t.qZA(),t.YNc(51,bo,2,0,"div",18),t.qZA(),t.TgZ(52,"div",19)(53,"label"),t._uU(54,"Fecha Inicio "),t.qZA(),t.TgZ(55,"p-calendar",26),t.NdJ("onSelect",function(){return a.changeFechaMantenimiento()}),t.qZA()(),t.TgZ(56,"div",19)(57,"label"),t._uU(58,"Fecha Final"),t.qZA(),t.TgZ(59,"p-calendar",27),t.NdJ("onSelect",function(){return a.changeFechaMantenimiento()}),t.qZA()(),t.TgZ(60,"div",15)(61,"label"),t._uU(62,"Descripci\xf3n"),t.qZA(),t._UZ(63,"textarea",22),t.YNc(64,vo,2,0,"div",18),t.qZA(),t.YNc(65,Zo,1,0,"p-message",23),t.TgZ(66,"div",15),t._UZ(67,"button",28),t.qZA()(),t._UZ(68,"br"),t.qZA()()(),t.YNc(69,Vo,54,31,"p-dialog",29),t.YNc(70,Go,2,1,"app-clientes",30)),2&i&&(t.xp6(3),t.Akn(t.VKq(50,f,a.botonReservaColor)),t.xp6(1),t.Q6J("ngIf",5===a.selectedFilter),t.xp6(1),t.Akn(t.VKq(52,f,a.botonDisponibleColor)),t.xp6(1),t.Q6J("ngIf",3===a.selectedFilter),t.xp6(1),t.Akn(t.VKq(54,f,a.botonLimpiezaColor)),t.xp6(1),t.Q6J("ngIf",4===a.selectedFilter),t.xp6(1),t.Akn(t.VKq(56,f,a.botonMantenimientoColor)),t.xp6(1),t.Q6J("ngIf",6===a.selectedFilter),t.xp6(1),t.Akn(t.VKq(58,f,a.botonOcupadoColor)),t.xp6(1),t.Q6J("ngIf",2===a.selectedFilter),t.xp6(1),t.Akn(t.VKq(60,f,a.botonTodosColor)),t.xp6(1),t.Q6J("ngIf",0===a.selectedFilter),t.xp6(3),t.Q6J("ngForOf",a.dataRoom),t.xp6(1),t.Q6J("ngIf",!a.creandoCliente),t.xp6(1),t.Akn(t.DdM(62,$)),t.Q6J("visible",a.visibleModalLimpieza)("modal",!0)("draggable",!1)("resizable",!1),t.xp6(2),t.Q6J("formGroup",a.formLimpieza),t.xp6(3),t.Q6J("options",a.empleadosData),t.xp6(2),t.Q6J("ngIf",a.formLimpieza.get("empleado").hasError("required")),t.xp6(4),t.Q6J("showIcon",!0),t.xp6(4),t.Q6J("showIcon",!0),t.xp6(5),t.Q6J("ngIf",a.formLimpieza.get("descripcion").hasError("required")),t.xp6(1),t.Q6J("ngIf",a.formLimpieza.get("fechaInicio").value>a.formLimpieza.get("fechaFinal").value),t.xp6(2),t.Q6J("disabled",a.formLimpieza.invalid||a.disableButtonLimpieza),t.xp6(2),t.Akn(t.DdM(63,$)),t.Q6J("visible",a.visibleModalMantenimiento)("modal",!0)("draggable",!1)("resizable",!1),t.xp6(2),t.Q6J("formGroup",a.formMantenimiento),t.xp6(3),t.Q6J("options",a.empleadosData),t.xp6(2),t.Q6J("ngIf",a.formMantenimiento.get("empleado").hasError("required")),t.xp6(4),t.Q6J("showIcon",!0),t.xp6(4),t.Q6J("showIcon",!0),t.xp6(5),t.Q6J("ngIf",a.formMantenimiento.get("descripcion").hasError("required")),t.xp6(1),t.Q6J("ngIf",a.formMantenimiento.get("fechaInicio").value>a.formMantenimiento.get("fechaFinal").value),t.xp6(2),t.Q6J("disabled",a.formMantenimiento.invalid||a.disableButtonMantenimiento),t.xp6(2),t.Q6J("ngIf",!a.creandoCliente),t.xp6(1),t.Q6J("ngIf",a.creandoCliente))},dependencies:[Y.s,v.jx,_.sg,_.O5,y.iA,A.Hq,A.zx,d._Y,d.Fj,d.JJ,d.JL,L.v2,x.H,D.g,R.Lt,ft,S.Rn,I.V,d.sg,d.u,C.Ro,w.UQ,w.US,U.V,E.f,O.NU,N.q,vt.R,z.D],styles:['@charset "UTF-8";.rooms[_ngcontent-%COMP%]{cursor:pointer}.tag[_ngcontent-%COMP%]{padding:.5%;display:flex;text-align:center}.nomeRoome[_ngcontent-%COMP%]{text-align:center}.p-accordion[_ngcontent-%COMP%]   .p-accordion-content[_ngcontent-%COMP%]{padding:0%}.nomeRoome[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]{padding:2%}.padding[_ngcontent-%COMP%]{padding:1%}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-bottom:20px}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px solid #dddddd;text-align:left;padding:8px}th[_ngcontent-%COMP%]{background-color:#f2f2f2}.habilitarCursor[_ngcontent-%COMP%]{cursor:pointer}.container[_ngcontent-%COMP%]{display:flex;height:0%}.div1[_ngcontent-%COMP%]{flex:1;margin:5px 5px 5px -1%;height:0%}.div2[_ngcontent-%COMP%]{flex:1;text-align:right;height:0%}div[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{padding-top:4%;padding-left:4%;padding-right:0%}.container_div[_ngcontent-%COMP%]{display:flex;width:100%}.contenido-1[_ngcontent-%COMP%]{width:71%;box-sizing:border-box}.contenido-2[_ngcontent-%COMP%]{margin-right:5px;width:25%}.texto-nombre-habitacion[_ngcontent-%COMP%]{font-size:16px;font-weight:700;display:inline-block;max-width:250px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;vertical-align:top}.texto-nombre-tipo-habitacion[_ngcontent-%COMP%]{font-size:12px;display:inline-block;max-width:160px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;vertical-align:top}div[ngStyle][_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:nth-child(odd){flex-basis:100%}.habitaciones-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.habitacion-item[_ngcontent-%COMP%]{flex:0 1 calc(50% - 10px);margin:5px;box-sizing:border-box}']})}return e})();var Ko=p(4444),Wo=p(6401),V=p(3173),G=p(5609);function Xo(e,r){1&e&&(t.TgZ(0,"tr")(1,"th"),t._uU(2,"Categor\xeda"),t.qZA(),t.TgZ(3,"th"),t._uU(4,"Total"),t.qZA(),t.TgZ(5,"th"),t._uU(6,"Acci\xf3n"),t.qZA()())}function te(e,r){if(1&e){const o=t.EpF();t.TgZ(0,"button",69),t.NdJ("click",function(){t.CHM(o);const a=t.oxw(2).$implicit,n=t.oxw();return t.KtG(n.modals(a.nombre))}),t.qZA()}}function oe(e,r){if(1&e&&(t.TgZ(0,"td"),t.YNc(1,te,1,0,"button",68),t.qZA()),2&e){const o=t.oxw(2);t.xp6(1),t.Q6J("ngIf",2==(null==o.estadoHabitacion?null:o.estadoHabitacion.estado_id))}}function ee(e,r){1&e&&t._UZ(0,"td")}function ae(e,r){if(1&e&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.ALo(5,"currencyFormat"),t.qZA(),t.YNc(6,oe,2,1,"td",66),t.YNc(7,ee,1,0,"ng-template",null,67,t.W1O),t.qZA()),2&e){const o=r.$implicit,i=t.MAs(8);t.xp6(2),t.Oqu(o.nombre),t.xp6(2),t.hij("$",t.lcZ(5,4,o.total),""),t.xp6(2),t.Q6J("ngIf",o.tipo)("ngIfElse",i)}}function ie(e,r){1&e&&t._UZ(0,"p-message",70)}function ne(e,r){1&e&&(t.TgZ(0,"th"),t._UZ(1,"span"),t.qZA(),t.TgZ(2,"th"),t._UZ(3,"span"),t.qZA())}function re(e,r){1&e&&(t.TgZ(0,"th"),t._uU(1,"Acciones"),t.qZA())}function se(e,r){if(1&e&&(t.TgZ(0,"tr")(1,"th"),t._uU(2,"Nombre"),t.qZA(),t.TgZ(3,"th"),t._uU(4,"Precio"),t.qZA(),t.YNc(5,ne,4,0,"ng-template",null,71,t.W1O),t.YNc(7,re,2,0,"th",72),t.qZA()),2&e){const o=t.oxw();t.xp6(7),t.Q6J("ngIf",2==(null==o.estadoHabitacion?null:o.estadoHabitacion.estado_id))}}function le(e,r){1&e&&(t.TgZ(0,"td"),t._UZ(1,"span"),t.qZA(),t.TgZ(2,"td"),t._UZ(3,"span"),t.qZA())}function ce(e,r){if(1&e){const o=t.EpF();t.TgZ(0,"td")(1,"p-button",73),t.NdJ("click",function(){t.CHM(o);const a=t.oxw().$implicit,n=t.oxw();return t.KtG(n.confirmDeleteTarifa(a.id))}),t.qZA()()}}function de(e,r){if(1&e&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.ALo(5,"currencyFormat"),t.qZA(),t.YNc(6,le,4,0,"ng-template",null,71,t.W1O),t.YNc(8,ce,2,0,"td",72),t.qZA()),2&e){const o=r.$implicit,i=t.oxw();t.xp6(2),t.Oqu(o.nombre),t.xp6(2),t.hij("$",t.lcZ(5,3,o.valor),""),t.xp6(4),t.Q6J("ngIf",2==(null==i.estadoHabitacion?null:i.estadoHabitacion.estado_id))}}function pe(e,r){1&e&&(t.TgZ(0,"th"),t._uU(1,"Acciones"),t.qZA())}function me(e,r){if(1&e&&(t.TgZ(0,"tr")(1,"th"),t._uU(2,"Nombre"),t.qZA(),t.TgZ(3,"th"),t._uU(4,"Precio"),t.qZA(),t.TgZ(5,"th"),t._uU(6,"Impuesto"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"Cantidad"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"Total"),t.qZA(),t.YNc(11,pe,2,0,"th",72),t.qZA()),2&e){const o=t.oxw();t.xp6(11),t.Q6J("ngIf",2==(null==o.estadoHabitacion?null:o.estadoHabitacion.estado_id))}}function ue(e,r){if(1&e){const o=t.EpF();t.TgZ(0,"td")(1,"p-button",73),t.NdJ("click",function(){t.CHM(o);const a=t.oxw().$implicit,n=t.oxw();return t.KtG(n.confirmDeleteProductos(a.identificador))}),t.qZA()()}}function _e(e,r){if(1&e){const o=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.ALo(3,"titlecase"),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.ALo(6,"currencyFormat"),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.ALo(9,"currencyFormat"),t.qZA(),t.TgZ(10,"td")(11,"input",74),t.NdJ("keydown",function(){return!1})("input",function(a){const s=t.CHM(o).$implicit,c=t.oxw();return t.KtG(c.changeCantidadProducto(s,a))}),t.qZA()(),t.TgZ(12,"td"),t._uU(13),t.ALo(14,"currencyFormat"),t.qZA(),t.YNc(15,ue,2,0,"td",72),t.qZA()}if(2&e){const o=r.$implicit,i=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,7,o.nombre)),t.xp6(3),t.hij("$",t.lcZ(6,9,o.subtotal),""),t.xp6(3),t.hij("$",t.lcZ(9,11,o.impuestos),""),t.xp6(3),t.Q6J("max",i.getCantidadMaximaProducto(o))("value",o.cantidad),t.xp6(2),t.hij("$",t.lcZ(14,13,o.valorImpuesto),""),t.xp6(2),t.Q6J("ngIf",2==(null==i.estadoHabitacion?null:i.estadoHabitacion.estado_id))}}function he(e,r){if(1&e&&(t.TgZ(0,"tr")(1,"td",75),t._uU(2,"Totales"),t.qZA(),t.TgZ(3,"td",75),t._uU(4),t.ALo(5,"currencyFormat"),t.qZA(),t.TgZ(6,"td",76),t._uU(7),t.ALo(8,"currencyFormat"),t.qZA(),t.TgZ(9,"td",76),t._uU(10),t.ALo(11,"currencyFormat"),t.qZA()()),2&e){const o=t.oxw();t.xp6(4),t.hij(" $",t.lcZ(5,3,o.totalProductos-o.totalProductosImpuestos),""),t.xp6(3),t.hij(" $",t.lcZ(8,5,o.totalProductosImpuestos),""),t.xp6(3),t.hij(" $",t.lcZ(11,7,o.totalProductos),"")}}function ge(e,r){1&e&&(t.TgZ(0,"th"),t._uU(1,"Acciones"),t.qZA())}function fe(e,r){if(1&e&&(t.TgZ(0,"tr")(1,"th"),t._uU(2,"Nombre"),t.qZA(),t.TgZ(3,"th"),t._uU(4,"Precio"),t.qZA(),t.TgZ(5,"th"),t._uU(6,"Impuesto"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"Cantidad"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"Total"),t.qZA(),t.YNc(11,ge,2,0,"th",72),t.qZA()),2&e){const o=t.oxw();t.xp6(11),t.Q6J("ngIf",2==(null==o.estadoHabitacion?null:o.estadoHabitacion.estado_id))}}function be(e,r){if(1&e){const o=t.EpF();t.TgZ(0,"td")(1,"p-button",73),t.NdJ("click",function(){t.CHM(o);const a=t.oxw().$implicit,n=t.oxw();return t.KtG(n.confirmDeleteRecetas(a.identificador))}),t.qZA()()}}function ve(e,r){if(1&e){const o=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.ALo(5,"currencyFormat"),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.ALo(8,"currencyFormat"),t.qZA(),t.TgZ(9,"td")(10,"input",77),t.NdJ("keydown",function(){return!1})("input",function(a){const s=t.CHM(o).$implicit,c=t.oxw();return t.KtG(c.changeCantidadReceta(s,a))}),t.qZA()(),t.TgZ(11,"td"),t._uU(12),t.ALo(13,"currencyFormat"),t.qZA(),t.YNc(14,be,2,0,"td",72),t.qZA()}if(2&e){const o=r.$implicit,i=t.oxw();t.xp6(2),t.Oqu(o.nombre),t.xp6(2),t.hij("$",t.lcZ(5,6,o.subtotal),""),t.xp6(3),t.hij("$",o.impuestos?o.impuestos:t.lcZ(8,8,0),""),t.xp6(3),t.Q6J("value",o.cantidad),t.xp6(2),t.hij("$",t.lcZ(13,10,o.total),""),t.xp6(2),t.Q6J("ngIf",2==(null==i.estadoHabitacion?null:i.estadoHabitacion.estado_id))}}function Ze(e,r){if(1&e&&(t.TgZ(0,"tr")(1,"td",75),t._uU(2,"Totales"),t.qZA(),t.TgZ(3,"td",75),t._uU(4),t.ALo(5,"currencyFormat"),t.qZA(),t.TgZ(6,"td",76),t._uU(7),t.ALo(8,"currencyFormat"),t.qZA(),t.TgZ(9,"td",76),t._uU(10),t.ALo(11,"currencyFormat"),t.qZA()()),2&e){const o=t.oxw();t.xp6(4),t.hij(" $",t.lcZ(5,3,o.totalRecetas-o.totalRecetasImpuestos),""),t.xp6(3),t.hij(" $",t.lcZ(8,5,o.totalRecetasImpuestos),""),t.xp6(3),t.hij(" $",t.lcZ(11,7,o.totalRecetas),"")}}function Te(e,r){1&e&&(t.TgZ(0,"th"),t._uU(1,"Acciones"),t.qZA())}function Ae(e,r){if(1&e&&(t.TgZ(0,"tr")(1,"th"),t._uU(2,"Monto"),t.qZA(),t.TgZ(3,"th"),t._uU(4,"M\xe9todo de pago"),t.qZA(),t.YNc(5,Te,2,0,"th",72),t.qZA()),2&e){const o=t.oxw();t.xp6(5),t.Q6J("ngIf",2==(null==o.estadoHabitacion?null:o.estadoHabitacion.estado_id))}}function xe(e,r){1&e&&t._UZ(0,"td")}function Ce(e,r){if(1&e&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.ALo(3,"currencyFormat"),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.YNc(6,xe,1,0,"td",72),t.qZA()),2&e){const o=r.$implicit,i=t.oxw();t.xp6(2),t.hij("$",t.lcZ(3,3,o.valor),""),t.xp6(3),t.Oqu(o.nombre),t.xp6(1),t.Q6J("ngIf",2==(null==i.estadoHabitacion?null:i.estadoHabitacion.estado_id))}}function Re(e,r){1&e&&(t.TgZ(0,"div")(1,"h5"),t._uU(2,"Hora"),t.qZA()())}function qe(e,r){1&e&&(t.TgZ(0,"div")(1,"h5"),t._uU(2,"Noche"),t.qZA()())}function ye(e,r){if(1&e&&(t.TgZ(0,"div",78)(1,"span",79),t._uU(2),t._UZ(3,"p-tag",80),t.YNc(4,Re,3,0,"div",72),t.YNc(5,qe,3,0,"div",72),t.qZA()()),2&e){const o=r.$implicit;t.xp6(2),t.hij(" ",o.nombre," "),t.xp6(1),t.s9C("icon",o.icon),t.s9C("value",o.valor),t.xp6(1),t.Q6J("ngIf",2==o.tipo),t.xp6(1),t.Q6J("ngIf",1==o.tipo)}}function De(e,r){if(1&e&&(t.TgZ(0,"div",81)(1,"span",79),t._uU(2),t.ALo(3,"titlecase"),t.qZA(),t.TgZ(4,"div"),t._UZ(5,"p-tag",82),t.ALo(6,"currencyFormat"),t._UZ(7,"p-tag",82),t.qZA()()),2&e){const o=r.$implicit;t.xp6(2),t.Oqu(t.lcZ(3,3,o.nombre)),t.xp6(3),t.MGl("value"," $",t.lcZ(6,5,o.valor_total),""),t.xp6(2),t.MGl("value","Stock: ",1==o.sin_limite_cantidad?o.stockActual:"Ilimitado","")}}function Ie(e,r){1&e&&(t.TgZ(0,"span",84),t._uU(1,"Producto es requerido."),t.qZA())}function Me(e,r){if(1&e&&(t.TgZ(0,"div",83),t.YNc(1,Ie,2,0,"span",43),t.qZA()),2&e){const o=t.oxw();t.xp6(1),t.Q6J("ngIf",o.formProducto.get("producto_id").hasError("required"))}}function Fe(e,r){1&e&&(t.TgZ(0,"div",84),t._uU(1,"Campo requerido"),t.qZA())}function we(e,r){1&e&&(t.TgZ(0,"div",85),t._uU(1,"La cantidad excede el stock disponible."),t.qZA())}function Ue(e,r){if(1&e&&(t.TgZ(0,"div",81)(1,"span",79),t._uU(2),t.qZA(),t._UZ(3,"p-tag",82),t.ALo(4,"currencyFormat"),t.qZA()),2&e){const o=r.$implicit;t.xp6(2),t.Oqu(o.nombre),t.xp6(1),t.MGl("value","$",t.lcZ(4,2,o.valor_total),"")}}function Oe(e,r){1&e&&(t.TgZ(0,"span",84),t._uU(1,"Receta es requerida."),t.qZA())}function Ne(e,r){if(1&e&&(t.TgZ(0,"div",83),t.YNc(1,Oe,2,0,"span",43),t.qZA()),2&e){const o=t.oxw();t.xp6(1),t.Q6J("ngIf",o.formReceta.get("receta_id").hasError("required"))}}function ke(e,r){1&e&&(t.TgZ(0,"div",84),t._uU(1,"Campo requerido"),t.qZA())}function Pe(e,r){1&e&&(t.TgZ(0,"div",86),t._uU(1,"La cantidad excede el stock disponible."),t.qZA())}function Je(e,r){if(1&e&&(t.TgZ(0,"div",78)(1,"span",79),t._uU(2),t.qZA()()),2&e){const o=r.$implicit;t.xp6(2),t.Oqu(o.nombre)}}function Se(e,r){if(1&e&&(t.TgZ(0,"div",78)(1,"span",79),t._uU(2),t.qZA()()),2&e){const o=r.$implicit;t.xp6(2),t.Oqu(o.nombre)}}function Ee(e,r){1&e&&(t.TgZ(0,"div",84),t._uU(1,"Campo requerido."),t.qZA())}function He(e,r){if(1&e){const o=t.EpF();t.TgZ(0,"div",94)(1,"p-button",95),t.NdJ("click",function(){t.CHM(o);const a=t.oxw().index,n=t.oxw();return t.KtG(n.eliminarMedioPagoAbono(a))}),t.qZA()()}}function Ye(e,r){if(1&e){const o=t.EpF();t.TgZ(0,"div",87)(1,"div",88)(2,"label"),t._uU(3,"M\xe9todo de Pago"),t.qZA(),t._UZ(4,"input",89),t.qZA(),t.TgZ(5,"div",90)(6,"label",91),t._uU(7,"Valor"),t.qZA(),t._UZ(8,"br"),t.TgZ(9,"input",92),t.NdJ("blur",function(){t.CHM(o);const a=t.oxw();return t.KtG(a.calcularTotalMetodosPago())}),t.qZA(),t._UZ(10,"br"),t.YNc(11,Ee,2,0,"div",43),t.qZA(),t.YNc(12,He,2,0,"div",93),t.qZA()}if(2&e){const o=r.$implicit,i=t.oxw();t.Q6J("formGroup",o),t.xp6(11),t.Q6J("ngIf",null==o||null==o.controls.monto||null==o.controls.monto.errors?null:o.controls.monto.errors.required),t.xp6(1),t.Q6J("ngIf",i.formFacturacionMediosPago.controls.length>1)}}function Le(e,r){1&e&&(t.TgZ(0,"div",96),t._UZ(1,"p-message",97),t.qZA())}const Qe=function(){return{"min-width":"20rem"}},q=function(){return{"min-width":"25rem"}},ze=function(){return{width:"60vw",height:"25vw"}},j=function(){return{width:"60vw"}},Be=function(){return{width:"95vw",height:"40vw"}},$e=function(){return{width:"50vw"}};let Ve=(()=>{class e{constructor(o,i,a,n,s,c,l,m){this.dashboardRoomsService=o,this.FB=i,this.spinner=a,this.datePipe=n,this.router=s,this.route=c,this.appComponent=l,this.layoutService=m,this.dataTarifa=[],this.dataAbonos=[],this.tarifasTotal=0,this.abonosTotal=0,this.items=[],this.total=0,this.subtotaltotal=0,this.tarifaVisible=!1,this.productoVisible=!1,this.abonoVisible=!1,this.recetaVisible=!1,this.allTarifas=[],this.allTarifasDefault=[],this.totalMetodosPago=0,this.totalImpuestos=0,this.impuestosData=[],this.detalleId=0,this.hotelId=0,this.clienteId=0,this.impuestos_save=[],this.montoSinRedondear=0,this.excedente=0,this.activarRedondear=!1,this.productsData=[],this.recetasData=[],this.productosAgregados=[],this.recetasAgregadas=[],this.totalProductos=0,this.totalProductosImpuestos=0,this.totalRecetas=0,this.totalRecetasImpuestos=0,this.validacionStock=!1,this.stockProductoModificado=!1,this.totales=[{nombre:"Tarifas",total:this.tarifasTotal,tipo:1},{nombre:"Productos/Servicios",total:this.totalProductos,tipo:1},{nombre:"Recetas",total:this.totalRecetas,tipo:1},{nombre:"Abonos",total:this.abonosTotal},{nombre:"Impuestos",total:this.totalImpuestos},{nombre:"Subtotal",total:this.subtotaltotal},{nombre:"Total sin redondear",total:0},{nombre:"Excedente",total:0},{nombre:"Total",total:0}],this.formFacturacionMediosPago=this.FB.array([]),this.baseUrl=Ko.D.url,this.token=l.getToken()}ngOnInit(){this.spinner.hide(),this.dataRoomDetail=[],this.habitacionId=parseFloat(this.route.snapshot.paramMap.get("idHabitacion")),this.buildForm(),this.getRoomOcupar()}cargarItems(){this.items=[{label:"Facturar",icon:"pi pi-dollar",disabled:this.disableFactura,command:o=>this.opcionSelect(o,"facturar")}]}buildForm(){const o=this.dataRoomDetail;this.form=this.FB.group({nombreHabitacion:[o?.detalleHabitacion?.habitacion?.nombre,[]],descripcion:[o?.detalleHabitacion?.descripcion,[]],nombreCliente:[(o?.detalleHabitacion?.cliente?.nombres?o?.detalleHabitacion?.cliente?.nombres:"")+" "+(o?.detalleHabitacion?.cliente?.apellidos?o?.detalleHabitacion?.cliente?.apellidos:""),[]],desde:[o?.detalleHabitacion?.checkin,[]],hasta:[o?.detalleHabitacion?.checkout,[]]}),this.formTarifa=this.FB.group({tarifa_id:[this.allTarifasDefault,[d.kI.required]]}),this.formProducto=this.FB.group({producto_id:[null,[d.kI.required]],cantidad:[1,[d.kI.required,d.kI.min(1)]]}),this.formMetodoPago=this.FB.group({metodo_pago_id:[null,[d.kI.required]],valor:[null,[d.kI.required,d.kI.min(1)]]}),this.formReceta=this.FB.group({receta_id:[null,[d.kI.required]],cantidad:[1,[d.kI.required,d.kI.min(1)]]});let i=this.FB.group({monto:["",[d.kI.required,d.kI.min(0)]],medio_pago:[this.dataMetodosPago?this.dataMetodosPago[0]:null,[d.kI.required,d.kI.min(1)]],nombre:[this.dataMetodosPago?this.dataMetodosPago[0].nombre:"",[]]});i.get("nombre").disable(),this.formFacturacionMediosPago=this.FB.array([]),this.formFacturacionMediosPago.push(i),this.formFacturar=this.FB.group({isFacturaElectronica:[""]}),this.form.disable()}getRoomOcupar(){let o={habitacion_id:this.habitacionId};this.spinner.show(),this.dashboardRoomsService.getOcuparHabitacion(o).subscribe(i=>{function a(n){const s=parseFloat(n.precio);let c=0;return n.impuestos.forEach(l=>{const m=s*(Number(l.impuesto.porcentaje)/100);c+=m}),s+c}this.spinner.hide(),this.dataRoomDetail=i,this.estadoHabitacion=this.dataRoomDetail.estadoHabitacion,this.impuestos=this.dataRoomDetail.impuesto,this.allTarifasDefault=[],this.dataRoomDetail.tarifasHabitacion.forEach(n=>{this.dataTarifa.push({valor:n.valor,nombre:n.tarifa?.nombre,tipo:n.tipo,id:n.item_id})}),this.dataRoomDetail.recetasHabitacion.forEach(n=>{let s="receta"+this.generarIdAleatorio(),c=0;n?.recetas?.impuestos.forEach(l=>{let m=parseInt(l?.impuesto?.porcentaje)*parseFloat(n?.recetas.precio)/100;c+=m,this.impuestos_save.push({valor:m,porcentaje:l?.impuesto?.porcentaje,cantidad:n?.cantidad,id:l?.impuesto.id,item_id:n?.item_id,tipo:"4",identificador:s})}),this.recetasAgregadas.push({nombre:n?.recetas?.nombre,subtotal:n?.recetas?.precio,impuestos:c,total:(c+parseFloat(n?.recetas?.precio))*Number(n?.cantidad),cantidad:n?.cantidad,id:n?.item_id,identificador:s,impuestosData:n.recetas?.impuestos}),this.totalRecetas=this.totalRecetas+c+parseFloat(n?.recetas?.precio)}),this.dataMetodosPago=this.dataRoomDetail.metodos_pago,this.dataRoomDetail.productosHabitacion.forEach(n=>{let s=0,c="productos"+this.generarIdAleatorio();n.productos.impuestos.forEach(l=>{let m=parseInt(l.impuesto.porcentaje)*parseFloat(n?.productos.precio)/100;s+=m,this.impuestos_save.push({valor:m,porcentaje:l.impuesto.porcentaje,cantidad:n?.cantidad,id:l.impuesto.id,item_id:n?.item_id,tipo:"1",identificador:c})}),this.productosAgregados.push({nombre:n?.productos.nombre,cantidad:parseFloat(n?.cantidad),subtotal:parseFloat(n?.productos.precio),impuestos:s,valorImpuesto:(s+parseFloat(n?.productos.precio))*parseFloat(n?.cantidad),id:n?.item_id,identificador:c,tipoProducto:n?.productos.tipo_producto,impuestosData:n.productos.impuestos})}),this.dataRoomDetail.abonoHabitacion.forEach(n=>{this.dataAbonos.push({valor:n.valor,nombre:n.metodo_pago.nombre,id:n.id,metodo_pago_id:n?.metodo_pago.id,identificador:"abonos"+this.generarIdAleatorio()})}),this.dataRoomDetail.tarifas.forEach(n=>{this.allTarifas.push({valor:n.valor,nombre:n.nombre,tipo:n.tipo,id:n.id}),this.dataRoomDetail.tarifasHabitacion.filter(s=>s?.tarifa?.id==n.id).length>0&&this.allTarifasDefault.push({valor:n.valor,nombre:n.nombre,tipo:n.tipo,id:n.id})}),this.dataRoomDetail.productos.forEach(n=>{this.productsData.push({id:n.id,nombre:n.nombre,valor:n.precio,tipo:n.tipo_producto,impuestos:n.impuestos,stockActual:Number(n?.disponibles),stockActualFijo:Number(n?.disponibles_all),valor_total:a(n),sin_limite_cantidad:n?.sin_limite_cantidad})}),this.dataRoomDetail.recetas.forEach(n=>{this.recetasData.push({id:n.id,nombre:n.nombre,valor:n.precio,impuestos:n.impuestos,stock:n.cantidad,valor_total:a(n)})}),this.detalleId=this.dataRoomDetail?.detalleHabitacion.id,this.hotelId=this.dataRoomDetail?.detalleHabitacion.hotel_id,this.clienteId=this.dataRoomDetail?.detalleHabitacion.cliente?.id,this.buildForm(),this.recalcular(),this.cargarItems()})}recalcular(){this.tarifasTotal=0,this.totalProductos=0,this.abonosTotal=0,this.total=0,this.totalImpuestos=0,this.totalRecetas=0,this.dataTarifa.forEach(i=>{this.tarifasTotal=this.tarifasTotal+parseFloat(i.valor)}),this.totalProductos=this.productosAgregados.reduce((i,a)=>i+a.valorImpuesto,0),this.totalProductosImpuestos=this.productosAgregados.reduce((i,a)=>i+a.impuestos*a.cantidad,0),this.totalRecetas=this.recetasAgregadas.reduce((i,a)=>i+a.total,0),this.totalRecetasImpuestos=this.recetasAgregadas.reduce((i,a)=>i+a.impuestos*a.cantidad,0),this.dataAbonos.forEach(i=>{this.abonosTotal=this.abonosTotal+parseFloat(i.valor)}),this.totalImpuestos=this.totalProductosImpuestos+this.totalRecetasImpuestos,this.subtotaltotal=this.tarifasTotal+(this.totalProductos-this.totalProductosImpuestos)+(this.totalRecetas-this.totalRecetasImpuestos),this.total=this.subtotaltotal+this.totalImpuestos-this.abonosTotal,this.totales=[{nombre:"Tarifas",total:this.tarifasTotal,tipo:1},{nombre:"Productos/Servicios",total:this.totalProductos-this.totalProductosImpuestos,tipo:1},{nombre:"Recetas",total:this.totalRecetas-this.totalRecetasImpuestos,tipo:1},{nombre:"Abonos",total:this.abonosTotal},{nombre:"Impuestos",total:this.totalImpuestos},{nombre:"Subtotal",total:this.subtotaltotal},{nombre:"Total",total:this.total}],this.activarRedondear?(this.montoSinRedondear=this.total,this.total=function o(i){let a=i%50,n=0;return a>0&&(n=50-a),i+n}(this.total),this.excedente=this.total-this.montoSinRedondear,this.totales[6]={nombre:"Total sin redondear",total:this.montoSinRedondear},this.totales.push({nombre:"Excedente",total:this.excedente}),this.totales.push({nombre:"Total",total:this.total})):(this.excedente=0,this.totales=this.totales.filter(i=>"Total sin redondear"!==i.nombre||"Excedente"!==i.nombre)),this.validaciones()}modals(o){switch(o){case"Tarifas":this.tarifaVisible=!0;break;case"Productos/Servicios":this.formProducto.reset(),this.productoVisible=!0,this.validacionStock=!1;break;case"Recetas":this.formReceta.reset(),this.recetaVisible=!0,this.validacionStock=!1;break;case"Abonos":this.abonoVisible=!0}}validarStock(o){if("producto"==o&&this.formProducto.valid){const i=this.formProducto.get("producto_id").value,a=this.formProducto.get("cantidad").value;this.validacionStock=i.stockActual<a&&1==i.sin_limite_cantidad}}opcionSelect(o,i){"desocupar"==i&&this.desocuparHabitacion(),"facturar"==i&&this.facturacion()}confirmDeleteAbono(o){this.dataAbonos=this.dataAbonos.filter(i=>i.identificador!=o),this.recalcular()}confirmDeleteTarifa(o){this.dataTarifa=this.dataTarifa.filter(i=>i.id!=o),this.allTarifasDefault=this.dataTarifa,this.buildForm(),this.recalcular()}confirmDeleteProductos(o){this.productosAgregados.forEach(i=>{i.identificador==o&&this.productsData.forEach(a=>{a.id==i.id&&(a.stockActual=a.stockActual+i.cantidad)})}),this.productosAgregados=this.productosAgregados.filter(i=>i.identificador!=o),this.stockProductoModificado=this.productosAgregados.some(i=>1==i.stockModificado),this.impuestos_save=this.impuestos_save.filter(i=>i.identificador!=o),this.recalcular()}confirmDeleteRecetas(o){this.recetasAgregadas=this.recetasAgregadas.filter(i=>i.identificador!=o),this.impuestos_save=this.impuestos_save.filter(i=>i.identificador!=o),this.recalcular()}submitTarifa(){this.recargarTablaTarifa(),this.tarifaVisible=!1,this.recalcular()}submitProducto(){this.recargarTablaProducto(),this.productoVisible=!1,this.recalcular()}submitReceta(){this.recetaVisible=!1,this.recargarTablaReceta(),this.recalcular()}recargarTablaReceta(o=null,i=null,a=null){let n=o;null==o&&(n=this.formReceta.get("receta_id")?.value);let s=i;null==i&&(s=this.formReceta.get("cantidad").value);let c="receta"+this.generarIdAleatorio(),l=0;if(n.impuestos.forEach(m=>{let h=parseInt(m.impuesto.porcentaje)*parseFloat(n.valor)/100;l+=h,this.impuestos_save.push({valor:h,porcentaje:m?.impuesto?.porcentaje,cantidad:s,id:m?.impuesto.id,item_id:n.id,tipo:"4",identificador:c})}),this.recetasAgregadas.find(m=>m.nombre==n.nombre)){let m=this.recetasAgregadas.findIndex(h=>h.nombre==n.nombre);this.recetasAgregadas[m].cantidad=this.recetasAgregadas[m].cantidad+s,this.recetasAgregadas[m].total=this.recetasAgregadas[m].total+(parseFloat(n.valor)+l)*s}else null!=a?this.recetasAgregadas.splice(a,0,{nombre:n.nombre,cantidad:s,subtotal:n.valor,impuestos:l,total:(l+parseFloat(n.valor))*Number(s),id:n.id,identificador:c,impuestosData:n.impuestos}):this.recetasAgregadas.push({nombre:n.nombre,cantidad:s,subtotal:n.valor,impuestos:l,total:(l+parseFloat(n.valor))*Number(s),id:n.id,identificador:c,impuestosData:n.impuestos})}recargarTablaProducto(o=null,i=null,a=null){let n=o,s=i;null==o&&(n=this.formProducto.get("producto_id")?.value),null==i&&(s=this.formProducto.get("cantidad").value);let c=0,l="productos"+this.generarIdAleatorio();if(n?.impuestos.forEach(m=>{let h=parseInt(m.impuesto.porcentaje)*parseFloat(n.valor)/100;c+=h,this.impuestos_save.push({valor:h,porcentaje:m.impuesto.porcentaje,cantidad:s,id:m.impuesto.id,item_id:n.id,tipo:"1",identificador:l})}),this.productosAgregados?.find(m=>m.nombre==n?.nombre)){let m=this.productosAgregados?.findIndex(h=>h.nombre==n.nombre);this.productosAgregados[m].cantidad+=s,this.productosAgregados[m].valorImpuesto+=(parseFloat(n?.valor)+c)*s,this.productsData.forEach(h=>{h.id==n?.id&&(h.stockActual=null!=o?h.stockActualFijo-s:h.stockActual-s)})}else null==a?this.productosAgregados.push({nombre:n?.nombre,cantidad:Number(s),subtotal:parseFloat(n?.valor),impuestos:c,valorImpuesto:(parseFloat(n?.valor)+c)*Number(s),id:n?.id,identificador:l,tipoProducto:n?.tipo,impuestosData:n.impuestos}):this.productosAgregados.splice(a,0,{nombre:n?.nombre,cantidad:Number(s),subtotal:parseFloat(n?.valor),impuestos:c,valorImpuesto:(parseFloat(n?.valor)+c)*Number(s),id:n?.id,identificador:l,tipoProducto:n?.tipo,impuestosData:n.impuestos}),this.productsData.forEach(m=>{m.id==n.id&&(m.stockActual=null!=o?m.stockActualFijo-s:m.stockActual-s)});this.stockProductoModificado=this.productosAgregados.some(m=>1==m.stockModificado),this.formProducto.reset()}recargarTablaTarifa(){let o=this.formTarifa.get("tarifa_id").value;this.dataTarifa=[],this.allTarifasDefault=[],o.forEach(i=>{this.dataTarifa.push({valor:i.valor,nombre:i.nombre,tipo:i.tipo,id:i.id}),this.allTarifasDefault.push({valor:i.valor,nombre:i.nombre,tipo:i.tipo,id:i.id})})}recargarTablaAbonos(){let o=this.formMetodoPago.get("metodo_pago_id").value[0],i=parseFloat(this.formMetodoPago.get("valor").value);this.dataAbonos.push({valor:i,nombre:o.nombre,id:o.id,metodo_pago_id:o.id,identificador:"abonos"+this.generarIdAleatorio()})}submitAbono(){this.abonoVisible=!1,this.recargarTablaAbonos(),this.recalcular()}submitAll(){2==this.estadoHabitacion?.estado_id&&this.envirRoomDetalle({tarifas:this.dataTarifa,productos:this.productosAgregados,abonos:this.dataAbonos,detalleId:this.detalleId,hotelId:this.hotelId,clienteId:this.clienteId,receta:this.recetasAgregadas,habitacion_id:this.habitacionId})}envirRoomDetalle(o){this.spinner.show(),this.dashboardRoomsService.saveDetalleHabitacion(o).subscribe(i=>{this.spinner.hide();let a=i;if("success"==a.code)u().fire({title:"Exito",text:a.msm,icon:"success"}),this.layoutService.reloadComponent(),this.router.navigate(["dashboard/dashboardRooms"]);else if("warning"==a.code){u().fire({title:"Advertencia",text:a.msm,icon:"warning"});const n=a.productos_sin_stock;let s=0;this.stockProductoModificado=!0,n?.forEach(c=>{this.productsData.forEach(l=>{l.id==c.id&&(l.stockActual=0,s=l.valor_total)}),this.productosAgregados.forEach(l=>{l.id==c.id&&(l.cantidad=c.cantidad_actual,l.valorImpuesto=c.cantidad_actual*s,l.stockModificado=!0)})}),this.recalcular()}else u().fire({title:"Error",text:"Error al anular.",icon:"error"})})}envirRoomDetalleFactura(o){this.spinner.show(),this.dashboardRoomsService.saveDetalleHabitacion(o).subscribe(i=>{if("warning"==i.code)u().fire({title:"Advertencia",text:i.msm,icon:"warning"}),this.spinner.hide(),this.facturarVisible=!1;else{let a=this.formFacturar.get("isFacturaElectronica").value;this.enviarFacturacion({detalle_id:this.detalleId,metodos_pagos:this.formFacturacionMediosPago.value,concepto:"Factura Habitacion",hotel_id:this.hotelId,cliente_id:this.clienteId,porcentaje_descuento:0,subtotal:this.subtotaltotal,total:this.total+this.abonosTotal,impuesto_total:this.totalImpuestos,detalleId:this.detalleId,hotelId:this.hotelId,clienteId:this.clienteId,receta:this.recetasAgregadas,impuesto:this.impuestos_save,habitacion_id:this.habitacionId,is_factura_electronica:a,excedente:this.excedente})}})}desocuparHabitacion(){let o={id_habitacion:this.habitacionId};u().fire({title:"\xbfEstas seguro que deseas Salir (Check-out) de esta habitacion?",text:"",icon:"warning",showCancelButton:!0,confirmButtonText:"S\xed, Confirmar",cancelButtonText:"Cancelar"}).then(i=>{i.isConfirmed&&(this.spinner.show(),this.enviarDesocupar(o))})}facturacion(){this.facturarVisible=!0}enviarDesocupar(o){this.dashboardRoomsService.desocupar(o).subscribe(i=>{let a=i;this.spinner.hide(),"success"==a.code?(u().fire({title:"Exito",text:"Anulacion Exitosa.",icon:"success"}),this.router.navigate(["dashboard/dashboardRooms"])):"warning"==a.code?u().fire({title:"Advertencia",text:a.error,icon:"warning"}):u().fire({title:"Error",text:"Error al anular.",icon:"error"})},i=>{console.log("Error: ",i)})}validaciones(){this.disableFactura=!1,this.abonosTotal>this.tarifasTotal&&(this.disableFactura=!0,this.cargarItems())}eliminarMedioPagoAbono(o){this.formFacturacionMediosPago.removeAt(o),this.calcularTotalMetodosPago()}agregarAbonoOcupar(o){if(console.log("event",o),this.formFacturacionMediosPago.controls.find(a=>a.get("medio_pago").value.id==o.value.id))return;let i=this.FB.group({monto:["",[d.kI.required,d.kI.min(1)]],medio_pago:[o.value,[d.kI.required,d.kI.min(1)]],nombre:[o.value.nombre,[]]});i.get("nombre").disable(),this.formFacturacionMediosPago.push(i)}calcularTotalMetodosPago(){this.totalMetodosPago=0,this.formFacturacionMediosPago.value.forEach(o=>{let i=parseFloat(o.monto);isNaN(i)&&(i=0),this.totalMetodosPago+=i})}submitFactura(){this.envirRoomDetalleFactura({tarifas:this.dataTarifa,productos:this.productosAgregados,abonos:this.dataAbonos,detalleId:this.detalleId,hotelId:this.hotelId,clienteId:this.clienteId,receta:this.recetasAgregadas,impuesto:this.impuestos_save,habitacion_id:this.habitacionId})}enviarFacturacion(o){this.spinner.show("true",{size:"medium",color:"2C820C",type:"1",fullScreen:!0,showSpinner:!0}),this.dashboardRoomsService.facturar(o).subscribe(i=>{let a=i;this.facturarVisible=!1,this.spinner.hide(),"success"==a.code?(this.layoutService.reloadComponent(),u().fire({title:"Exito",text:a.msm,icon:"success"}),window.open(this.baseUrl+"/facturaRemisionPdf/"+a.factura.id+"?token="+this.token,"_blank"),this.router.navigate(["dashboard/dashboardRooms"])):"warning"==a.code?u().fire({title:"Advertencia",text:a.msm,icon:"warning"}):u().fire({title:"Error",text:"Error al Facturar.",icon:"error"})},i=>{console.log("Error: ",i)})}generarIdAleatorio(){let a="";for(let n=0;n<10;n++)a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random()));return a}changeCantidadProducto(o,i){let a=parseInt(i.target.value),n=o.id,s=null;this.productsData.forEach(l=>{l.id==n&&(s=l)});let c=this.productosAgregados.findIndex(l=>l.id==n);this.productosAgregados=this.productosAgregados.filter(l=>l.id!=n),this.recargarTablaProducto(s,a,c),this.recalcular()}changeCantidadReceta(o,i){let a=parseInt(i.target.value),n=o.id,s=null;this.recetasData.forEach(l=>{l.id==n&&(s=l)});let c=this.recetasAgregadas.findIndex(l=>l.id==n);this.recetasAgregadas=this.recetasAgregadas.filter(l=>l.id!=n),this.recargarTablaReceta(s,a,c),this.recalcular()}getCantidadMaximaProducto(o){console.log("lol2",this.productsData);let i=o.id,a=1;return this.productsData.forEach(n=>{n.id==i&&(a=n.stockActualFijo)}),a}static#t=this.\u0275fac=function(i){return new(i||e)(t.Y36(M.y),t.Y36(d.qu),t.Y36(C.t2),t.Y36(_.uU),t.Y36(Z.F0),t.Y36(Z.gz),t.Y36(Wo.y),t.Y36(H.P))};static#o=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-dashboard-rooms-ocupar"]],decls:166,vars:94,consts:[["type","ball-scale-multiple","size","large","bdColor","rgba(192,192,192,0.8)","template","<img src='assets/loading/cargando.gif' />"],[1,"surface-section","px-4","py-5","md:px-6","lg:px-8"],[1,"flex","align-items-center","flex-column","lg:flex-row"],[1,"field","md:px-6","lg:col-1"],["pButton","","pRipple","","label","","icon","pi pi-arrow-left",1,"p-button-outlined","mr-4",3,"routerLink"],[1,"field","md:px-6","lg:col-8"],[1,"font-medium","text-3xl","text-900"],[1,"field","md:px-6","lg:col-3"],[3,"label","disabled","model","onClick"],[1,"grid","mt-2"],[1,"col-12"],[1,"card",2,"padding","30px"],[1,"grid"],[1,"col-12","md:col-5"],["responsiveLayout","scroll",3,"value","tableStyle","rows"],["pTemplate","header"],["pTemplate","body"],[2,"margin-bottom","30px"],[3,"formGroup"],[1,"p-fluid","p-formgrid","grid","p-3"],[1,"field","col-12","lg:col-12"],["type","text","formControlName","nombreCliente","pInputText","",1,"w-full","mb-3","border-round-3xl"],["type","text","formControlName","desde","pInputText","",1,"w-full","mb-3","border-round-3xl"],[1,"field","col-12","lg:col-6"],["type","text","formControlName","hasta","pInputText","",1,"w-full","mb-3","border-round-3xl"],["formControlName","descripcion","pInputTextarea","","rows","3","cols","20",2,"resize","none"],["severity","error","class","padding","text","El total de abonos no puede ser mayor al total a pagar",4,"ngIf"],[1,"col-12","md:col-7"],[1,"table-details"],["pTemplate","footer"],["header","Agregar Tarifa",3,"visible","modal","draggable","resizable","visibleChange"],[3,"formGroup","ngSubmit"],[1,"p-fluid","p-formgrid","grid"],[1,"field","col-12","md:col-12"],["formControlName","tarifa_id","optionLabel","nombre","placeholder","Buscar Tarifa","optionLabel","nombre","emptyMessage","Tarifa no encontrada","display","chip",1,"multiselect-custom",3,"options"],["pTemplate","item"],["pButton","","pRipple","","label","Agregar","type","submit",1,"w-full","bg-admin","boder-admin","mb-5","border-round-3xl",3,"disabled"],["header","Agregar Producto",3,"visible","modal","visibleChange"],[1,"field","col-12","md:col-6"],["for","producto_id"],["formControlName","producto_id","placeholder","Buscar Producto/Servicio","optionLabel","nombre","emptyMessage","Cargando productos...",1,"dropdown-custom",3,"options","onChange"],["style","margin-top: 14px;",4,"ngIf"],["type","number","min","1","formControlName","cantidad","placeholder","Cantidad","pInputText","",1,"w-full","mb-3","border-round-3xl",3,"input"],["style","color: red;",4,"ngIf"],["style","color: orangered;",4,"ngIf"],["header","Agregar Receta",3,"visible","modal","visibleChange"],["for","cliente"],["formControlName","receta_id","placeholder","Buscar Receta","optionLabel","nombre","emptyMessage","Cargando recetas...",1,"dropdown-custom",3,"options"],["type","number","min","1","formControlName","cantidad","placeholder","Cantidad","pInputText","",1,"w-full","mb-3","border-round-3xl"],["class","field col-12","style","color: red;",4,"ngIf"],["header","Abonos ",3,"visible","modal","draggable","resizable","visibleChange"],["type","number","min","1","formControlName","valor","pInputText","",1,"w-full","mb-3","border-round-3xl"],["formControlName","metodo_pago_id","selectionLimit","1","limoptionLabel","nombre","placeholder","Metodo de pago","optionLabel","nombre","emptyMessage","Cargando m\xe9todos de pago...","display","chip",1,"multiselect-custom",3,"options"],["header","Facturar ",3,"visible","modal","draggable","resizable","visibleChange"],[1,"field","col-12"],[1,"font-medium","text-2xl","text-500","text-center"],["optionLabel","nombre","emptyMessage","Cargando m\xe9todos de pago...","placeholder","Buscar M\xe9todo de Pago",1,"dropdown-custom",3,"options","autoDisplayFirst","onChange"],["class","grid",3,"formGroup",4,"ngFor","ngForOf"],["class","col-6","style","padding: 0; margin-top: 15px;",4,"ngIf"],[1,"flex",2,"justify-content","space-between"],[1,"flex","align-items-center",2,"gap","10px"],["severity","info","text","Generar Factura electronica"],["formControlName","isFacturaElectronica"],[1,"flex","flex-column","justify-end"],[1,"font-medium","text-2xl","text-500","text-right"],["pButton","","pRipple","","type","submit",1,"w-full","bg-admin","boder-admin","mb-5","border-round-3xl",3,"label","disabled","click"],[4,"ngIf","ngIfElse"],["emptyTd",""],["pButton","","pRipple","","class","p-button","icon","pi pi-plus",3,"click",4,"ngIf"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button",3,"click"],["severity","error","text","El total de abonos no puede ser mayor al total a pagar",1,"padding"],["name",""],[4,"ngIf"],["icon","pi pi-trash","severity","danger",3,"click"],["type","number","min","1","id","cantidadProducto","pInputText","","placeholder","Valor",2,"width","100%",3,"max","value","keydown","input"],["colspan","1"],["colspan","2"],["type","number","min","1","id","cantidadReceta","pInputText","","placeholder","Valor",2,"width","100%",3,"value","keydown","input"],[1,"flex","align-items-center"],[1,"ml-2"],[1,"padding",3,"icon","value"],[1,"flex","align-items-center",2,"display","flex","justify-content","space-between"],[1,"padding",3,"value"],[2,"margin-top","14px"],[2,"color","red"],[2,"color","orangered"],[1,"field","col-12",2,"color","red"],[1,"grid",3,"formGroup"],[1,"col-6","md:col-5"],["type","text","min","1","formControlName","nombre","placeholder","Metodo de pago","id","medioPago","pInputText","","disabled","",1,"w-full","mb-3","border-round-3xl"],[1,"col-4","md:col-5"],["for","monto"],["type","number","min","1","id","monto","formControlName","monto","pInputText","","placeholder","Valor",1,"w-full","mb-3","border-round-3xl",3,"blur"],["class","col-2 mt-4 eliminar-metodo-pago",4,"ngIf"],[1,"col-2","mt-4","eliminar-metodo-pago"],["id","opciones","icon","pi pi-trash","severity","danger",3,"click"],[1,"col-6",2,"padding","0","margin-top","15px"],["severity","error","text","El total ingresado no es igual al total a pagar"]],template:function(i,a){1&i&&(t._UZ(0,"ngx-spinner",0),t.TgZ(1,"div",1)(2,"div",2)(3,"div",3),t._UZ(4,"button",4),t.qZA(),t.TgZ(5,"div",5)(6,"div",6),t._uU(7),t.qZA()(),t.TgZ(8,"div",7)(9,"p-splitButton",8),t.NdJ("onClick",function(){return a.submitAll()}),t.qZA()()()(),t.TgZ(10,"div",9)(11,"div",10)(12,"div",11)(13,"h3"),t._uU(14,"Detalles de la reserva"),t.qZA(),t.TgZ(15,"div",12)(16,"div",13)(17,"div")(18,"p-table",14),t.YNc(19,Xo,7,0,"ng-template",15),t.YNc(20,ae,9,6,"ng-template",16),t.qZA()(),t._UZ(21,"br"),t.TgZ(22,"div",17)(23,"p-toolbar")(24,"form",18)(25,"div",19)(26,"div",20)(27,"label"),t._uU(28,"Hu\xe9sped"),t.qZA(),t._UZ(29,"input",21),t.qZA(),t.TgZ(30,"div",20)(31,"label"),t._uU(32,"Check-in"),t.qZA(),t._UZ(33,"input",22),t.qZA(),t.TgZ(34,"div",23)(35,"label"),t._uU(36,"Check-out"),t.qZA(),t._UZ(37,"input",24),t.qZA(),t.TgZ(38,"div",20)(39,"label"),t._uU(40,"Descripci\xf3n"),t.qZA(),t._UZ(41,"textarea",25),t.qZA()()(),t.YNc(42,ie,1,0,"p-message",26),t.qZA()()(),t.TgZ(43,"div",27)(44,"div",28)(45,"h5"),t._uU(46,"Tarifas"),t.qZA(),t.TgZ(47,"p-table",14),t.YNc(48,se,8,1,"ng-template",15),t.YNc(49,de,9,5,"ng-template",16),t.qZA()(),t._UZ(50,"hr"),t.TgZ(51,"div",28)(52,"h5"),t._uU(53,"Productos/Servicios"),t.qZA(),t.TgZ(54,"p-table",14),t.YNc(55,me,12,1,"ng-template",15),t.YNc(56,_e,16,15,"ng-template",16),t.YNc(57,he,12,9,"ng-template",29),t.qZA()(),t._UZ(58,"hr"),t.TgZ(59,"div",28)(60,"h5"),t._uU(61,"Recetas"),t.qZA(),t.TgZ(62,"p-table",14),t.YNc(63,fe,12,1,"ng-template",15),t.YNc(64,ve,15,12,"ng-template",16),t.YNc(65,Ze,12,9,"ng-template",29),t.qZA()(),t._UZ(66,"hr"),t.TgZ(67,"div",28)(68,"h5"),t._uU(69,"Abonos"),t.qZA(),t.TgZ(70,"p-table",14),t.YNc(71,Ae,6,1,"ng-template",15),t.YNc(72,Ce,7,5,"ng-template",16),t.qZA()()()()()()(),t.TgZ(73,"p-dialog",30),t.NdJ("visibleChange",function(s){return a.tarifaVisible=s}),t.TgZ(74,"div",10)(75,"form",31),t.NdJ("ngSubmit",function(){return a.submitTarifa()}),t.TgZ(76,"div",32)(77,"div",33)(78,"label"),t._uU(79,"Tarifa"),t.qZA(),t.TgZ(80,"p-multiSelect",34),t.YNc(81,ye,6,5,"ng-template",35),t.qZA()(),t.TgZ(82,"div",33),t._UZ(83,"button",36),t.qZA()()()()(),t.TgZ(84,"p-dialog",37),t.NdJ("visibleChange",function(s){return a.productoVisible=s}),t.TgZ(85,"div",10)(86,"form",31),t.NdJ("ngSubmit",function(){return a.submitProducto()}),t.TgZ(87,"div",32)(88,"div",38)(89,"label",39),t._uU(90,"Producto / Servicio"),t.qZA(),t.TgZ(91,"p-dropdown",40),t.NdJ("onChange",function(){return a.validarStock("producto")}),t.YNc(92,De,8,7,"ng-template",35),t.qZA(),t.YNc(93,Me,2,1,"div",41),t.qZA(),t.TgZ(94,"div",38)(95,"label"),t._uU(96,"Cantidad"),t.qZA(),t.TgZ(97,"input",42),t.NdJ("input",function(){return a.validarStock("producto")}),t.qZA(),t.YNc(98,Fe,2,0,"div",43),t.YNc(99,we,2,0,"div",44),t.qZA(),t.TgZ(100,"div",33),t._UZ(101,"button",36),t.qZA()()()()(),t.TgZ(102,"p-dialog",45),t.NdJ("visibleChange",function(s){return a.recetaVisible=s}),t.TgZ(103,"div",10)(104,"form",31),t.NdJ("ngSubmit",function(){return a.submitReceta()}),t.TgZ(105,"div",32)(106,"div",38)(107,"label",46),t._uU(108,"Receta"),t.qZA(),t.TgZ(109,"p-dropdown",47),t.YNc(110,Ue,5,4,"ng-template",35),t.qZA(),t.YNc(111,Ne,2,1,"div",41),t.qZA(),t.TgZ(112,"div",38)(113,"label"),t._uU(114,"Cantidad"),t.qZA(),t._UZ(115,"input",48),t.YNc(116,ke,2,0,"div",43),t.YNc(117,Pe,2,0,"div",49),t.qZA(),t.TgZ(118,"div",33),t._UZ(119,"button",36),t.qZA()()()()(),t.TgZ(120,"p-dialog",50),t.NdJ("visibleChange",function(s){return a.abonoVisible=s}),t.TgZ(121,"div",10)(122,"form",31),t.NdJ("ngSubmit",function(){return a.submitAbono()}),t.TgZ(123,"div",32)(124,"div",38)(125,"label"),t._uU(126,"Monto"),t.qZA(),t._UZ(127,"input",51),t.qZA(),t.TgZ(128,"div",38)(129,"label",46),t._uU(130,"Metodo de pago"),t.qZA(),t.TgZ(131,"p-dropdown",52),t.YNc(132,Je,3,1,"ng-template",35),t.qZA()()(),t.TgZ(133,"div",33),t._UZ(134,"button",36),t.qZA()()()(),t.TgZ(135,"p-dialog",53),t.NdJ("visibleChange",function(s){return a.facturarVisible=s}),t.TgZ(136,"div",10)(137,"div",32)(138,"div",54)(139,"div",55),t._uU(140),t.ALo(141,"currencyFormat"),t.qZA()(),t.TgZ(142,"div",54)(143,"label"),t._uU(144,"Agregar m\xe9todo de pago"),t.qZA(),t.TgZ(145,"p-dropdown",56),t.NdJ("onChange",function(s){return a.agregarAbonoOcupar(s)}),t.YNc(146,Se,3,1,"ng-template",35),t.qZA()(),t.TgZ(147,"div",54),t.YNc(148,Ye,13,3,"div",57),t.YNc(149,Le,2,0,"div",58),t._UZ(150,"hr"),t.TgZ(151,"div",59)(152,"div",60),t._UZ(153,"p-message",61),t.TgZ(154,"form",31),t.NdJ("ngSubmit",function(){return a.submitAbono()}),t._UZ(155,"p-inputSwitch",62),t.qZA()(),t.TgZ(156,"div",63)(157,"div",64),t._uU(158),t.ALo(159,"currencyFormat"),t.qZA(),t.TgZ(160,"div",64),t._uU(161),t.ALo(162,"currencyFormat"),t.ALo(163,"currencyFormat"),t.qZA()()()()(),t.TgZ(164,"div",33)(165,"button",65),t.NdJ("click",function(){return a.submitFactura()}),t.qZA()()()()),2&i&&(t.xp6(4),t.Q6J("routerLink","/dashboard/dashboardRooms"),t.xp6(3),t.hij("Detalle Ingreso: ",null==a.dataRoomDetail||null==a.dataRoomDetail.detalleHabitacion||null==a.dataRoomDetail.detalleHabitacion.habitacion?null:a.dataRoomDetail.detalleHabitacion.habitacion.nombre,""),t.xp6(2),t.Q6J("label",2==(null==a.estadoHabitacion?null:a.estadoHabitacion.estado_id)?"Guardar":void 0)("disabled",a.subtotaltotal<=0)("model",a.items),t.xp6(9),t.Q6J("value",a.totales)("tableStyle",t.DdM(84,Qe))("rows",8),t.xp6(6),t.Q6J("formGroup",a.form),t.xp6(18),t.Q6J("ngIf",a.abonosTotal>a.tarifasTotal),t.xp6(5),t.Q6J("value",a.dataTarifa)("tableStyle",t.DdM(85,q))("rows",5),t.xp6(7),t.Q6J("value",a.productosAgregados)("tableStyle",t.DdM(86,q))("rows",5),t.xp6(8),t.Q6J("value",a.recetasAgregadas)("tableStyle",t.DdM(87,q))("rows",5),t.xp6(8),t.Q6J("value",a.dataAbonos)("tableStyle",t.DdM(88,q))("rows",5),t.xp6(3),t.Akn(t.DdM(89,ze)),t.Q6J("visible",a.tarifaVisible)("modal",!0)("draggable",!1)("resizable",!1),t.xp6(2),t.Q6J("formGroup",a.formTarifa),t.xp6(5),t.Q6J("options",a.allTarifas),t.xp6(3),t.Q6J("disabled",a.formTarifa.invalid),t.xp6(1),t.Akn(t.DdM(90,j)),t.Q6J("visible",a.productoVisible)("modal",!0),t.xp6(2),t.Q6J("formGroup",a.formProducto),t.xp6(5),t.Q6J("options",a.productsData),t.xp6(2),t.Q6J("ngIf",a.formProducto.get("producto_id").errors&&(a.formProducto.get("producto_id").dirty||a.formProducto.get("producto_id").touched)),t.xp6(5),t.Q6J("ngIf",a.formProducto.get("cantidad").hasError("required")),t.xp6(1),t.Q6J("ngIf",a.validacionStock),t.xp6(2),t.Q6J("disabled",a.formProducto.invalid||a.validacionStock),t.xp6(1),t.Akn(t.DdM(91,j)),t.Q6J("visible",a.recetaVisible)("modal",!0),t.xp6(2),t.Q6J("formGroup",a.formReceta),t.xp6(5),t.Q6J("options",a.recetasData),t.xp6(2),t.Q6J("ngIf",a.formReceta.get("receta_id").errors&&(a.formReceta.get("receta_id").dirty||a.formReceta.get("receta_id").touched)),t.xp6(5),t.Q6J("ngIf",a.formReceta.get("cantidad").hasError("required")),t.xp6(1),t.Q6J("ngIf",a.validacionStock),t.xp6(2),t.Q6J("disabled",a.formReceta.invalid),t.xp6(1),t.Akn(t.DdM(92,Be)),t.Q6J("visible",a.abonoVisible)("modal",!0)("draggable",!1)("resizable",!1),t.xp6(2),t.Q6J("formGroup",a.formMetodoPago),t.xp6(9),t.Q6J("options",a.dataMetodosPago),t.xp6(3),t.Q6J("disabled",a.formMetodoPago.invalid),t.xp6(1),t.Akn(t.DdM(93,$e)),t.Q6J("visible",a.facturarVisible)("modal",!0)("draggable",!1)("resizable",!1),t.xp6(5),t.hij("Total a pagar: $",t.lcZ(141,76,a.total),""),t.xp6(5),t.Q6J("options",a.dataMetodosPago)("autoDisplayFirst",!1),t.xp6(3),t.Q6J("ngForOf",a.formFacturacionMediosPago.controls),t.xp6(1),t.Q6J("ngIf",a.totalMetodosPago!=a.total),t.xp6(5),t.Q6J("formGroup",a.formFacturar),t.xp6(4),t.hij("Total ingresado: $",t.lcZ(159,78,a.totalMetodosPago),""),t.xp6(3),t.hij("Pendiente: $",a.total-a.totalMetodosPago>0?t.lcZ(162,80,a.total-a.totalMetodosPago):t.lcZ(163,82,0),""),t.xp6(4),t.Q6J("label","Pagar")("disabled",a.formFacturacionMediosPago.invalid||a.totalMetodosPago!=a.total))},dependencies:[v.jx,_.sg,_.O5,y.iA,A.Hq,A.zx,d._Y,d.Fj,d.wV,d.JJ,d.JL,d.qQ,Z.rH,x.H,P.o,J.o,D.g,R.Lt,I.V,d.sg,d.u,C.Ro,U.V,O.NU,N.q,V.a,G.Ql,_.rS,z.D],styles:["table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-bottom:20px}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px solid #dddddd;text-align:left;padding:8px}th[_ngcontent-%COMP%]{background-color:#f2f2f2}.ordenAdd[_ngcontent-%COMP%]{padding:1%;text-align:right}.padding[_ngcontent-%COMP%]{padding:1%}.expandir[_ngcontent-%COMP%]{width:100%}.table-details[_ngcontent-%COMP%]{padding:10px}"]})}return e})();var K=p(2506);let Ge=(()=>{class e{static#t=this.\u0275fac=function(i){return new(i||e)};static#o=this.\u0275mod=t.oAB({type:e});static#e=this.\u0275inj=t.cJS({imports:[Z.Bz.forChild([{path:"",component:jo,canActivate:[K.a],data:{permissions:["dashboard.habitacion"]}},{path:":idHabitacion/ocupar",component:Ve,canActivate:[K.a],data:{permissions:["dashboard.habitacion"]}}]),Z.Bz]})}return e})();var je=p(2169),Ke=p(1480),We=p(5617),Xe=p(6208);let ta=(()=>{class e{static#t=this.\u0275fac=function(i){return new(i||e)};static#o=this.\u0275mod=t.oAB({type:e});static#e=this.\u0275inj=t.cJS({providers:[{provide:et.TP,useClass:at.n,multi:!0},M.y,_.uU],imports:[Y.Q,_.ez,y.U$,W.O,d.u5,L.$9,A.hJ,x.T,X.EV,P.V,tt.Xt,J.j,D.A,R.kW,ot.cc,bt,S.L$,I.S,it.ii.forRoot(),d.UX,C.ef,nt.U,Ge,w.fx,U.W,E._8,O.q4,je.o,Ke.Gg,N.O,V.l,R.kW,G.Iu,We.ClientesModule,Xe.m]})}return e})()}}]);