"use strict";(self.webpackChunksakai_ng=self.webpackChunksakai_ng||[]).push([[91],{4091:(ni,w,p)=>{p.r(w),p.d(w,{DashboardRoomsModule:()=>ii});var m=p(6814),l=p(95),S=p(9664),ot=p(6068),v=p(707),T=p(4480),it=p(4104),O=p(6340),at=p(6022),C=p(3714),I=p(6218),x=p(2160),nt=p(1865),rt=p(354),y=p(7213),st=p(9862),lt=p(8712),ct=p(5722),Z=p(8672),dt=p(1712),U=p(1532),b=p(86),pt=p(3519),u=p.n(pt),t=p(4946),R=p(8663),F=p(3859),N=p(1230),g=p(5219),J=p(1122),h=p(6825),f=p(2076),P=p(7778),D=p(2332);function ut(i,r){1&i&&t.GkF(0)}function mt(i,r){1&i&&t._UZ(0,"TimesIcon",8),2&i&&t.Q6J("styleClass","p-overlaypanel-close-icon")}function ht(i,r){}function _t(i,r){1&i&&t.YNc(0,ht,0,0,"ng-template")}function gt(i,r){if(1&i&&(t.TgZ(0,"span",9),t.YNc(1,_t,1,0,null,3),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("ngTemplateOutlet",e.closeIconTemplate)}}function ft(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"button",5),t.NdJ("click",function(o){t.CHM(e);const n=t.oxw(2);return t.KtG(n.onCloseClick(o))})("keydown.enter",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.hide())}),t.YNc(1,mt,1,1,"TimesIcon",6),t.YNc(2,gt,2,1,"span",7),t.qZA()}if(2&i){const e=t.oxw(2);t.uIk("aria-label",e.ariaCloseLabel),t.xp6(1),t.Q6J("ngIf",!e.closeIconTemplate),t.xp6(1),t.Q6J("ngIf",e.closeIconTemplate)}}const bt=function(i,r){return{showTransitionParams:i,hideTransitionParams:r}},vt=function(i,r){return{value:i,params:r}};function Tt(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",1),t.NdJ("click",function(o){t.CHM(e);const n=t.oxw();return t.KtG(n.onOverlayClick(o))})("@animation.start",function(o){t.CHM(e);const n=t.oxw();return t.KtG(n.onAnimationStart(o))})("@animation.done",function(o){t.CHM(e);const n=t.oxw();return t.KtG(n.onAnimationEnd(o))}),t.TgZ(1,"div",2),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onContentClick())})("mousedown",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onContentClick())}),t.Hsn(2),t.YNc(3,ut,1,0,"ng-container",3),t.qZA(),t.YNc(4,ft,3,3,"button",4),t.qZA()}if(2&i){const e=t.oxw();t.Tol(e.styleClass),t.Q6J("ngClass","p-overlaypanel p-component")("ngStyle",e.style)("@animation",t.WLB(10,vt,e.overlayVisible?"open":"close",t.WLB(7,bt,e.showTransitionOptions,e.hideTransitionOptions))),t.xp6(3),t.Q6J("ngTemplateOutlet",e.contentTemplate),t.xp6(1),t.Q6J("ngIf",e.showCloseIcon)}}const Zt=["*"];let xt=(()=>{class i{document;platformId;el;renderer;cd;zone;config;overlayService;dismissable=!0;showCloseIcon;style;styleClass;appendTo="body";autoZIndex=!0;ariaCloseLabel;baseZIndex=0;focusOnShow=!0;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";onShow=new t.vpe;onHide=new t.vpe;templates;container;overlayVisible=!1;render=!1;isOverlayAnimationInProgress=!1;selfClick=!1;documentClickListener;target;willHide;scrollHandler;documentResizeListener;contentTemplate;closeIconTemplate;destroyCallback;overlayEventListener;overlaySubscription;constructor(e,a,o,n,s,c,d,_){this.document=e,this.platformId=a,this.el=o,this.renderer=n,this.cd=s,this.zone=c,this.config=d,this.overlayService=_}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"content":default:this.contentTemplate=e.template;break;case"closeicon":this.closeIconTemplate=e.template}this.cd.markForCheck()})}bindDocumentClickListener(){(0,m.NF)(this.platformId)&&!this.documentClickListener&&this.dismissable&&this.zone.runOutsideAngular(()=>{let e=f.p.isIOS()?"touchstart":"click";this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:this.document,e,o=>{!this.container?.contains(o.target)&&this.target!==o.target&&!this.target.contains(o.target)&&!this.selfClick&&this.zone.run(()=>{this.hide()}),this.selfClick=!1,this.cd.markForCheck()})})}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null,this.selfClick=!1)}toggle(e,a){this.isOverlayAnimationInProgress||(this.overlayVisible?(this.hasTargetChanged(e,a)&&(this.destroyCallback=()=>{this.show(null,a||e.currentTarget||e.target)}),this.hide()):this.show(e,a))}show(e,a){a&&e&&e.stopPropagation(),!this.isOverlayAnimationInProgress&&(this.target=a||e.currentTarget||e.target,this.overlayVisible=!0,this.render=!0,this.cd.markForCheck())}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement}),this.selfClick=!0}onContentClick(){this.selfClick=!0}hasTargetChanged(e,a){return null!=this.target&&this.target!==(a||e.currentTarget||e.target)}appendContainer(){this.appendTo&&("body"===this.appendTo?this.renderer.appendChild(this.document.body,this.container):f.p.appendChild(this.container,this.appendTo))}restoreAppend(){this.container&&this.appendTo&&this.renderer.appendChild(this.el.nativeElement,this.container)}align(){this.autoZIndex&&D.P9.set("overlay",this.container,this.baseZIndex+this.config.zIndex.overlay),f.p.absolutePosition(this.container,this.target);const e=f.p.getOffset(this.container),a=f.p.getOffset(this.target),o=this.document.defaultView?.getComputedStyle(this.container).getPropertyValue("border-radius");let n=0;e.left<a.left&&(n=a.left-e.left-2*parseFloat(o)),this.container?.style.setProperty("--overlayArrowLeft",`${n}px`),e.top<a.top&&(f.p.addClass(this.container,"p-overlaypanel-flipped"),this.showCloseIcon&&this.renderer.setStyle(this.container,"margin-top","-30px"))}onAnimationStart(e){"open"===e.toState&&(this.container=e.element,this.appendContainer(),this.align(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.focusOnShow&&this.focus(),this.overlayEventListener=a=>{this.container&&this.container.contains(a.target)&&(this.selfClick=!0)},this.overlaySubscription=this.overlayService.clickObservable.subscribe(this.overlayEventListener),this.onShow.emit(null)),this.isOverlayAnimationInProgress=!0}onAnimationEnd(e){switch(e.toState){case"void":this.destroyCallback&&(this.destroyCallback(),this.destroyCallback=null),this.overlaySubscription&&this.overlaySubscription.unsubscribe();break;case"close":this.autoZIndex&&D.P9.clear(this.container),this.overlaySubscription&&this.overlaySubscription.unsubscribe(),this.onContainerDestroy(),this.onHide.emit({}),this.render=!1}this.isOverlayAnimationInProgress=!1}focus(){let e=f.p.findSingle(this.container,"[autofocus]");e&&this.zone.runOutsideAngular(()=>{setTimeout(()=>e.focus(),5)})}hide(){this.overlayVisible=!1,this.cd.markForCheck()}onCloseClick(e){this.hide(),e.preventDefault()}onWindowResize(){this.overlayVisible&&!f.p.isTouchDevice()&&this.hide()}bindDocumentResizeListener(){(0,m.NF)(this.platformId)&&!this.documentResizeListener&&(this.documentResizeListener=this.renderer.listen(this.document.defaultView,"resize",this.onWindowResize.bind(this)))}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindScrollListener(){(0,m.NF)(this.platformId)&&(this.scrollHandler||(this.scrollHandler=new f.V(this.target,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener())}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}onContainerDestroy(){this.cd.destroyed||(this.target=null),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener()}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.container&&this.autoZIndex&&D.P9.clear(this.container),this.cd.destroyed||(this.target=null),this.destroyCallback=null,this.container&&(this.restoreAppend(),this.onContainerDestroy()),this.overlaySubscription&&this.overlaySubscription.unsubscribe()}static \u0275fac=function(a){return new(a||i)(t.Y36(m.K0),t.Y36(t.Lbi),t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(t.sBO),t.Y36(t.R0b),t.Y36(g.b4),t.Y36(g.F0))};static \u0275cmp=t.Xpm({type:i,selectors:[["p-overlayPanel"]],contentQueries:function(a,o,n){if(1&a&&t.Suo(n,g.jx,4),2&a){let s;t.iGM(s=t.CRH())&&(o.templates=s)}},hostAttrs:[1,"p-element"],inputs:{dismissable:"dismissable",showCloseIcon:"showCloseIcon",style:"style",styleClass:"styleClass",appendTo:"appendTo",autoZIndex:"autoZIndex",ariaCloseLabel:"ariaCloseLabel",baseZIndex:"baseZIndex",focusOnShow:"focusOnShow",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onShow:"onShow",onHide:"onHide"},ngContentSelectors:Zt,decls:1,vars:1,consts:[[3,"ngClass","ngStyle","class","click",4,"ngIf"],[3,"ngClass","ngStyle","click"],[1,"p-overlaypanel-content",3,"click","mousedown"],[4,"ngTemplateOutlet"],["type","button","class","p-overlaypanel-close p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],["type","button","pRipple","",1,"p-overlaypanel-close","p-link",3,"click","keydown.enter"],[3,"styleClass",4,"ngIf"],["class","p-overlaypanel-close-icon",4,"ngIf"],[3,"styleClass"],[1,"p-overlaypanel-close-icon"]],template:function(a,o){1&a&&(t.F$t(),t.YNc(0,Tt,5,13,"div",0)),2&a&&t.Q6J("ngIf",o.render)},dependencies:function(){return[m.mk,m.O5,m.tP,m.PC,T.H,P.q]},styles:['.p-overlaypanel{position:absolute;margin-top:10px;top:0;left:0}.p-overlaypanel-flipped{margin-top:0;margin-bottom:10px}.p-overlaypanel-close{display:flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-overlaypanel:after,.p-overlaypanel:before{bottom:100%;left:calc(var(--overlayArrowLeft, 0) + 1.25rem);content:" ";height:0;width:0;position:absolute;pointer-events:none}.p-overlaypanel:after{border-width:8px;margin-left:-8px}.p-overlaypanel:before{border-width:10px;margin-left:-10px}.p-overlaypanel-shifted:after,.p-overlaypanel-shifted:before{left:auto;right:1.25em;margin-left:auto}.p-overlaypanel-flipped:after,.p-overlaypanel-flipped:before{bottom:auto;top:100%}.p-overlaypanel.p-overlaypanel-flipped:after{border-bottom-color:transparent}.p-overlaypanel.p-overlaypanel-flipped:before{border-bottom-color:transparent}\n'],encapsulation:2,data:{animation:[(0,h.X$)("animation",[(0,h.SB)("void",(0,h.oB)({transform:"scaleY(0.8)",opacity:0})),(0,h.SB)("close",(0,h.oB)({opacity:0})),(0,h.SB)("open",(0,h.oB)({transform:"translateY(0)",opacity:1})),(0,h.eR)("void => open",(0,h.jt)("{{showTransitionParams}}")),(0,h.eR)("open => close",(0,h.jt)("{{hideTransitionParams}}"))])]},changeDetection:0})}return i})(),At=(()=>{class i{static \u0275fac=function(a){return new(a||i)};static \u0275mod=t.oAB({type:i});static \u0275inj=t.cJS({imports:[m.ez,T.T,g.m8,P.q,g.m8]})}return i})();var Q=p(6005),E=p(4562);function Ct(i,r){if(1&i&&t._UZ(0,"span",11),2&i){const e=t.oxw(3);t.Tol(e.accordion.collapseIcon),t.Q6J("ngClass",e.iconClass)}}function It(i,r){if(1&i&&t._UZ(0,"ChevronDownIcon",11),2&i){const e=t.oxw(3);t.Q6J("ngClass",e.iconClass)}}function yt(i,r){if(1&i&&(t.ynx(0),t.YNc(1,Ct,1,3,"span",9),t.YNc(2,It,1,1,"ChevronDownIcon",10),t.BQk()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.accordion.collapseIcon),t.xp6(1),t.Q6J("ngIf",!e.accordion.collapseIcon)}}function Rt(i,r){if(1&i&&t._UZ(0,"span",11),2&i){const e=t.oxw(3);t.Tol(e.accordion.expandIcon),t.Q6J("ngClass",e.iconClass)}}function Dt(i,r){if(1&i&&t._UZ(0,"ChevronRightIcon",11),2&i){const e=t.oxw(3);t.Q6J("ngClass",e.iconClass)}}function qt(i,r){if(1&i&&(t.ynx(0),t.YNc(1,Rt,1,3,"span",9),t.YNc(2,Dt,1,1,"ChevronRightIcon",10),t.BQk()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.accordion.expandIcon),t.xp6(1),t.Q6J("ngIf",!e.accordion.expandIcon)}}function Mt(i,r){if(1&i&&(t.ynx(0),t.YNc(1,yt,3,2,"ng-container",3),t.YNc(2,qt,3,2,"ng-container",3),t.BQk()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.selected),t.xp6(1),t.Q6J("ngIf",!e.selected)}}function kt(i,r){}function wt(i,r){1&i&&t.YNc(0,kt,0,0,"ng-template")}function St(i,r){if(1&i&&(t.TgZ(0,"span",12),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.hij(" ",e.header," ")}}function Ot(i,r){1&i&&t.GkF(0)}function Ut(i,r){1&i&&t.Hsn(0,1,["*ngIf","hasHeaderFacet"])}function Ft(i,r){1&i&&t.GkF(0)}function Nt(i,r){if(1&i&&(t.ynx(0),t.YNc(1,Ft,1,0,"ng-container",6),t.BQk()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngTemplateOutlet",e.contentTemplate)}}const Jt=["*",[["p-header"]]],Pt=function(i){return{$implicit:i}},H=function(i){return{transitionParams:i}},Qt=function(i){return{value:"visible",params:i}},Et=function(i){return{value:"hidden",params:i}},Ht=["*","p-header"],Yt=["*"];let Lt=0,Y=(()=>{class i{changeDetector;header;headerStyle;tabStyle;contentStyle;tabStyleClass;headerStyleClass;contentStyleClass;disabled;cache=!0;transitionOptions="400ms cubic-bezier(0.86, 0, 0.07, 1)";iconPos="start";selectedChange=new t.vpe;headerFacet;templates;_selected=!1;get selected(){return this._selected}set selected(e){this._selected=e,this.loaded||(this._selected&&this.cache&&(this.loaded=!0),this.changeDetector.detectChanges())}get iconClass(){return"end"===this.iconPos?"p-accordion-toggle-icon-end":"p-accordion-toggle-icon"}contentTemplate;headerTemplate;iconTemplate;id="p-accordiontab-"+Lt++;loaded=!1;accordion;constructor(e,a){this.changeDetector=a,this.accordion=e}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"content":default:this.contentTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"icon":this.iconTemplate=e.template}})}toggle(e){if(this.disabled)return!1;let a=this.findTabIndex();if(this.selected)this.selected=!1,this.accordion.onClose.emit({originalEvent:e,index:a});else{if(!this.accordion.multiple)for(var o=0;o<this.accordion.tabs.length;o++)this.accordion.tabs[o].selected&&(this.accordion.tabs[o].selected=!1,this.accordion.tabs[o].selectedChange.emit(!1),this.accordion.tabs[o].changeDetector.markForCheck());this.selected=!0,this.loaded=!0,this.accordion.onOpen.emit({originalEvent:e,index:a})}this.selectedChange.emit(this.selected),this.accordion.updateActiveIndex(),this.changeDetector.markForCheck(),e.preventDefault()}findTabIndex(){let e=-1;for(var a=0;a<this.accordion.tabs.length;a++)if(this.accordion.tabs[a]==this){e=a;break}return e}get hasHeaderFacet(){return this.headerFacet&&this.headerFacet.length>0}onKeydown(e){(32===e.which||13===e.which)&&(this.toggle(e),e.preventDefault())}ngOnDestroy(){this.accordion.tabs.splice(this.findTabIndex(),1)}static \u0275fac=function(a){return new(a||i)(t.Y36((0,t.Gpc)(()=>L)),t.Y36(t.sBO))};static \u0275cmp=t.Xpm({type:i,selectors:[["p-accordionTab"]],contentQueries:function(a,o,n){if(1&a&&(t.Suo(n,g.h4,4),t.Suo(n,g.jx,4)),2&a){let s;t.iGM(s=t.CRH())&&(o.headerFacet=s),t.iGM(s=t.CRH())&&(o.templates=s)}},hostAttrs:[1,"p-element"],inputs:{header:"header",headerStyle:"headerStyle",tabStyle:"tabStyle",contentStyle:"contentStyle",tabStyleClass:"tabStyleClass",headerStyleClass:"headerStyleClass",contentStyleClass:"contentStyleClass",disabled:"disabled",cache:"cache",transitionOptions:"transitionOptions",iconPos:"iconPos",selected:"selected"},outputs:{selectedChange:"selectedChange"},ngContentSelectors:Ht,decls:12,vars:38,consts:[[1,"p-accordion-tab",3,"ngClass","ngStyle"],[1,"p-accordion-header"],["role","tab",1,"p-accordion-header-link",3,"ngClass","click","keydown"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-accordion-header-text",4,"ngIf"],[4,"ngTemplateOutlet"],["role","region",1,"p-toggleable-content"],[1,"p-accordion-content",3,"ngClass","ngStyle"],[3,"class","ngClass",4,"ngIf"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],[1,"p-accordion-header-text"]],template:function(a,o){1&a&&(t.F$t(Jt),t.TgZ(0,"div",0)(1,"div",1)(2,"a",2),t.NdJ("click",function(s){return o.toggle(s)})("keydown",function(s){return o.onKeydown(s)}),t.YNc(3,Mt,3,2,"ng-container",3),t.YNc(4,wt,1,0,null,4),t.YNc(5,St,2,1,"span",5),t.YNc(6,Ot,1,0,"ng-container",6),t.YNc(7,Ut,1,0,"ng-content",3),t.qZA()(),t.TgZ(8,"div",7)(9,"div",8),t.Hsn(10),t.YNc(11,Nt,2,1,"ng-container",3),t.qZA()()()),2&a&&(t.ekj("p-accordion-tab-active",o.selected),t.Q6J("ngClass",o.tabStyleClass)("ngStyle",o.tabStyle),t.xp6(1),t.ekj("p-highlight",o.selected)("p-disabled",o.disabled),t.xp6(1),t.Akn(o.headerStyle),t.Q6J("ngClass",o.headerStyleClass),t.uIk("tabindex",o.disabled?null:0)("id",o.id)("aria-controls",o.id+"-content")("aria-expanded",o.selected),t.xp6(1),t.Q6J("ngIf",!o.iconTemplate),t.xp6(1),t.Q6J("ngTemplateOutlet",o.iconTemplate)("ngTemplateOutletContext",t.VKq(28,Pt,o.selected)),t.xp6(1),t.Q6J("ngIf",!o.hasHeaderFacet),t.xp6(1),t.Q6J("ngTemplateOutlet",o.headerTemplate),t.xp6(1),t.Q6J("ngIf",o.hasHeaderFacet),t.xp6(1),t.Q6J("@tabContent",o.selected?t.VKq(32,Qt,t.VKq(30,H,o.transitionOptions)):t.VKq(36,Et,t.VKq(34,H,o.transitionOptions))),t.uIk("id",o.id+"-content")("aria-hidden",!o.selected)("aria-labelledby",o.id),t.xp6(1),t.Q6J("ngClass",o.contentStyleClass)("ngStyle",o.contentStyle),t.xp6(2),t.Q6J("ngIf",o.contentTemplate&&(o.cache?o.loaded:o.selected)))},dependencies:function(){return[m.mk,m.O5,m.tP,m.PC,E.X,Q.v]},styles:[".p-accordion-header-link{cursor:pointer;display:flex;align-items:center;-webkit-user-select:none;user-select:none;position:relative;text-decoration:none}.p-accordion-header-link:focus{z-index:1}.p-accordion-header-text{line-height:1}.p-accordion .p-toggleable-content{overflow:hidden}.p-accordion .p-accordion-tab-active>.p-toggleable-content:not(.ng-animating){overflow:inherit}.p-accordion-toggle-icon-end{order:1;margin-left:auto}.p-accordion-toggle-icon{order:0}\n"],encapsulation:2,data:{animation:[(0,h.X$)("tabContent",[(0,h.SB)("hidden",(0,h.oB)({height:"0"})),(0,h.SB)("visible",(0,h.oB)({height:"*"})),(0,h.eR)("visible <=> hidden",[(0,h.jt)("{{transitionParams}}")]),(0,h.eR)("void => *",(0,h.jt)(0))])]},changeDetection:0})}return i})(),L=(()=>{class i{el;changeDetector;multiple=!1;style;styleClass;expandIcon;collapseIcon;get activeIndex(){return this._activeIndex}set activeIndex(e){this._activeIndex=e,this.preventActiveIndexPropagation?this.preventActiveIndexPropagation=!1:this.updateSelectionState()}onClose=new t.vpe;onOpen=new t.vpe;activeIndexChange=new t.vpe;tabList;tabListSubscription=null;_activeIndex;preventActiveIndexPropagation=!1;tabs=[];constructor(e,a){this.el=e,this.changeDetector=a}ngAfterContentInit(){this.initTabs(),this.tabListSubscription=this.tabList.changes.subscribe(e=>{this.initTabs()})}initTabs(){this.tabs=this.tabList.toArray(),this.updateSelectionState(),this.changeDetector.markForCheck()}getBlockableElement(){return this.el.nativeElement.children[0]}updateSelectionState(){if(this.tabs&&this.tabs.length&&null!=this._activeIndex)for(let e=0;e<this.tabs.length;e++){let a=this.multiple?this._activeIndex.includes(e):e===this._activeIndex;a!==this.tabs[e].selected&&(this.tabs[e].selected=a,this.tabs[e].selectedChange.emit(a),this.tabs[e].changeDetector.markForCheck())}}updateActiveIndex(){let e=this.multiple?[]:null;this.tabs.forEach((a,o)=>{if(a.selected){if(!this.multiple)return void(e=o);e.push(o)}}),this.preventActiveIndexPropagation=!0,this.activeIndexChange.emit(e)}ngOnDestroy(){this.tabListSubscription&&this.tabListSubscription.unsubscribe()}static \u0275fac=function(a){return new(a||i)(t.Y36(t.SBq),t.Y36(t.sBO))};static \u0275cmp=t.Xpm({type:i,selectors:[["p-accordion"]],contentQueries:function(a,o,n){if(1&a&&t.Suo(n,Y,4),2&a){let s;t.iGM(s=t.CRH())&&(o.tabList=s)}},hostAttrs:[1,"p-element"],inputs:{multiple:"multiple",style:"style",styleClass:"styleClass",expandIcon:"expandIcon",collapseIcon:"collapseIcon",activeIndex:"activeIndex"},outputs:{onClose:"onClose",onOpen:"onOpen",activeIndexChange:"activeIndexChange"},ngContentSelectors:Yt,decls:2,vars:4,consts:[["role","tablist",3,"ngClass","ngStyle"]],template:function(a,o){1&a&&(t.F$t(),t.TgZ(0,"div",0),t.Hsn(1),t.qZA()),2&a&&(t.Tol(o.styleClass),t.Q6J("ngClass","p-accordion p-component")("ngStyle",o.style))},dependencies:[m.mk,m.PC],encapsulation:2,changeDetection:0})}return i})(),zt=(()=>{class i{static \u0275fac=function(a){return new(a||i)};static \u0275mod=t.oAB({type:i});static \u0275inj=t.cJS({imports:[m.ez,E.X,Q.v,g.m8]})}return i})();var q=p(6263),M=p(4055),k=p(7161),Bt=p(8725);const jt=["op1"];function Gt(i,r){1&i&&t._UZ(0,"i",32)}function $t(i,r){1&i&&t._UZ(0,"i",32)}function Vt(i,r){1&i&&t._UZ(0,"i",32)}function Kt(i,r){1&i&&t._UZ(0,"i",32)}function Wt(i,r){1&i&&t._UZ(0,"i",32)}function Xt(i,r){1&i&&t._UZ(0,"i",32)}function te(i,r){1&i&&t._UZ(0,"i",32)}function ee(i,r){1&i&&t._UZ(0,"i",38)}const z=function(){return{background:"blue",color:"white"}};function oe(i,r){if(1&i&&(t.TgZ(0,"div"),t._UZ(1,"p-tag",50),t.qZA()),2&i){const e=t.oxw().$implicit,a=t.oxw(3);t.xp6(1),t.Akn(t.DdM(3,z)),t.Q6J("value",a.validarEstado(e.detalle,5))}}const B=function(){return{background:"#03c077",color:"white"}};function ie(i,r){1&i&&(t.TgZ(0,"div"),t._UZ(1,"p-tag",51),t.qZA()),2&i&&(t.xp6(1),t.Akn(t.DdM(2,B)))}const j=function(){return{background:"#680194",color:"white"}};function ae(i,r){1&i&&(t.TgZ(0,"div"),t._UZ(1,"p-tag",52),t.qZA()),2&i&&(t.xp6(1),t.Akn(t.DdM(2,j)))}const G=function(){return{background:"orange",color:"white"}};function ne(i,r){1&i&&(t.TgZ(0,"div"),t._UZ(1,"p-tag",53),t.qZA()),2&i&&(t.xp6(1),t.Akn(t.DdM(2,G)))}const $=function(){return{background:"red",color:"white"}};function re(i,r){1&i&&(t.TgZ(0,"div"),t._UZ(1,"p-tag",54),t.qZA()),2&i&&(t.xp6(1),t.Akn(t.DdM(2,$)))}const V=function(){return{background:"green",color:"white"}};function se(i,r){1&i&&(t.TgZ(0,"div"),t._UZ(1,"p-tag",55),t.qZA()),2&i&&(t.xp6(1),t.Akn(t.DdM(2,V)))}function le(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",39)(1,"div",40),t._UZ(2,"label",41),t.qZA(),t.TgZ(3,"i",42),t.NdJ("click",function(o){const s=t.CHM(e).$implicit,c=t.oxw(3);return t.KtG(c.abrirMenu(o,s))}),t.qZA(),t.TgZ(4,"p-overlayPanel",43,44)(6,"p-menu",45),t.NdJ("click",function(){const n=t.CHM(e).$implicit,s=t.oxw(3);return t.KtG(s.opcionesHabitacion(n))}),t.qZA()(),t._UZ(7,"br"),t.TgZ(8,"div",46),t._UZ(9,"img",47),t.qZA(),t.TgZ(10,"div",48),t.ynx(11),t.YNc(12,oe,2,4,"div",49),t.YNc(13,ie,2,3,"div",49),t.YNc(14,ae,2,3,"div",49),t.YNc(15,ne,2,3,"div",49),t.YNc(16,re,2,3,"div",49),t.YNc(17,se,2,3,"div",49),t.BQk(),t.qZA()()}if(2&i){const e=r.$implicit,a=t.oxw(3);t.xp6(2),t.Q6J("label",e.nombre),t.xp6(2),t.Q6J("showCloseIcon",!0),t.xp6(2),t.Q6J("model",a.menuHabitacion),t.xp6(3),t.MGl("src","assets/puertas/",e.habitacionNombre,".jpg",t.LSH),t.xp6(3),t.Q6J("ngIf",a.validarEstado(e.detalle,5)),t.xp6(1),t.Q6J("ngIf",a.validarEstado(e.detalle,3)),t.xp6(1),t.Q6J("ngIf",a.validarEstado(e.detalle,4)),t.xp6(1),t.Q6J("ngIf",a.validarEstado(e.detalle,6)),t.xp6(1),t.Q6J("ngIf",a.validarEstado(e.detalle,2)),t.xp6(1),t.Q6J("ngIf",a.validarEstado(e.detalle,7))}}function ce(i,r){if(1&i&&(t.YNc(0,ee,1,0,"i",35),t.TgZ(1,"div",36),t.YNc(2,le,18,10,"div",37),t.qZA()),2&i){const e=t.oxw().$implicit;t.Q6J("ngIf",e.loading),t.xp6(2),t.Q6J("ngForOf",e.habitaciones)}}function de(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"p-accordion"),t._UZ(1,"br"),t.TgZ(2,"p-accordionTab",33),t.NdJ("selectedChange",function(){const n=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.openTag(n.piso))}),t.YNc(3,ce,3,2,"ng-template",34),t.qZA()()}if(2&i){const e=r.$implicit,a=t.oxw();t.xp6(2),t.Q6J("header","Piso "+e.piso)("selected",e.piso==a.primerPiso)}}function pe(i,r){1&i&&(t.TgZ(0,"div",74),t._uU(1,"La fecha de inicio no puede ser mayor a la fecha final"),t.qZA())}function ue(i,r){1&i&&(t.TgZ(0,"div",74),t._uU(1,"Debe reservar por al menos una hora"),t.qZA())}function me(i,r){if(1&i&&(t.TgZ(0,"div",75)(1,"span",76),t._uU(2),t.qZA()()),2&i){const e=r.$implicit;t.xp6(2),t.Oqu(e.nombre)}}function he(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"button",77),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.crearCliente())}),t.qZA()}}function _e(i,r){1&i&&(t.TgZ(0,"div",74),t._uU(1,"Seleccione el cliente"),t.qZA())}function ge(i,r){1&i&&(t.TgZ(0,"div")(1,"h5"),t._uU(2,"Hora"),t.qZA()())}function fe(i,r){1&i&&(t.TgZ(0,"div")(1,"h5"),t._uU(2,"Noche"),t.qZA()())}function be(i,r){if(1&i&&(t.TgZ(0,"div",75)(1,"span",76),t._uU(2),t._UZ(3,"p-tag",78),t.YNc(4,ge,3,0,"div",49),t.YNc(5,fe,3,0,"div",49),t.qZA()()),2&i){const e=r.$implicit;t.xp6(2),t.hij(" ",e.nombre," "),t.xp6(1),t.s9C("icon",e.icon),t.s9C("value",e.valor),t.xp6(1),t.Q6J("ngIf",2==e.tipo),t.xp6(1),t.Q6J("ngIf",1==e.tipo)}}function ve(i,r){1&i&&(t.TgZ(0,"div",74),t._uU(1,"Seleccione la tarifa"),t.qZA())}function Te(i,r){1&i&&(t.TgZ(0,"div",74),t._uU(1,"Monto es requerido"),t.qZA())}function Ze(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",79)(1,"div",80)(2,"label",81),t._uU(3,"Monto"),t.qZA(),t._UZ(4,"br"),t.TgZ(5,"input",82),t.NdJ("input",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.checkAbonos())}),t.qZA(),t._UZ(6,"br"),t.YNc(7,Te,2,0,"div",19),t.qZA(),t.TgZ(8,"div",80)(9,"label",83),t._uU(10,"Medio Pago"),t.qZA(),t._UZ(11,"br")(12,"p-dropdown",84),t.qZA(),t.TgZ(13,"div",85),t._UZ(14,"label",86)(15,"br"),t.TgZ(16,"p-button",87),t.NdJ("click",function(){const n=t.CHM(e).index,s=t.oxw(2);return t.KtG(s.eliminarAbono(n))}),t.qZA()()()}if(2&i){const e=r.$implicit,a=t.oxw(2);t.Q6J("formGroup",e),t.xp6(7),t.Q6J("ngIf",null==e||null==e.controls.monto||null==e.controls.monto.errors?null:e.controls.monto.errors.required),t.xp6(5),t.Q6J("options",a.selectMedioPago)}}function xe(i,r){1&i&&t._UZ(0,"p-message",88)}function Ae(i,r){if(1&i&&(t.TgZ(0,"tbody")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA()()),2&i){const e=r.$implicit;t.xp6(2),t.hij(" ",e.nombre," "),t.xp6(2),t.hij(" ",e.valor," ")}}function Ce(i,r){if(1&i&&(t.TgZ(0,"tbody")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA()()),2&i){const e=r.$implicit;t.xp6(2),t.hij(" ",e.monto," "),t.xp6(2),t.hij(" ",e.medio_pago.nombre," ")}}const Ie=function(){return{width:"95vw"}};function ye(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"p-dialog",56),t.NdJ("visibleChange",function(o){t.CHM(e);const n=t.oxw();return t.KtG(n.reservacionModalVisible=o)}),t.TgZ(1,"div",13)(2,"div",57)(3,"div",58)(4,"h4",59)(5,"strong"),t._uU(6),t.qZA()()(),t.TgZ(7,"div",60)(8,"button",61),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.hideDialog())}),t.qZA()()(),t.TgZ(9,"div",14),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.enviarReservar())}),t.TgZ(10,"div",15)(11,"div",20)(12,"label"),t._uU(13,"Fecha Inicio"),t.qZA(),t._UZ(14,"p-calendar",62),t.YNc(15,pe,2,0,"div",19),t.qZA(),t.TgZ(16,"div",20)(17,"label"),t._uU(18,"Fecha Final"),t.qZA(),t._UZ(19,"p-calendar",63),t.YNc(20,ue,2,0,"div",19),t.qZA(),t.TgZ(21,"div",15)(22,"div",16)(23,"label",64),t._uU(24,"Cliente"),t.qZA(),t.TgZ(25,"p-multiSelect",65),t.NdJ("onFilter",function(o){t.CHM(e);const n=t.oxw();return t.KtG(n.busquedaCliente(o))}),t.YNc(26,me,3,1,"ng-template",18),t.YNc(27,he,1,0,"ng-template",66),t.qZA(),t.YNc(28,_e,2,0,"div",19),t.qZA(),t.TgZ(29,"div",16)(30,"label",64),t._uU(31,"Tarifa"),t.qZA(),t.TgZ(32,"p-multiSelect",67),t.NdJ("onChange",function(o){t.CHM(e);const n=t.oxw();return t.KtG(n.checkTarifaReserva(o))}),t.YNc(33,be,6,5,"ng-template",18),t.qZA(),t.YNc(34,ve,2,0,"div",19),t.qZA(),t.TgZ(35,"div",16)(36,"p-panel",68)(37,"button",69),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.agregarAbono())}),t.qZA(),t.YNc(38,Ze,17,3,"div",70),t.qZA()(),t.TgZ(39,"div",16)(40,"label"),t._uU(41,"Descripci\xf3n"),t.qZA(),t._UZ(42,"textarea",23),t.qZA(),t.YNc(43,xe,1,0,"p-message",71),t.TgZ(44,"div",16)(45,"table")(46,"tr")(47,"th",72),t._uU(48,"Nombre"),t.qZA(),t.TgZ(49,"th"),t._uU(50,"Valores"),t.qZA(),t.TgZ(51,"td"),t._uU(52,"Detalle"),t.qZA()(),t.TgZ(53,"tr")(54,"th"),t._uU(55," Tarifas"),t.qZA(),t.TgZ(56,"th"),t._uU(57),t.qZA(),t.TgZ(58,"td")(59,"table")(60,"thead")(61,"th"),t._uU(62,"Nombre"),t.qZA(),t.TgZ(63,"th"),t._uU(64,"Precio"),t.qZA()(),t.YNc(65,Ae,5,2,"tbody",10),t.qZA()()(),t.TgZ(66,"tr")(67,"th"),t._uU(68," Abonos"),t.qZA(),t.TgZ(69,"th"),t._uU(70),t.qZA(),t.TgZ(71,"td")(72,"table")(73,"thead")(74,"th"),t._uU(75,"Monto"),t.qZA(),t.TgZ(76,"th"),t._uU(77,"Metodo de pago"),t.qZA()(),t.YNc(78,Ce,5,2,"tbody",10),t.qZA()()(),t.TgZ(79,"tr")(80,"th"),t._uU(81," Sub total"),t.qZA(),t.TgZ(82,"th"),t._uU(83),t.qZA(),t._UZ(84,"td"),t.qZA(),t.TgZ(85,"tr")(86,"th"),t._uU(87," Total"),t.qZA(),t.TgZ(88,"th"),t._uU(89),t.qZA(),t._UZ(90,"td"),t.qZA()()(),t.TgZ(91,"div",16)(92,"button",73),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.enviarReservar())}),t.qZA()()()()()()()}if(2&i){const e=t.oxw();t.Akn(t.DdM(31,Ie)),t.Q6J("showHeader",!1)("visible",e.reservacionModalVisible)("modal",!0)("draggable",!1)("resizable",!1),t.xp6(6),t.hij("Reservar ",e.nombreHabitacionReservada," "),t.xp6(3),t.Q6J("formGroup",e.reservaForm),t.xp6(5),t.Q6J("minDate",e.hoy)("showIcon",!0),t.xp6(1),t.Q6J("ngIf",e.reservaForm.get("fechaFinal").value<e.reservaForm.get("fechaInicio").value&&e.reservaForm.get("fechaFinal").value),t.xp6(4),t.Q6J("minDate",e.hoy)("showIcon",!0),t.xp6(1),t.Q6J("ngIf",e.reservaForm.get("fechaFinal").value<=e.reservaForm.get("fechaInicio").value&&e.reservaForm.get("fechaFinal").value),t.xp6(5),t.Q6J("options",e.clienteData),t.xp6(3),t.Q6J("ngIf",e.reservaForm.get("cliente_id").hasError("required")),t.xp6(4),t.Q6J("options",e.tarifaData),t.xp6(2),t.Q6J("ngIf",e.reservaForm.get("tarifa_id").hasError("required")),t.xp6(2),t.MGl("header","Abonos $ ",e.abonosTotal||0,""),t.Q6J("toggleable",!0)("collapsed",e.collapsed),t.xp6(2),t.Q6J("ngForOf",e.formAbonosArray.controls),t.xp6(5),t.Q6J("ngIf",e.abonosTotal>e.totalPagarReserva),t.xp6(14),t.hij(" $ ",e.tarifasTotal," "),t.xp6(8),t.Q6J("ngForOf",e.reservaForm.get("tarifa_id").value),t.xp6(5),t.hij(" $ ",e.abonosTotal," "),t.xp6(8),t.Q6J("ngForOf",e.formAbonosArray.value),t.xp6(5),t.hij(" $ ",e.totalPagarReserva<=0?0:e.totalPagarReserva," "),t.xp6(6),t.hij(" $ ",e.totalPagarReserva-e.abonosTotal<=0?0:e.totalPagarReserva-e.abonosTotal," "),t.xp6(3),t.Q6J("disabled",e.reservaForm.invalid||e.formAbonosArray.invalid||e.abonosTotal>e.totalPagarReserva||e.reservaForm.get("fechaFinal").value<=e.reservaForm.get("fechaInicio").value)}}function Re(i,r){if(1&i&&(t.TgZ(0,"div",75)(1,"span",76),t._uU(2),t.qZA()()),2&i){const e=r.$implicit;t.xp6(2),t.Oqu(e.name)}}function De(i,r){1&i&&(t.TgZ(0,"div",74),t._uU(1,"Campo requerido"),t.qZA())}function qe(i,r){1&i&&(t.TgZ(0,"div",74),t._uU(1,"Campo requerido"),t.qZA())}function Me(i,r){1&i&&t._UZ(0,"p-message",89)}function ke(i,r){if(1&i&&(t.TgZ(0,"div",75)(1,"span",76),t._uU(2),t.qZA()()),2&i){const e=r.$implicit;t.xp6(2),t.Oqu(e.name)}}function we(i,r){1&i&&(t.TgZ(0,"div",74),t._uU(1,"Campo requerido"),t.qZA())}function Se(i,r){1&i&&(t.TgZ(0,"div",74),t._uU(1,"Campo requerido"),t.qZA())}function Oe(i,r){1&i&&t._UZ(0,"p-message",89)}function Ue(i,r){if(1&i&&(t.TgZ(0,"div",75)(1,"span",76),t._uU(2),t.qZA()()),2&i){const e=r.$implicit;t.xp6(2),t.Oqu(e.nombre)}}function Fe(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"button",77),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.crearCliente())}),t.qZA()}}function Ne(i,r){1&i&&(t.TgZ(0,"div",74),t._uU(1,"Seleccione el cliente"),t.qZA())}function Je(i,r){1&i&&(t.TgZ(0,"div")(1,"h5"),t._uU(2,"Hora"),t.qZA()())}function Pe(i,r){1&i&&(t.TgZ(0,"div")(1,"h5"),t._uU(2,"Noche"),t.qZA()())}function Qe(i,r){if(1&i&&(t.TgZ(0,"div",75)(1,"span",76),t._uU(2),t._UZ(3,"p-tag",78),t.YNc(4,Je,3,0,"div",49),t.YNc(5,Pe,3,0,"div",49),t.qZA()()),2&i){const e=r.$implicit;t.xp6(2),t.hij(" ",e.nombre," "),t.xp6(1),t.s9C("icon",e.icon),t.s9C("value",e.valor),t.xp6(1),t.Q6J("ngIf",2==e.tipo),t.xp6(1),t.Q6J("ngIf",1==e.tipo)}}function Ee(i,r){1&i&&(t.TgZ(0,"div",74),t._uU(1,"Seleccione la tarifa"),t.qZA())}function He(i,r){1&i&&(t.TgZ(0,"div",74),t._uU(1,"Monto es requerido."),t.qZA())}function Ye(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",79)(1,"div",80)(2,"label",81),t._uU(3,"Monto"),t.qZA(),t._UZ(4,"br"),t.TgZ(5,"input",82),t.NdJ("input",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.checkAbonoOcupar())}),t.qZA(),t._UZ(6,"br"),t.YNc(7,He,2,0,"div",19),t.qZA(),t.TgZ(8,"div",80)(9,"label",83),t._uU(10,"Medio Pago"),t.qZA(),t._UZ(11,"br")(12,"p-dropdown",84),t.qZA(),t.TgZ(13,"div",85),t._UZ(14,"label",86)(15,"br"),t.TgZ(16,"p-button",87),t.NdJ("click",function(){const n=t.CHM(e).index,s=t.oxw(2);return t.KtG(s.eliminarAbonoOcupar(n))}),t.qZA()()()}if(2&i){const e=r.$implicit,a=t.oxw(2);t.Q6J("formGroup",e),t.xp6(7),t.Q6J("ngIf",null==e||null==e.controls.monto||null==e.controls.monto.errors?null:e.controls.monto.errors.required),t.xp6(5),t.Q6J("options",a.selectMedioPago)}}function Le(i,r){1&i&&t._UZ(0,"p-message",88)}function ze(i,r){if(1&i&&(t.TgZ(0,"tbody")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA()()),2&i){const e=r.$implicit;t.xp6(2),t.hij(" ",e.nombre," "),t.xp6(2),t.hij(" ",e.valor," ")}}function Be(i,r){if(1&i&&(t.TgZ(0,"tbody")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA()()),2&i){const e=r.$implicit;t.xp6(2),t.hij(" ",e.monto," "),t.xp6(2),t.hij(" ",e.medio_pago.nombre," ")}}const je=function(){return{width:"70vw"}};function Ge(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"p-dialog",90),t.NdJ("visibleChange",function(o){t.CHM(e);const n=t.oxw();return t.KtG(n.ocuparModalVisible=o)}),t.TgZ(1,"div",13)(2,"div",14),t.NdJ("ngSubmit",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.enviarOcupar())}),t.TgZ(3,"h2",46),t._uU(4),t.qZA(),t.TgZ(5,"div",15)(6,"div",16)(7,"label",64),t._uU(8,"Cliente"),t.qZA(),t.TgZ(9,"p-multiSelect",91),t.NdJ("onFilter",function(o){t.CHM(e);const n=t.oxw();return t.KtG(n.busquedaCliente(o))}),t.YNc(10,Ue,3,1,"ng-template",18),t.YNc(11,Fe,1,0,"ng-template",66),t.qZA(),t.YNc(12,Ne,2,0,"div",19),t.qZA(),t.TgZ(13,"div",16)(14,"label",64),t._uU(15,"Tarifa"),t.qZA(),t.TgZ(16,"p-multiSelect",67),t.NdJ("onChange",function(o){t.CHM(e);const n=t.oxw();return t.KtG(n.checkTarifaOcupar(o))}),t.YNc(17,Qe,6,5,"ng-template",18),t.qZA(),t.YNc(18,Ee,2,0,"div",19),t.qZA(),t.TgZ(19,"div",16)(20,"p-panel",68)(21,"button",69),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.agregarAbonoOcupar())}),t.qZA(),t.YNc(22,Ye,17,3,"div",70),t.qZA()(),t.TgZ(23,"div",16)(24,"label"),t._uU(25,"Descripci\xf3n"),t.qZA(),t._UZ(26,"textarea",23),t.qZA(),t.YNc(27,Le,1,0,"p-message",71),t.TgZ(28,"div",16)(29,"table")(30,"tr")(31,"th",72),t._uU(32,"Nombre"),t.qZA(),t.TgZ(33,"th"),t._uU(34,"Valores"),t.qZA(),t.TgZ(35,"td"),t._uU(36,"Detalle"),t.qZA()(),t.TgZ(37,"tr")(38,"th"),t._uU(39," Tarifas"),t.qZA(),t.TgZ(40,"th"),t._uU(41),t.qZA(),t.TgZ(42,"td")(43,"table")(44,"thead")(45,"th"),t._uU(46,"Nombre"),t.qZA(),t.TgZ(47,"th"),t._uU(48,"Precio"),t.qZA()(),t.YNc(49,ze,5,2,"tbody",10),t.qZA()()(),t.TgZ(50,"tr")(51,"th"),t._uU(52," Abonos"),t.qZA(),t.TgZ(53,"th"),t._uU(54),t.qZA(),t.TgZ(55,"td")(56,"table")(57,"thead")(58,"th"),t._uU(59,"Monto"),t.qZA(),t.TgZ(60,"th"),t._uU(61,"Metodo de pago"),t.qZA()(),t.YNc(62,Be,5,2,"tbody",10),t.qZA()()(),t.TgZ(63,"tr")(64,"th"),t._uU(65," Sub total"),t.qZA(),t.TgZ(66,"th"),t._uU(67),t.qZA(),t._UZ(68,"td"),t.qZA(),t.TgZ(69,"tr")(70,"th"),t._uU(71," Total"),t.qZA(),t.TgZ(72,"th"),t._uU(73),t.qZA(),t._UZ(74,"td"),t.qZA()()(),t.TgZ(75,"div",16)(76,"button",92),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.enviarOcupar())}),t.qZA()()()()()()}if(2&i){const e=t.oxw();t.Akn(t.DdM(24,je)),t.Q6J("visible",e.ocuparModalVisible)("modal",!0)("draggable",!1)("resizable",!1),t.xp6(2),t.Q6J("formGroup",e.ocuparForm),t.xp6(2),t.hij("",e.nombreHabitacionReservada," "),t.xp6(5),t.Q6J("options",e.clienteData),t.xp6(3),t.Q6J("ngIf",e.ocuparForm.get("cliente_id").hasError("required")),t.xp6(4),t.Q6J("options",e.tarifaData),t.xp6(2),t.Q6J("ngIf",e.ocuparForm.get("tarifa_id").hasError("required")),t.xp6(2),t.MGl("header","Abonos $ ",e.abonosTotalOcupar||0,""),t.Q6J("toggleable",!0)("collapsed",e.collapsed),t.xp6(2),t.Q6J("ngForOf",e.formAbonoOcuparArray.controls),t.xp6(5),t.Q6J("ngIf",e.abonosTotalOcupar>e.totalPagarOcupar),t.xp6(14),t.hij(" $ ",e.tarifasTotalOcupar," "),t.xp6(8),t.Q6J("ngForOf",e.ocuparForm.get("tarifa_id").value),t.xp6(5),t.hij(" $ ",e.abonosTotalOcupar," "),t.xp6(8),t.Q6J("ngForOf",e.formAbonoOcuparArray.value),t.xp6(5),t.hij(" $ ",e.totalPagarOcupar<=0?0:e.totalPagarOcupar," "),t.xp6(6),t.hij(" $ ",e.totalPagarOcupar-e.abonosTotalOcupar<=0?0:e.totalPagarOcupar-e.abonosTotalOcupar," "),t.xp6(3),t.Q6J("disabled",e.ocuparForm.invalid||e.formAbonoOcuparArray.invalid||e.abonosTotalOcupar>e.totalPagarOcupar)}}function $e(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"app-clientes",93,94),t.NdJ("clienteCreado",function(o){t.CHM(e);const n=t.oxw();return t.KtG(n.handleClienteCreado(o))}),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("vieneDeHabitaciones",e.creandoCliente)}}const Ve=function(){return{background:"#b3009e",color:"white"}},K=function(){return{width:"95vw",height:"195vw"}};let Ke=(()=>{class i{ngOnInit(){this.creandoCliente=!1,this.buildForm(),this.pisoId=1,this.primerPiso=this.pisoId;let e=JSON.parse(localStorage.getItem("currentUser"));this.hotelId=e.usuario.datalle_hoteles[0].hotel_id,this.getRoomsDashboardPisos(),this.clienteData=[],this.ProductoServicioData=[],this.empleadosData=[],this.tarifaData=[],this.hoy=new Date}constructor(e,a,o,n,s,c){this.dashboardRoomsService=e,this.FB=a,this.spinner=o,this.datePipe=n,this.router=s,this.layoutService=c,this.dayNamesSpanish=["Domingo","Lunes","Martes","Mi\xe9rcoles","Jueves","Viernes","S\xe1bado"],this.dayNamesShortSpanish=["Dom","Lun","Mar","Mi\xe9","Jue","Vie","S\xe1b"],this.monthNamesSpanish=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],this.monthNamesShortSpanish=["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],this.localeSettingsSpanish={firstDayOfWeek:1,dayNames:this.dayNamesSpanish,dayNamesShort:this.dayNamesShortSpanish,monthNames:this.monthNamesSpanish,monthNamesShort:this.monthNamesShortSpanish,today:"Hoy",clear:"Borrar",dateFormat:"dd/mm/yy",weekHeader:"Sm"},this.selectedMulti=[],this.primerPiso=1,this.pisoSeleccionado=1,this.dataRoom=[],this.ProductoServicioDataSeleccionados=[],this.visibleModalLimpieza=!1,this.visibleModalMantenimiento=!1,this.selectMedioPago=[],this.reservacionModalVisible=!1,this.ocuparModalVisible=!1,this.tarifaData=[],this.tarifasTotal=0,this.abonosTotal=0,this.totalPagarReserva=0,this.tarifasTotalOcupar=0,this.abonosTotalOcupar=0,this.totalPagarOcupar=0,this.disableButtonMantenimiento=!1,this.disableButtonLimpieza=!1,this.creandoCliente=!1,this.collapsed=!0,this.selectedFilter=null}buildForm(){this.spinner.hide(),this.formLimpieza=this.FB.group({descripcion:["",[]],empleado:["",[l.kI.required]],fechaInicio:["",[l.kI.required]],fechaFinal:["",[l.kI.required]]}),this.formMantenimiento=this.FB.group({descripcion:["",[]],empleado:["",[l.kI.required]],fechaInicio:["",[l.kI.required]],fechaFinal:["",[l.kI.required]]}),this.reservaForm=this.FB.group({cliente_id:["",[l.kI.required]],tarifa_id:["",[l.kI.required]],producto_id:["",[]],abonos:this.formAbonosArray,descripcion:["",[]],fechaInicio:["",[l.kI.required]],fechaFinal:["",[l.kI.required]]}),this.ocuparForm=this.FB.group({cliente_id:["",[l.kI.required]],tarifa_id:["",[l.kI.required]],producto_id:["",[]],abonos:this.formAbonoOcuparArray,descripcion:["",[]]}),this.formAbonosArray=this.FB.array([]),this.formAbonoOcuparArray=this.FB.array([])}getRoomsDashboard(e=0){this.dashboardRoomsService.getDashboardRooms({hotel_id:this.hotelId,piso_id:this.pisoId,estado_id:e}).subscribe(o=>{this.dataRoom.forEach(s=>{this.pisoId==s.piso&&(s.habitaciones=[])});let n=this.dataRoom.find(s=>s.piso==this.pisoId);n.loading=!1,o.forEach(s=>{n.habitaciones.push({nombre:s.nombre,json:s.diseno_json,id:s.id,detalle:s.habitacion_estado,tipoHabitacion:s.tipo_habitacion,habitacionNombre:JSON.parse(s.tipo_habitacion.diseno_json).puerta,piso:s.piso,habitacionEstado:s.habitacion_estado})}),this.dataRoom.forEach(s=>{this.pisoId==s.piso&&(s=n)})},o=>{console.log("Error: ",o)})}getRoomsDashboardPisos(e=0){this.dashboardRoomsService.getPisos({hotel_id:this.hotelId,piso_id:this.pisoId,estado_id:e}).subscribe(o=>{this.dataRoomsPisos=[],this.dataRoomsPisos=o.pisos,this.dataRoomsPisos.forEach(n=>{this.dataRoom.push({piso:n.piso,habitaciones:[],loading:!0})}),this.getRoomsDashboard(e)},o=>{console.log("Error: ",o)})}openTag(e){this.pisoId=e,this.getRoomsDashboard()}opcionSeleccionada(e,a){this.estadoHabitacion=e.item.id,this.formAbonosArray=this.FB.array([]),this.formAbonoOcuparArray=this.FB.array([]),setTimeout(()=>{this.accionMenuHabitaciones()},500)}accionMenuHabitaciones(){let e={};if(5==this.estadoHabitacion){const a=(new Date).setDate((new Date).getDate()+1);this.reservaForm.reset(),this.formAbonosArray.clear(),this.abonosTotal=0,this.tarifasTotal=0,this.totalPagarReserva=0,this.collapsed=!0,this.getReserva(),this.reservaForm.get("fechaInicio").setValue(new Date),this.reservaForm.get("fechaFinal").setValue(new Date(a)),this.reservacionModalVisible=!0}else 2==this.estadoHabitacion?(this.ocuparForm.reset(),this.formAbonoOcuparArray.clear(),this.abonosTotalOcupar=0,this.tarifasTotalOcupar=0,this.totalPagarOcupar=0,this.collapsed=!0,this.getReserva(),this.ocuparModalVisible=!0):4==this.estadoHabitacion?this.getDataEmpleado({hotel_id:this.habitacionId,estado:4}):6==this.estadoHabitacion?this.getDataEmpleado({hotel_id:this.habitacionId,estado:6}):20==this.estadoHabitacion?(e={id_habitacion:this.habitacionId},u().fire({title:"\xbfEstas seguro que deseas Salir (Check Out)?",text:"",icon:"warning",showCancelButton:!0,confirmButtonText:"S\xed, Confirmar",cancelButtonText:"Cancelar"}).then(a=>{a.isConfirmed&&this.enviarDesocupar(e)})):50==this.estadoHabitacion?(e={id_habitacion:this.habitacionId},u().fire({title:"\xbfEstas seguro que deseas Anular la reserva?",text:"",icon:"warning",showCancelButton:!0,confirmButtonText:"S\xed, Confirmar",cancelButtonText:"Cancelar"}).then(a=>{a.isConfirmed&&this.enviarAnularReserva(e)})):40==this.estadoHabitacion?(e={id_habitacion:this.habitacionId},u().fire({title:"\xbfEstas seguro que deseas Anular La Limpieza?",text:"",icon:"warning",showCancelButton:!0,confirmButtonText:"S\xed, Confirmar",cancelButtonText:"Cancelar"}).then(a=>{a.isConfirmed&&this.enviarAnularLimpieza(e)})):60==this.estadoHabitacion?(e={id_habitacion:this.habitacionId},u().fire({title:"\xbfEstas seguro que deseas Anular el mantenimiento?",text:"",icon:"warning",showCancelButton:!0,confirmButtonText:"S\xed, Confirmar",cancelButtonText:"Cancelar"}).then(a=>{a.isConfirmed&&this.enviarAnularMantenimiento(e)})):8==this.estadoHabitacion&&this.router.navigate(["dashboard/dashboardRooms/"+this.habitacionId+"/ocupar"])}abrirMenu(e,a){this.op1.toggle(e);let o=[];this.habitacionId=a.id,this.nombreHabitacionReservada=a.nombre,this.tipoHabitacionId=a.tipoHabitacion.id,this.pisoSeleccionado=a.piso,this.estadoHabitacionActual=a.habitacionEstado,this.detalleHabitacion=a.detalle,this.estadoHabitacionActual.forEach(c=>{o.push(c.estado_id)});let n=[];if(o.includes(5)||n.push({label:"Reservar",icon:"pi pi-calendar-times",id:"5",command:c=>this.opcionSeleccionada(c,a),visible:!0,disabled:!1}),o.includes(4)||n.push({label:"Limpieza",icon:"pi pi-exclamation-triangle",id:"4",command:c=>this.opcionSeleccionada(c,a),visible:!0,disabled:!!o.includes(2)}),(o.includes(2)||o.includes(7))&&n.push({label:"Ver Ingreso",icon:"pi pi-book",id:"8",command:c=>this.opcionSeleccionada(c,a),visible:!0,disabled:!o.includes(7)&&!o.includes(2)}),!o.includes(2)){let c=!1;a.detalle&&a.detalle.forEach(d=>{if(5==d.estado_id){let _=new Date(d.fecha_inicio),ai=_.getFullYear()+"/"+_.getMonth()+"/"+_.getDate();(new Date).getFullYear()+"/"+(new Date).getMonth()+"/"+(new Date).getDate()==ai&&(c=!0)}}),n.push({label:"Ingresar (Check-in)",icon:"pi pi-lock",id:"2",command:d=>this.opcionSeleccionada(d,a),visible:!0,disabled:!!o.includes(7)||o.includes(4)||o.includes(6)})}o.includes(6)||n.push({label:"Mantenimiento",icon:"pi pi-wrench",id:"6",command:c=>this.opcionSeleccionada(c,a),visible:!0,disabled:!!o.includes(2)});let s=!1;o.forEach(c=>{switch(c){case 5:s||(n.push({label:"Reservar",icon:"pi pi-calendar-times",id:"5",command:d=>this.opcionSeleccionada(d,a),visible:!0,disabled:!1}),s=!0);break;case 4:n.push({label:"Anular Limpieza",icon:"pi pi-exclamation-triangle",id:"40",command:d=>this.opcionSeleccionada(d,a),visible:!0,disabled:!!o.includes(2)});break;case 6:n.push({label:"Anular Mantenimiento",icon:"pi pi-wrench",id:"60",command:d=>this.opcionSeleccionada(d,a),visible:!0,disabled:!!o.includes(2)});break;case 2:n.push({label:"Salir (Check Out)",icon:"pi pi-lock-open",id:"20",command:d=>this.opcionSeleccionada(d,a),visible:!0})}}),this.menuHabitacion=[{label:"Opciones",items:n}]}enviarDesocupar(e){this.dashboardRoomsService.desocupar(e).subscribe(a=>{let o=a;"success"==o.code?(u().fire({title:"Exito",text:"Anulacion Exitosa.",icon:"success"}),this.openTag(this.pisoSeleccionado)):"warning"==o.code?u().fire({title:"Advertencia",text:o.error,icon:"warning"}):u().fire({title:"Error",text:"Error al anular.",icon:"error"})},a=>{console.log("Error: ",a)})}enviarAnularReserva(e){this.dashboardRoomsService.anularReserva(e).subscribe(a=>{let o=a;"success"==o.code?(u().fire({title:"Exito",text:"Anulacion Exitosa.",icon:"success"}),this.layoutService.reloadComponent(),this.openTag(this.pisoSeleccionado)):"warning"==o.code?u().fire({title:"Advertencia",text:o.error,icon:"warning"}):u().fire({title:"Error",text:"Error al anular.",icon:"error"})},a=>{console.log("Error: ",a)})}enviarAnularLimpieza(e){this.dashboardRoomsService.anularLimpieza(e).subscribe(a=>{let o=a;"success"==o.code?(u().fire({title:"Exito",text:"Anulacion Exitosa.",icon:"success"}),this.openTag(this.pisoSeleccionado)):"warning"==o.code?u().fire({title:"Advertencia",text:o.error,icon:"warning"}):u().fire({title:"Error",text:"Error al anular.",icon:"error"})},a=>{console.log("Error: ",a)})}enviarAnularMantenimiento(e){this.spinner.show(),this.dashboardRoomsService.anularMantenimiento(e).subscribe(a=>{this.spinner.hide();let o=a;"success"==o.code?(u().fire({title:"Exito",text:"Anulacion Exitosa.",icon:"success"}),this.openTag(this.pisoSeleccionado)):"warning"==o.code?u().fire({title:"Advertencia",text:o.error,icon:"warning"}):u().fire({title:"Error",text:"Error al anular.",icon:"error"})},a=>{console.log("Error: ",a)})}enviarMantenimiento(e){this.spinner.show(),this.dashboardRoomsService.mantenimiento(e).subscribe(a=>{this.spinner.hide(),this.visibleModalMantenimiento=!1;let o=a;"success"==o.code?(u().fire({title:"Exito",text:"Registro exitoso.",icon:"success"}),this.openTag(this.pisoSeleccionado)):"warning"==o.code?u().fire({title:"Advertencia",text:o.error,icon:"warning"}):u().fire({title:"Error",text:"Error al registrar.",icon:"error"})},a=>{console.log("Error: ",a)})}enviarOcuparReserva(e){this.spinner.show(),this.dashboardRoomsService.ocuparReserva(e).subscribe(a=>{this.spinner.hide();let o=a;this.ocuparModalVisible=!1,"success"==o.code?(u().fire({title:"Exito",text:"Ingreso exitoso.",icon:"success"}),this.openTag(this.pisoSeleccionado)):"warning"==o.code?u().fire({title:"Advertencia",text:o.error,icon:"warning"}):u().fire({title:"Error",text:"Error al generar el ingreso.",icon:"error"})},a=>{console.log("Error: ",a)})}enviarLimpieza(e){this.spinner.show(),this.dashboardRoomsService.limpieza(e).subscribe(a=>{this.spinner.hide();let o=a;this.visibleModalLimpieza=!1,"success"==o.code?(u().fire({title:"Exito",text:"Registro exitoso.",icon:"success"}),this.openTag(this.pisoSeleccionado)):"warning"==o.code?u().fire({title:"Advertencia",text:o.error,icon:"warning"}):u().fire({title:"Error",text:"Error al registrar.",icon:"error"})},a=>{console.log("Error: ",a)})}getDataEmpleado(e){this.spinner.show(),this.dashboardRoomsService.getEmpleadoHabitacion(e).subscribe(a=>{this.spinner.hide(),this.empleadosData=[],a.empleados.forEach(o=>{this.empleadosData.push({name:o.nombres+" "+o.apellidos,code:o.id})}),4==e.estado?(this.formLimpieza.reset(),this.visibleModalLimpieza=!0):6==e.estado&&(this.formMantenimiento.reset(),this.visibleModalMantenimiento=!0)},a=>{this.spinner.hide(),console.log("Error: ",a)})}submitAsignarMantenimiento(){if(this.formMantenimiento.valid){let e={empleado_id:this.formMantenimiento.value.empleado[0].code,descripcion:this.formMantenimiento.value.descripcion,fecha_final:this.datePipe.transform(this.formMantenimiento.value.fechaFinal,"yyyy-MM-dd HH:mm:ss"),fecha_inicio:this.datePipe.transform(this.formMantenimiento.value.fechaInicio,"yyyy-MM-dd HH:mm:ss"),habitacion_id:this.habitacionId};this.enviarMantenimiento(e)}}changeFechaMantenimiento(){let e=this.formMantenimiento.get("fechaInicio").value,a=this.formMantenimiento.get("fechaFinal").value;this.disableButtonMantenimiento=e>a}changeFechaLimpieza(e){let a=this.formLimpieza.get("fechaInicio").value,o=this.formLimpieza.get("fechaFinal").value;this.disableButtonLimpieza=a>o}validarEstado(e,a){return e.filter(n=>n.estado_id==a).length}orderar(e){this.selectedFilter=e,this.dataRoom=[],this.getRoomsDashboardPisos(e)}busquedaCliente(e){this.getReserva(e.filter)}submitAsignarLimpieza(){if(this.formLimpieza.valid){let e={empleado_id:this.formLimpieza.value.empleado[0].code,descripcion:this.formLimpieza.value.descripcion,fecha_final:this.datePipe.transform(this.formLimpieza.value.fechaFinal,"yyyy-MM-dd HH:mm:ss"),fecha_inicio:this.datePipe.transform(this.formLimpieza.value.fechaInicio,"yyyy-MM-dd HH:mm:ss"),habitacion_id:this.habitacionId};this.enviarLimpieza(e)}}opcionesHabitacion(e){}getReserva(e=""){this.spinner.show(),this.dashboardRoomsService.getReserva({hotel_id:this.hotelId,cliente_busqueda:e,tipo_habitacion:this.tipoHabitacionId}).subscribe(o=>{this.spinner.hide();let n=o.cliente,s=o.metodos_pago,c=o.tarifa;this.clienteData=[],this.selectMedioPago=[],this.tarifaData=[],n.forEach(d=>{this.clienteData.push({nombre:d.numero_documento+" "+d.nombres+" "+(d.apellidos?d.apellidos:""),code:d.numero_documento,id:d.id})}),s.forEach(d=>{this.selectMedioPago.push({nombre:d.nombre,id:d.id})}),c.forEach(d=>{d.tipo_habitacion_id==this.tipoHabitacionId&&this.tarifaData.push({nombre:d.nombre,id:d.id,tipo:d.tipo,valor:d.valor,tipo_habitacion_id:d.tipo_habitacion_id,icon:1!=d.tipo?"pi pi-hourglass":"pi pi-moon"})})},o=>{this.spinner.hide(),console.log("Error: ",o)})}checkTarifaReserva(e){this.tarifasTotal=0,this.reservaForm.get("tarifa_id").value.forEach(a=>{this.tarifasTotal=this.tarifasTotal+parseInt(a.valor)}),this.totalPagarReserva=0,this.totalPagarReserva=this.tarifasTotal}checkAbonos(){this.abonosTotal=0,this.formAbonosArray.value.forEach(e=>{this.abonosTotal=this.abonosTotal+parseFloat(e.monto)})}agregarAbono(){let e=this.FB.group({monto:["",[l.kI.required,l.kI.min(0)]],medio_pago:[this.selectMedioPago[0],[l.kI.required,l.kI.min(0)]]});this.formAbonosArray.push(e)}eliminarAbono(e){this.formAbonosArray.removeAt(e),this.checkAbonos()}enviarReservar(){this.spinner.show();let e={hotel_id:this.hotelId,habitacion_id:this.habitacionId,cliente_id:this.reservaForm.get("cliente_id").value[0].id,tarifas:this.reservaForm.get("tarifa_id").value,abonos:this.formAbonosArray.value,descripcion:this.reservaForm.get("descripcion").value,fecha_inicio:this.datePipe.transform(this.reservaForm.get("fechaInicio").value,"yyyy-MM-dd HH:mm:ss"),fecha_final:this.datePipe.transform(this.reservaForm.get("fechaFinal").value,"yyyy-MM-dd HH:mm:ss"),subtotal:this.totalPagarReserva-this.abonosTotal,total:this.totalPagarReserva,productos:[]};this.dashboardRoomsService.reservar(e).subscribe(a=>{this.spinner.hide();let o=a;this.reservacionModalVisible=!1,"success"==o.code?(this.layoutService.reloadComponent(),u().fire({title:"Exito",text:"Reservacion exitosa.",icon:"success"}),this.openTag(this.pisoSeleccionado)):"warning"==o.code?u().fire({title:"Advertencia",text:o.error,icon:"warning"}):u().fire({title:"Error",text:"Error al generar la reserva.",icon:"error"})},a=>{console.log("Error: ",a)})}checkTarifaOcupar(e){this.tarifasTotalOcupar=0,this.ocuparForm.get("tarifa_id").value.forEach(a=>{this.tarifasTotalOcupar=this.tarifasTotalOcupar+parseInt(a.valor)}),this.totalPagarOcupar=this.tarifasTotalOcupar}checkAbonoOcupar(){this.abonosTotalOcupar=0,this.formAbonoOcuparArray.value.forEach(e=>{this.abonosTotalOcupar=this.abonosTotalOcupar+parseFloat(e.monto)})}agregarAbonoOcupar(){let e=this.FB.group({monto:["",[l.kI.required,l.kI.min(0)]],medio_pago:[this.selectMedioPago[0],[l.kI.required,l.kI.min(0)]]});this.formAbonoOcuparArray.push(e)}eliminarAbonoOcupar(e){this.formAbonoOcuparArray.removeAt(e),this.checkAbonoOcupar()}enviarOcupar(){this.spinner.show();let e={cliente_id:this.ocuparForm.get("cliente_id").value[0].id,total:this.totalPagarOcupar,subtotal:this.totalPagarOcupar-this.abonosTotalOcupar,tarifas:this.ocuparForm.get("tarifa_id").value,productos:[],descripcion:this.ocuparForm.get("descripcion").value,habitacion_id:this.habitacionId,hotel_id:this.hotelId,abonos:this.formAbonoOcuparArray.value};this.dashboardRoomsService.ocupar(e).subscribe(a=>{this.spinner.hide();let o=a;this.ocuparModalVisible=!1,"success"==o.code?(u().fire({title:"Exito",text:"Ingreso exitosa.",icon:"success"}),this.layoutService.reloadComponent(),this.openTag(this.pisoSeleccionado)):"warning"==o.code?u().fire({title:"Advertencia",text:o.error,icon:"warning"}):u().fire({title:"Error",text:"Error al generar el ingreso.",icon:"error"})},a=>{console.log("Error: ",a)})}crearCliente(){this.creandoCliente=!0}handleClienteCreado(e){this.creandoCliente=!1,e&&this.getReserva(),this.collapsed=!(this.formAbonosArray.length>0||this.formAbonoOcuparArray.length>0)}hideDialog(){this.reservacionModalVisible=!1}static#t=this.\u0275fac=function(a){return new(a||i)(t.Y36(R.y),t.Y36(l.qu),t.Y36(Z.t2),t.Y36(m.uU),t.Y36(b.F0),t.Y36(F.P))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-dashboard-rooms"]],viewQuery:function(a,o){if(1&a&&t.Gf(jt,5),2&a){let n;t.iGM(n=t.CRH())&&(o.op1=n.first)}},decls:73,vars:62,consts:[["type","ball-scale-multiple","fullScreen","true"],[1,"card"],["icon","pi pi-calendar-times","value","Reservada",1,"btn","reservada","padding","habilitarCursor",3,"click"],["class","pi pi-check",4,"ngIf"],["icon","pi pi-lock-open","value","Disponible",1,"btn","disponible","padding","habilitarCursor",3,"click"],["icon","pi pi-exclamation-triangle","value","Limpieza",1,"btn","limpieza","padding","habilitarCursor",3,"click"],["icon","pi pi-wrench","value","Mantenimiento",1,"btn","mantenimiento","padding","habilitarCursor",3,"click"],["icon","pi pi-lock","value","Ocupada",1,"btn","ocupada","padding","habilitarCursor",3,"click"],["icon","pi pi-dollar","value","Facturar",1,"btn","facturar","padding","habilitarCursor",3,"click"],["value","Ninguna",1,"btn","ninguna","padding","habilitarCursor",3,"click"],[4,"ngFor","ngForOf"],["header","Reservar",3,"showHeader","visible","modal","style","draggable","resizable","visibleChange",4,"ngIf"],["header","Asignar Limpieza","dateFormat","dd/mm/yy",3,"visible","modal","draggable","resizable","visibleChange"],[1,"col-12"],[3,"formGroup","ngSubmit"],[1,"p-fluid","p-formgrid","grid"],[1,"field","col-12","md:col-12"],["formControlName","empleado","selectionLimit","1","optionLabel","name","placeholder","Buscar Empleados","optionLabel","name","display","chip","emptyMessage","Empleado no encontrado",1,"multiselect-custom",3,"options"],["pTemplate","item"],["style","color: red;",4,"ngIf"],[1,"field","col-12","md:col-6"],["locale","localeSettingsSpanish","inputId","fechaInicioLimpieza","formControlName","fechaInicio","showTime","true",1,"ng-dirty",3,"showIcon","onSelect"],["locale","localeSettingsSpanish","inputId","fechaFinalLimpieza","formControlName","fechaFinal","showTime","true",1,"ng-dirty",3,"showIcon","onSelect"],["formControlName","descripcion","pInputTextarea","","rows","3","cols","20"],["severity","error","class","padding","text","La fecha final es mayor a la fecha inicial",4,"ngIf"],["pButton","","pRipple","","label","Asignar limpieza","type","submit",1,"w-full","bg-admin","boder-admin","mb-5","border-round-3xl",3,"disabled"],["header","Asignar Mantenimiento",3,"visible","modal","draggable","resizable","visibleChange"],["locale","localeSettingsSpanish","inputId","fechaInicioMantenimiento","formControlName","fechaInicio","showTime","true",1,"ng-dirty",3,"showIcon","onSelect"],["locale","localeSettingsSpanish","inputId","fechaFinalMantenimiento","formControlName","fechaFinal","showTime","true",1,"ng-dirty",3,"showIcon","onSelect"],["pButton","","pRipple","","label","Asignar Mantenimiento","type","submit",1,"w-full","bg-admin","boder-admin","mb-5","border-round-3xl",3,"disabled"],["header","Ingresar ",3,"visible","modal","style","draggable","resizable","visibleChange",4,"ngIf"],[3,"vieneDeHabitaciones","clienteCreado",4,"ngIf"],[1,"pi","pi-check"],[1,"line-height-3","m-0",3,"header","selected","selectedChange"],["pTemplate","listItem"],["class","pi pi-spin pi-spinner","style","font-size: 4em;",4,"ngIf"],[1,"grid","p-fluid","mt-3"],["class","field col-12 md:col-3",4,"ngFor","ngForOf"],[1,"pi","pi-spin","pi-spinner",2,"font-size","4em"],[1,"field","col-12","md:col-3"],[1,"nomeRoome"],["pButton","",3,"label"],[1,"pi","pi-ellipsis-v",2,"font-size","2rem","margin-top","4%","cursor","pointer",3,"click"],[3,"showCloseIcon"],["op1",""],[3,"model","click"],[2,"text-align","center"],["width","80%","height","80%",1,"rooms",3,"src"],[1,"flex","flex-wrap","gap-2",2,"margin-left","20%"],[4,"ngIf"],["icon","pi pi-calendar-times",3,"value"],["icon","pi pi-lock-open"],["icon","pi pi-exclamation-triangle"],["icon","pi pi-wrench"],["icon","pi pi-lock"],["icon","pi pi-dollar"],["header","Reservar",3,"showHeader","visible","modal","draggable","resizable","visibleChange"],[1,"container"],[1,"div1"],[2,"width","100%"],[1,"div2"],["icon","pi pi-times","pButton","","pRipple","","type","button",1,"p-button-rounded","p-button-text","p-button-plain",2,"text-align","left",3,"click"],["formControlName","fechaInicio","locale","localeSettingsSpanish","inputId","fechaInicio","showTime","true","dateFormat","dd/mm/yy",1,"ng-dirty",3,"minDate","showIcon"],["formControlName","fechaFinal","locale","localeSettingsSpanish","inputId","fechaFinal","showTime","true","dateFormat","dd/mm/yy",1,"ng-dirty",3,"minDate","showIcon"],["for","cliente"],["formControlName","cliente_id","selectionLimit","1","placeholder","Buscar cliente","optionLabel","nombre","display","chip","emptyMessage","Cliente no encontrado",1,"multiselect-custom",3,"options","onFilter"],["pTemplate","footer"],["formControlName","tarifa_id","optionLabel","nombre","placeholder","Buscar Tarifa","optionLabel","nombre","emptyMessage","Tarifa no encontrada","display","chip",1,"multiselect-custom",3,"options","onChange"],[3,"header","toggleable","collapsed"],["pButton","","pRipple","","type","button","icon","pi pi-plus",1,"p-button-rounded",3,"click"],["style","margin-top: 5%;","class","grid formgrid",3,"formGroup",4,"ngFor","ngForOf"],["severity","error","class","padding","text","El abono es mayor a la cantidad agregada",4,"ngIf"],[2,"width","20%"],["pButton","","pRipple","","label","Crear Reserva","showTime","true","icon","pi pi-calendar-times","type","submit",1,"w-full","bg-admin","boder-admin","mb-5","border-round-3xl",3,"disabled","click"],[2,"color","red"],[1,"flex","align-items-center"],[1,"ml-2"],["pButton","","pRipple","","label","Crear nuevo cliente","type","button","icon","pi pi-plus",1,"w-full","bg-blue","boder-blue","mb-5","border-round-3xl",3,"click"],[1,"padding",3,"icon","value"],[1,"grid","formgrid",2,"margin-top","5%",3,"formGroup"],[1,"col-12","mb-2","lg:col-5","lg:mb-0"],["for","monto"],["type","number","min","1","id","monto","formControlName","monto","pInputText","","placeholder","Valor",3,"input"],["htmlFor","medioPago"],["formControlName","medio_pago","id","medioPago","optionLabel","nombre","placeholder","Seleccione una opci\xf3n",3,"options"],[1,"col-12","mb-2","lg:col-2","lg:mb-0"],["htmlFor","opciones"],["id","opciones","icon","pi pi-trash","severity","danger",3,"click"],["severity","error","text","El abono es mayor a la cantidad agregada",1,"padding"],["severity","error","text","La fecha final es mayor a la fecha inicial",1,"padding"],["header","Ingresar ",3,"visible","modal","draggable","resizable","visibleChange"],["formControlName","cliente_id","selectionLimit","1","optionLabel","nombre","placeholder","Buscar cliente","display","chip","emptyMessage","Cliente no encontrado",1,"multiselect-custom",3,"options","onFilter"],["pButton","","pRipple","","label","Crear Ingreso","icon","pi pi-calendar-times","type","submit",1,"w-full","bg-admin","boder-admin","mb-5","border-round-3xl",3,"disabled","click"],[3,"vieneDeHabitaciones","clienteCreado"],["clientes",""]],template:function(a,o){1&a&&(t._UZ(0,"ngx-spinner",0),t.TgZ(1,"div",1)(2,"div")(3,"p-tag",2),t.NdJ("click",function(){return o.orderar(5)}),t.YNc(4,Gt,1,0,"i",3),t.qZA(),t.TgZ(5,"p-tag",4),t.NdJ("click",function(){return o.orderar(3)}),t.YNc(6,$t,1,0,"i",3),t.qZA(),t.TgZ(7,"p-tag",5),t.NdJ("click",function(){return o.orderar(4)}),t.YNc(8,Vt,1,0,"i",3),t.qZA(),t.TgZ(9,"p-tag",6),t.NdJ("click",function(){return o.orderar(6)}),t.YNc(10,Kt,1,0,"i",3),t.qZA(),t.TgZ(11,"p-tag",7),t.NdJ("click",function(){return o.orderar(2)}),t.YNc(12,Wt,1,0,"i",3),t.qZA(),t.TgZ(13,"p-tag",8),t.NdJ("click",function(){return o.orderar(7)}),t.YNc(14,Xt,1,0,"i",3),t.qZA(),t.TgZ(15,"p-tag",9),t.NdJ("click",function(){return o.orderar(0)}),t.YNc(16,te,1,0,"i",3),t.qZA()(),t.TgZ(17,"h5"),t._uU(18,"Habitaciones"),t.qZA(),t.YNc(19,de,4,2,"p-accordion",10),t.qZA(),t.YNc(20,ye,93,32,"p-dialog",11),t.TgZ(21,"p-dialog",12),t.NdJ("visibleChange",function(s){return o.visibleModalLimpieza=s}),t.TgZ(22,"div",13)(23,"form",14),t.NdJ("ngSubmit",function(){return o.submitAsignarLimpieza()}),t.TgZ(24,"div",15)(25,"div",16)(26,"p-multiSelect",17),t.YNc(27,Re,3,1,"ng-template",18),t.qZA(),t.YNc(28,De,2,0,"div",19),t.qZA(),t.TgZ(29,"div",20)(30,"label"),t._uU(31,"Fecha Inicio "),t.qZA(),t.TgZ(32,"p-calendar",21),t.NdJ("onSelect",function(s){return o.changeFechaLimpieza(s)}),t.qZA()(),t.TgZ(33,"div",20)(34,"label"),t._uU(35,"Fecha Final"),t.qZA(),t.TgZ(36,"p-calendar",22),t.NdJ("onSelect",function(s){return o.changeFechaLimpieza(s)}),t.qZA()(),t.TgZ(37,"div",16)(38,"label"),t._uU(39,"Descripci\xf3n"),t.qZA(),t._UZ(40,"textarea",23),t.YNc(41,qe,2,0,"div",19),t.qZA(),t.YNc(42,Me,1,0,"p-message",24),t.TgZ(43,"div",16),t._UZ(44,"button",25),t.qZA()(),t._UZ(45,"br"),t.qZA()()(),t.TgZ(46,"p-dialog",26),t.NdJ("visibleChange",function(s){return o.visibleModalMantenimiento=s}),t.TgZ(47,"div",13)(48,"form",14),t.NdJ("ngSubmit",function(){return o.submitAsignarMantenimiento()}),t.TgZ(49,"div",15)(50,"div",16)(51,"p-multiSelect",17),t.YNc(52,ke,3,1,"ng-template",18),t.qZA(),t.YNc(53,we,2,0,"div",19),t.qZA(),t.TgZ(54,"div",20)(55,"label"),t._uU(56,"Fecha Inicio "),t.qZA(),t.TgZ(57,"p-calendar",27),t.NdJ("onSelect",function(){return o.changeFechaMantenimiento()}),t.qZA()(),t.TgZ(58,"div",20)(59,"label"),t._uU(60,"Fecha Final"),t.qZA(),t.TgZ(61,"p-calendar",28),t.NdJ("onSelect",function(){return o.changeFechaMantenimiento()}),t.qZA()(),t.TgZ(62,"div",16)(63,"label"),t._uU(64,"Descripci\xf3n"),t.qZA(),t._UZ(65,"textarea",23),t.YNc(66,Se,2,0,"div",19),t.qZA(),t.YNc(67,Oe,1,0,"p-message",24),t.TgZ(68,"div",16),t._UZ(69,"button",29),t.qZA()(),t._UZ(70,"br"),t.qZA()()(),t.YNc(71,Ge,77,25,"p-dialog",30),t.YNc(72,$e,2,1,"app-clientes",31)),2&a&&(t.xp6(3),t.Akn(t.DdM(53,z)),t.xp6(1),t.Q6J("ngIf",5===o.selectedFilter),t.xp6(1),t.Akn(t.DdM(54,B)),t.xp6(1),t.Q6J("ngIf",3===o.selectedFilter),t.xp6(1),t.Akn(t.DdM(55,j)),t.xp6(1),t.Q6J("ngIf",4===o.selectedFilter),t.xp6(1),t.Akn(t.DdM(56,G)),t.xp6(1),t.Q6J("ngIf",6===o.selectedFilter),t.xp6(1),t.Akn(t.DdM(57,$)),t.xp6(1),t.Q6J("ngIf",2===o.selectedFilter),t.xp6(1),t.Akn(t.DdM(58,V)),t.xp6(1),t.Q6J("ngIf",7===o.selectedFilter),t.xp6(1),t.Akn(t.DdM(59,Ve)),t.xp6(1),t.Q6J("ngIf",0===o.selectedFilter),t.xp6(3),t.Q6J("ngForOf",o.dataRoom),t.xp6(1),t.Q6J("ngIf",!o.creandoCliente),t.xp6(1),t.Akn(t.DdM(60,K)),t.Q6J("visible",o.visibleModalLimpieza)("modal",!0)("draggable",!1)("resizable",!1),t.xp6(2),t.Q6J("formGroup",o.formLimpieza),t.xp6(3),t.Q6J("options",o.empleadosData),t.xp6(2),t.Q6J("ngIf",o.formLimpieza.get("empleado").hasError("required")),t.xp6(4),t.Q6J("showIcon",!0),t.xp6(4),t.Q6J("showIcon",!0),t.xp6(5),t.Q6J("ngIf",o.formLimpieza.get("descripcion").hasError("required")),t.xp6(1),t.Q6J("ngIf",o.formLimpieza.get("fechaInicio").value>o.formLimpieza.get("fechaFinal").value),t.xp6(2),t.Q6J("disabled",o.formLimpieza.invalid||o.disableButtonLimpieza),t.xp6(2),t.Akn(t.DdM(61,K)),t.Q6J("visible",o.visibleModalMantenimiento)("modal",!0)("draggable",!1)("resizable",!1),t.xp6(2),t.Q6J("formGroup",o.formMantenimiento),t.xp6(3),t.Q6J("options",o.empleadosData),t.xp6(2),t.Q6J("ngIf",o.formMantenimiento.get("empleado").hasError("required")),t.xp6(4),t.Q6J("showIcon",!0),t.xp6(4),t.Q6J("showIcon",!0),t.xp6(5),t.Q6J("ngIf",o.formMantenimiento.get("descripcion").hasError("required")),t.xp6(1),t.Q6J("ngIf",o.formMantenimiento.get("fechaInicio").value>o.formMantenimiento.get("fechaFinal").value),t.xp6(2),t.Q6J("disabled",o.formMantenimiento.invalid||o.disableButtonMantenimiento),t.xp6(2),t.Q6J("ngIf",!o.creandoCliente),t.xp6(1),t.Q6J("ngIf",o.creandoCliente))},dependencies:[N.s,g.jx,m.sg,m.O5,v.Hq,v.zx,l._Y,l.Fj,l.wV,l.JJ,l.JL,l.qQ,J.v2,T.H,C.o,I.g,x.Lt,xt,y.V,l.sg,l.u,Z.Ro,L,Y,q.V,U.f,M.NU,k.q,Bt.R],styles:['@charset "UTF-8";.rooms[_ngcontent-%COMP%]{cursor:pointer}.tag[_ngcontent-%COMP%]{padding:.5%;display:flex;text-align:center}.nomeRoome[_ngcontent-%COMP%]{text-align:center}.padding[_ngcontent-%COMP%]{padding:1%}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-bottom:20px}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px solid #dddddd;text-align:left;padding:8px}th[_ngcontent-%COMP%]{background-color:#f2f2f2}.habilitarCursor[_ngcontent-%COMP%]{cursor:pointer}.container[_ngcontent-%COMP%]{display:flex;height:0%}.div1[_ngcontent-%COMP%]{flex:1;margin:5px 5px 5px -1%;height:0%}.div2[_ngcontent-%COMP%]{flex:1;text-align:right;height:0%}']})}return i})();var We=p(4444),Xe=p(6401),W=p(3173),X=p(5609);function to(i,r){1&i&&t._UZ(0,"p-message",65)}function eo(i,r){1&i&&(t.TgZ(0,"tr")(1,"th"),t._uU(2,"Categor\xeda"),t.qZA(),t.TgZ(3,"th"),t._uU(4,"Total"),t.qZA(),t.TgZ(5,"th"),t._uU(6,"Acci\xf3n"),t.qZA()())}function oo(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"button",69),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2).$implicit,n=t.oxw();return t.KtG(n.modals(o.nombre))}),t.qZA()}}function io(i,r){if(1&i&&(t.TgZ(0,"td"),t.YNc(1,oo,1,0,"button",68),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",2==(null==e.estadoHabitacion?null:e.estadoHabitacion.estado_id))}}function ao(i,r){1&i&&t._UZ(0,"td")}function no(i,r){if(1&i&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.ALo(5,"number"),t.qZA(),t.YNc(6,io,2,1,"td",66),t.YNc(7,ao,1,0,"ng-template",null,67,t.W1O),t.qZA()),2&i){const e=r.$implicit,a=t.MAs(8);t.xp6(2),t.Oqu(e.nombre),t.xp6(2),t.hij("$",t.lcZ(5,4,e.total),""),t.xp6(2),t.Q6J("ngIf",e.tipo)("ngIfElse",a)}}function ro(i,r){1&i&&(t.TgZ(0,"th"),t._UZ(1,"span"),t.qZA(),t.TgZ(2,"th"),t._UZ(3,"span"),t.qZA())}function so(i,r){1&i&&(t.TgZ(0,"th"),t._uU(1,"Acciones"),t.qZA())}function lo(i,r){if(1&i&&(t.TgZ(0,"tr")(1,"th"),t._uU(2,"Nombre"),t.qZA(),t.TgZ(3,"th"),t._uU(4,"Precio"),t.qZA(),t.YNc(5,ro,4,0,"ng-template",null,70,t.W1O),t.YNc(7,so,2,0,"th",71),t.qZA()),2&i){const e=t.oxw();t.xp6(7),t.Q6J("ngIf",2==(null==e.estadoHabitacion?null:e.estadoHabitacion.estado_id))}}function co(i,r){1&i&&(t.TgZ(0,"td"),t._UZ(1,"span"),t.qZA(),t.TgZ(2,"td"),t._UZ(3,"span"),t.qZA())}function po(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"td")(1,"p-button",72),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,n=t.oxw();return t.KtG(n.confirmDeleteTarifa(o.id))}),t.qZA()()}}function uo(i,r){if(1&i&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.ALo(5,"number"),t.qZA(),t.YNc(6,co,4,0,"ng-template",null,70,t.W1O),t.YNc(8,po,2,0,"td",71),t.qZA()),2&i){const e=r.$implicit,a=t.oxw();t.xp6(2),t.Oqu(e.nombre),t.xp6(2),t.hij("$",t.lcZ(5,3,e.valor),""),t.xp6(4),t.Q6J("ngIf",2==(null==a.estadoHabitacion?null:a.estadoHabitacion.estado_id))}}function mo(i,r){1&i&&(t.TgZ(0,"th"),t._uU(1,"Acciones"),t.qZA())}function ho(i,r){if(1&i&&(t.TgZ(0,"tr")(1,"th"),t._uU(2,"Nombre"),t.qZA(),t.TgZ(3,"th"),t._uU(4,"Precio"),t.qZA(),t.TgZ(5,"th"),t._uU(6,"Impuesto"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"Cantidad"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"Total"),t.qZA(),t.YNc(11,mo,2,0,"th",71),t.qZA()),2&i){const e=t.oxw();t.xp6(11),t.Q6J("ngIf",2==(null==e.estadoHabitacion?null:e.estadoHabitacion.estado_id))}}function _o(i,r){1&i&&(t.TgZ(0,"span",74),t._uU(1,"*"),t.qZA())}function go(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"td")(1,"p-button",72),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,n=t.oxw();return t.KtG(n.confirmDeleteProductos(o.identificador))}),t.qZA()()}}function fo(i,r){if(1&i&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.ALo(3,"titlecase"),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.ALo(6,"number"),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.ALo(9,"number"),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.YNc(12,_o,2,0,"span",73),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.ALo(15,"number"),t.qZA(),t.YNc(16,go,2,0,"td",71),t.qZA()),2&i){const e=r.$implicit,a=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,7,e.nombre)),t.xp6(3),t.hij("$",t.lcZ(6,9,e.subtotal),""),t.xp6(3),t.hij("$",t.lcZ(9,11,e.impuestos),""),t.xp6(3),t.Oqu(e.cantidad),t.xp6(1),t.Q6J("ngIf",e.stockModificado),t.xp6(2),t.hij("$",t.lcZ(15,13,e.valorImpuesto),""),t.xp6(2),t.Q6J("ngIf",2==(null==a.estadoHabitacion?null:a.estadoHabitacion.estado_id))}}function bo(i,r){1&i&&(t.TgZ(0,"tr")(1,"td",77)(2,"span"),t._uU(3,"*"),t.qZA(),t._uU(4," El stock de estos productos ha sido actualizado. "),t.qZA()())}function vo(i,r){if(1&i&&(t.TgZ(0,"tr")(1,"td",75),t._uU(2,"Totales"),t.qZA(),t.TgZ(3,"td",75),t._uU(4),t.ALo(5,"number"),t.qZA(),t.TgZ(6,"td",76),t._uU(7),t.ALo(8,"number"),t.qZA(),t.TgZ(9,"td",76),t._uU(10),t.ALo(11,"number"),t.qZA()(),t.YNc(12,bo,5,0,"tr",71)),2&i){const e=t.oxw();t.xp6(4),t.hij(" $",t.lcZ(5,4,e.totalProductos-e.totalProductosImpuestos),""),t.xp6(3),t.hij(" $",t.lcZ(8,6,e.totalProductosImpuestos),""),t.xp6(3),t.hij(" $",t.lcZ(11,8,e.totalProductos),""),t.xp6(2),t.Q6J("ngIf",e.stockProductoModificado&&e.productosAgregados.length>0)}}function To(i,r){1&i&&(t.TgZ(0,"th"),t._uU(1,"Acciones"),t.qZA())}function Zo(i,r){if(1&i&&(t.TgZ(0,"tr")(1,"th"),t._uU(2,"Nombre"),t.qZA(),t.TgZ(3,"th"),t._uU(4,"Precio"),t.qZA(),t.TgZ(5,"th"),t._uU(6,"Impuesto"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"Cantidad"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"Total"),t.qZA(),t.YNc(11,To,2,0,"th",71),t.qZA()),2&i){const e=t.oxw();t.xp6(11),t.Q6J("ngIf",2==(null==e.estadoHabitacion?null:e.estadoHabitacion.estado_id))}}function xo(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"td")(1,"p-button",72),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,n=t.oxw();return t.KtG(n.confirmDeleteRecetas(o.identificador))}),t.qZA()()}}function Ao(i,r){if(1&i&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.ALo(5,"number"),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.ALo(8,"number"),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.ALo(11,"number"),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.ALo(14,"number"),t.qZA(),t.YNc(15,xo,2,0,"td",71),t.qZA()),2&i){const e=r.$implicit,a=t.oxw();t.xp6(2),t.Oqu(e.nombre),t.xp6(2),t.hij("$",t.lcZ(5,6,e.subtotal),""),t.xp6(3),t.hij("$",e.impuestos?e.impuestos:t.lcZ(8,8,0),""),t.xp6(3),t.Oqu(t.lcZ(11,10,e.cantidad)),t.xp6(3),t.hij("$",t.lcZ(14,12,e.total),""),t.xp6(2),t.Q6J("ngIf",2==(null==a.estadoHabitacion?null:a.estadoHabitacion.estado_id))}}function Co(i,r){if(1&i&&(t.TgZ(0,"tr")(1,"td",75),t._uU(2,"Totales"),t.qZA(),t.TgZ(3,"td",75),t._uU(4),t.ALo(5,"number"),t.qZA(),t.TgZ(6,"td",76),t._uU(7),t.ALo(8,"number"),t.qZA(),t.TgZ(9,"td",76),t._uU(10),t.ALo(11,"number"),t.qZA()()),2&i){const e=t.oxw();t.xp6(4),t.hij(" $",t.lcZ(5,3,e.totalRecetas-e.totalRecetasImpuestos),""),t.xp6(3),t.hij(" $",t.lcZ(8,5,e.totalRecetasImpuestos),""),t.xp6(3),t.hij(" $",t.lcZ(11,7,e.totalRecetas),"")}}function Io(i,r){1&i&&(t.TgZ(0,"th"),t._uU(1,"Acciones"),t.qZA())}function yo(i,r){if(1&i&&(t.TgZ(0,"tr")(1,"th"),t._uU(2,"Monto"),t.qZA(),t.TgZ(3,"th"),t._uU(4,"M\xe9todo de pago"),t.qZA(),t.YNc(5,Io,2,0,"th",71),t.qZA()),2&i){const e=t.oxw();t.xp6(5),t.Q6J("ngIf",2==(null==e.estadoHabitacion?null:e.estadoHabitacion.estado_id))}}function Ro(i,r){1&i&&t._UZ(0,"td")}function Do(i,r){if(1&i&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.ALo(3,"number"),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.YNc(6,Ro,1,0,"td",71),t.qZA()),2&i){const e=r.$implicit,a=t.oxw();t.xp6(2),t.hij("$",t.lcZ(3,3,e.valor),""),t.xp6(3),t.Oqu(e.nombre),t.xp6(1),t.Q6J("ngIf",2==(null==a.estadoHabitacion?null:a.estadoHabitacion.estado_id))}}function qo(i,r){1&i&&(t.TgZ(0,"div")(1,"h5"),t._uU(2,"Hora"),t.qZA()())}function Mo(i,r){1&i&&(t.TgZ(0,"div")(1,"h5"),t._uU(2,"Noche"),t.qZA()())}function ko(i,r){if(1&i&&(t.TgZ(0,"div",78)(1,"span",79),t._uU(2),t._UZ(3,"p-tag",80),t.YNc(4,qo,3,0,"div",71),t.YNc(5,Mo,3,0,"div",71),t.qZA()()),2&i){const e=r.$implicit;t.xp6(2),t.hij(" ",e.nombre," "),t.xp6(1),t.s9C("icon",e.icon),t.s9C("value",e.valor),t.xp6(1),t.Q6J("ngIf",2==e.tipo),t.xp6(1),t.Q6J("ngIf",1==e.tipo)}}function wo(i,r){if(1&i&&(t.TgZ(0,"div",81)(1,"span",79),t._uU(2),t.ALo(3,"titlecase"),t.qZA(),t.TgZ(4,"div"),t._UZ(5,"p-tag",82),t.ALo(6,"number"),t._UZ(7,"p-tag",82),t.qZA()()),2&i){const e=r.$implicit;t.xp6(2),t.Oqu(t.lcZ(3,3,e.nombre)),t.xp6(3),t.MGl("value"," $",t.lcZ(6,5,e.valor_total),""),t.xp6(2),t.MGl("value","Stock: ",1==e.sin_limite_cantidad?e.stockActual:"Ilimitado","")}}function So(i,r){1&i&&(t.TgZ(0,"span",84),t._uU(1,"Producto es requerido."),t.qZA())}function Oo(i,r){if(1&i&&(t.TgZ(0,"div",83),t.YNc(1,So,2,0,"span",42),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.formProducto.get("producto_id").hasError("required"))}}function Uo(i,r){1&i&&(t.TgZ(0,"div",84),t._uU(1,"Campo requerido"),t.qZA())}function Fo(i,r){1&i&&(t.TgZ(0,"div",85),t._uU(1,"La cantidad excede el stock disponible."),t.qZA())}function No(i,r){if(1&i&&(t.TgZ(0,"div",81)(1,"span",79),t._uU(2),t.qZA(),t._UZ(3,"p-tag",82),t.ALo(4,"number"),t.qZA()),2&i){const e=r.$implicit;t.xp6(2),t.Oqu(e.nombre),t.xp6(1),t.MGl("value","$",t.lcZ(4,2,e.valor_total),"")}}function Jo(i,r){1&i&&(t.TgZ(0,"span",84),t._uU(1,"Receta es requerida."),t.qZA())}function Po(i,r){if(1&i&&(t.TgZ(0,"div",83),t.YNc(1,Jo,2,0,"span",42),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.formReceta.get("receta_id").hasError("required"))}}function Qo(i,r){1&i&&(t.TgZ(0,"div",84),t._uU(1,"Campo requerido"),t.qZA())}function Eo(i,r){1&i&&(t.TgZ(0,"div",86),t._uU(1,"La cantidad excede el stock disponible."),t.qZA())}function Ho(i,r){if(1&i&&(t.TgZ(0,"div",78)(1,"span",79),t._uU(2),t.qZA()()),2&i){const e=r.$implicit;t.xp6(2),t.Oqu(e.nombre)}}function Yo(i,r){if(1&i&&(t.TgZ(0,"div",78)(1,"span",79),t._uU(2),t.qZA()()),2&i){const e=r.$implicit;t.xp6(2),t.Oqu(e.nombre)}}function Lo(i,r){1&i&&(t.TgZ(0,"div",84),t._uU(1,"Campo requerido."),t.qZA())}function zo(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",94)(1,"p-button",95),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().index,n=t.oxw();return t.KtG(n.eliminarMedioPagoAbono(o))}),t.qZA()()}}function Bo(i,r){if(1&i){const e=t.EpF();t.TgZ(0,"div",87)(1,"div",88)(2,"label"),t._uU(3,"M\xe9todo de Pago"),t.qZA(),t._UZ(4,"input",89),t.qZA(),t.TgZ(5,"div",90)(6,"label",91),t._uU(7,"Valor"),t.qZA(),t._UZ(8,"br"),t.TgZ(9,"input",92),t.NdJ("blur",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.calcularTotalMetodosPago())}),t.qZA(),t._UZ(10,"br"),t.YNc(11,Lo,2,0,"div",42),t.qZA(),t.YNc(12,zo,2,0,"div",93),t.qZA()}if(2&i){const e=r.$implicit,a=t.oxw();t.Q6J("formGroup",e),t.xp6(11),t.Q6J("ngIf",null==e||null==e.controls.monto||null==e.controls.monto.errors?null:e.controls.monto.errors.required),t.xp6(1),t.Q6J("ngIf",a.formFacturacionMediosPago.controls.length>1)}}function jo(i,r){1&i&&(t.TgZ(0,"div",96),t._UZ(1,"p-message",97),t.qZA())}const Go=function(){return{"min-width":"20rem"}},A=function(){return{"min-width":"25rem"}},tt=function(){return{width:"40vw",height:"25vw"}},$o=function(){return{width:"60vw"}},Vo=function(){return{width:"95vw",height:"40vw"}},Ko=function(){return{width:"50vw"}};let Wo=(()=>{class i{constructor(e,a,o,n,s,c,d,_){this.dashboardRoomsService=e,this.FB=a,this.spinner=o,this.datePipe=n,this.router=s,this.route=c,this.appComponent=d,this.layoutService=_,this.dataTarifa=[],this.dataAbonos=[],this.tarifasTotal=0,this.abonosTotal=0,this.items=[],this.total=0,this.subtotaltotal=0,this.tarifaVisible=!1,this.productoVisible=!1,this.abonoVisible=!1,this.recetaVisible=!1,this.allTarifas=[],this.allTarifasDefault=[],this.totalMetodosPago=0,this.totalImpuestos=0,this.impuestosData=[],this.detalleId=0,this.hotelId=0,this.clienteId=0,this.impuestos_save=[],this.montoSinRedondear=0,this.excedente=0,this.activarRedondear=!1,this.productsData=[],this.recetasData=[],this.productosAgregados=[],this.recetasAgregadas=[],this.totalProductos=0,this.totalProductosImpuestos=0,this.totalRecetas=0,this.totalRecetasImpuestos=0,this.validacionStock=!1,this.stockProductoModificado=!1,this.totales=[{nombre:"Tarifas",total:this.tarifasTotal,tipo:1},{nombre:"Productos/Servicios",total:this.totalProductos,tipo:1},{nombre:"Recetas",total:this.totalRecetas,tipo:1},{nombre:"Abonos",total:this.abonosTotal},{nombre:"Impuestos",total:this.totalImpuestos},{nombre:"Subtotal",total:this.subtotaltotal},{nombre:"Total sin redondear",total:0},{nombre:"Excedente",total:0},{nombre:"Total",total:0}],this.formFacturacionMediosPago=this.FB.array([]),this.baseUrl=We.D.url,this.token=d.getToken()}ngOnInit(){this.spinner.hide(),this.dataRoomDetail=[],this.habitacionId=parseFloat(this.route.snapshot.paramMap.get("idHabitacion")),this.buildForm(),this.getRoomOcupar()}cargarItems(){this.items=[{label:"Facturar",icon:"pi pi-dollar",disabled:this.disableFactura,command:e=>this.opcionSelect(e,"facturar")},{label:"Salida (Check-out)",disabled:2!=this.estadoHabitacion?.estado_id,icon:"pi pi-lock-open",command:e=>this.opcionSelect(e,"desocupar")}]}buildForm(){const e=this.dataRoomDetail;this.form=this.FB.group({nombreHabitacion:[e?.detalleHabitacion?.habitacion?.nombre,[]],descripcion:[e?.detalleHabitacion?.descripcion,[]],nombreCliente:[(e?.detalleHabitacion?.cliente?.nombres?e?.detalleHabitacion?.cliente?.nombres:"")+" "+(e?.detalleHabitacion?.cliente?.apellidos?e?.detalleHabitacion?.cliente?.apellidos:""),[]],desde:[e?.detalleHabitacion?.checkin,[]],hasta:[e?.detalleHabitacion?.checkout,[]]}),this.formTarifa=this.FB.group({tarifa_id:[this.allTarifasDefault,[l.kI.required]]}),this.formProducto=this.FB.group({producto_id:[null,[l.kI.required]],cantidad:[1,[l.kI.required,l.kI.min(1)]]}),this.formMetodoPago=this.FB.group({metodo_pago_id:[null,[l.kI.required]],valor:[null,[l.kI.required,l.kI.min(1)]]}),this.formReceta=this.FB.group({receta_id:[null,[l.kI.required]],cantidad:[1,[l.kI.required,l.kI.min(1)]]});let a=this.FB.group({monto:["",[l.kI.required,l.kI.min(0)]],medio_pago:[this.dataMetodosPago?this.dataMetodosPago[0]:null,[l.kI.required,l.kI.min(1)]],nombre:[this.dataMetodosPago?this.dataMetodosPago[0].nombre:"",[]]});a.get("nombre").disable(),this.formFacturacionMediosPago=this.FB.array([]),this.formFacturacionMediosPago.push(a),this.formFacturar=this.FB.group({isFacturaElectronica:[""]}),this.form.disable()}getRoomOcupar(){let e={habitacion_id:this.habitacionId};this.spinner.show(),this.dashboardRoomsService.getOcuparHabitacion(e).subscribe(a=>{function o(n){const s=parseFloat(n.precio);let c=0;return n.impuestos.forEach(d=>{const _=s*(Number(d.impuesto.porcentaje)/100);c+=_}),s+c}this.spinner.hide(),this.dataRoomDetail=a,this.estadoHabitacion=this.dataRoomDetail.estadoHabitacion,this.impuestos=this.dataRoomDetail.impuesto,this.allTarifasDefault=[],this.dataRoomDetail.tarifasHabitacion.forEach(n=>{this.dataTarifa.push({valor:n.valor,nombre:n.tarifa?.nombre,tipo:n.tipo,id:n.item_id})}),this.dataRoomDetail.recetasHabitacion.forEach(n=>{let s="receta"+this.generarIdAleatorio(),c=0;n?.recetas?.impuestos.forEach(d=>{let _=parseInt(d?.impuesto?.porcentaje)*parseFloat(n?.recetas.precio)/100;c+=_,this.impuestos_save.push({valor:_,porcentaje:d?.impuesto?.porcentaje,cantidad:n?.cantidad,id:d?.impuesto.id,item_id:n?.item_id,tipo:"4",identificador:s})}),this.recetasAgregadas.push({nombre:n?.recetas?.nombre,subtotal:n?.recetas?.precio,impuestos:c,total:(c+parseFloat(n?.recetas?.precio))*Number(n?.cantidad),cantidad:n?.cantidad,id:n?.item_id,identificador:s,impuestosData:n.recetas?.impuestos}),this.totalRecetas=this.totalRecetas+c+parseFloat(n?.recetas?.precio)}),this.dataMetodosPago=this.dataRoomDetail.metodos_pago,this.dataRoomDetail.productosHabitacion.forEach(n=>{let s=0,c="productos"+this.generarIdAleatorio();n.productos.impuestos.forEach(d=>{let _=parseInt(d.impuesto.porcentaje)*parseFloat(n?.productos.precio)/100;s+=_,this.impuestos_save.push({valor:_,porcentaje:d.impuesto.porcentaje,cantidad:n?.cantidad,id:d.impuesto.id,item_id:n?.item_id,tipo:"1",identificador:c})}),this.productosAgregados.push({nombre:n?.productos.nombre,cantidad:parseFloat(n?.cantidad),subtotal:parseFloat(n?.productos.precio),impuestos:s,valorImpuesto:(s+parseFloat(n?.productos.precio))*parseFloat(n?.cantidad),id:n?.item_id,identificador:c,tipoProducto:n?.productos.tipo_producto,impuestosData:n.productos.impuestos})}),this.dataRoomDetail.abonoHabitacion.forEach(n=>{this.dataAbonos.push({valor:n.valor,nombre:n.metodo_pago.nombre,id:n.id,metodo_pago_id:n?.metodo_pago.id,identificador:"abonos"+this.generarIdAleatorio()})}),this.dataRoomDetail.tarifas.forEach(n=>{this.allTarifas.push({valor:n.valor,nombre:n.nombre,tipo:n.tipo,id:n.id}),this.dataRoomDetail.tarifasHabitacion.filter(s=>s?.tarifa?.id==n.id).length>0&&this.allTarifasDefault.push({valor:n.valor,nombre:n.nombre,tipo:n.tipo,id:n.id})}),this.dataRoomDetail.productos.forEach(n=>{this.productsData.push({id:n.id,nombre:n.nombre,valor:n.precio,tipo:n.tipo_producto,impuestos:n.impuestos,stockActual:Number(n?.disponibles),valor_total:o(n),sin_limite_cantidad:n?.sin_limite_cantidad})}),this.dataRoomDetail.recetas.forEach(n=>{this.recetasData.push({id:n.id,nombre:n.nombre,valor:n.precio,impuestos:n.impuestos,stock:n.cantidad,valor_total:o(n)})}),this.detalleId=this.dataRoomDetail?.detalleHabitacion.id,this.hotelId=this.dataRoomDetail?.detalleHabitacion.hotel_id,this.clienteId=this.dataRoomDetail?.detalleHabitacion.cliente?.id,this.buildForm(),this.recalcular(),this.cargarItems()})}recalcular(){this.tarifasTotal=0,this.totalProductos=0,this.abonosTotal=0,this.total=0,this.totalImpuestos=0,this.totalRecetas=0,this.dataTarifa.forEach(a=>{this.tarifasTotal=this.tarifasTotal+parseFloat(a.valor)}),this.totalProductos=this.productosAgregados.reduce((a,o)=>a+o.valorImpuesto,0),this.totalProductosImpuestos=this.productosAgregados.reduce((a,o)=>a+o.impuestos*o.cantidad,0),this.totalRecetas=this.recetasAgregadas.reduce((a,o)=>a+o.total,0),this.totalRecetasImpuestos=this.recetasAgregadas.reduce((a,o)=>a+o.impuestos*o.cantidad,0),this.dataAbonos.forEach(a=>{this.abonosTotal=this.abonosTotal+parseFloat(a.valor)}),this.totalImpuestos=this.totalProductosImpuestos+this.totalRecetasImpuestos,this.subtotaltotal=this.tarifasTotal+(this.totalProductos-this.totalProductosImpuestos)+(this.totalRecetas-this.totalRecetasImpuestos),this.total=this.subtotaltotal+this.totalImpuestos-this.abonosTotal,this.totales=[{nombre:"Tarifas",total:this.tarifasTotal,tipo:1},{nombre:"Productos/Servicios",total:this.totalProductos-this.totalProductosImpuestos,tipo:1},{nombre:"Recetas",total:this.totalRecetas-this.totalRecetasImpuestos,tipo:1},{nombre:"Abonos",total:this.abonosTotal},{nombre:"Impuestos",total:this.totalImpuestos},{nombre:"Subtotal",total:this.subtotaltotal},{nombre:"Total",total:this.total}],this.activarRedondear?(this.montoSinRedondear=this.total,this.total=function e(a){let o=a%50,n=0;return o>0&&(n=50-o),a+n}(this.total),this.excedente=this.total-this.montoSinRedondear,this.totales[6]={nombre:"Total sin redondear",total:this.montoSinRedondear},this.totales.push({nombre:"Excedente",total:this.excedente}),this.totales.push({nombre:"Total",total:this.total})):(this.excedente=0,this.totales=this.totales.filter(a=>"Total sin redondear"!==a.nombre||"Excedente"!==a.nombre)),this.validaciones()}modals(e){switch(e){case"Tarifas":this.tarifaVisible=!0;break;case"Productos/Servicios":this.formProducto.reset(),this.productoVisible=!0,this.validacionStock=!1;break;case"Recetas":this.formReceta.reset(),this.recetaVisible=!0,this.validacionStock=!1;break;case"Abonos":this.abonoVisible=!0}}validarStock(e){if("producto"==e&&this.formProducto.valid){const a=this.formProducto.get("producto_id").value,o=this.formProducto.get("cantidad").value;this.validacionStock=a.stockActual<o&&1==a.sin_limite_cantidad}}opcionSelect(e,a){"desocupar"==a&&this.desocuparHabitacion(),"facturar"==a&&this.facturacion()}confirmDeleteAbono(e){this.dataAbonos=this.dataAbonos.filter(a=>a.identificador!=e),this.recalcular()}confirmDeleteTarifa(e){this.dataTarifa=this.dataTarifa.filter(a=>a.id!=e),this.allTarifasDefault=this.dataTarifa,this.buildForm(),this.recalcular()}confirmDeleteProductos(e){this.productosAgregados.forEach(a=>{a.identificador==e&&this.productsData.forEach(o=>{o.id==a.id&&(o.stockActual=o.stockActual+a.cantidad)})}),this.productosAgregados=this.productosAgregados.filter(a=>a.identificador!=e),this.stockProductoModificado=this.productosAgregados.some(a=>1==a.stockModificado),this.impuestos_save=this.impuestos_save.filter(a=>a.identificador!=e),this.recalcular()}confirmDeleteRecetas(e){this.recetasAgregadas=this.recetasAgregadas.filter(a=>a.identificador!=e),this.impuestos_save=this.impuestos_save.filter(a=>a.identificador!=e),this.recalcular()}submitTarifa(){this.recargarTablaTarifa(),this.tarifaVisible=!1,this.recalcular()}submitProducto(){this.recargarTablaProducto(),this.productoVisible=!1,this.recalcular()}submitReceta(){this.recetaVisible=!1,this.recargarTablaReceta(),this.recalcular()}recargarTablaReceta(){let e=this.formReceta.get("receta_id")?.value,a=this.formReceta.get("cantidad")?.value,o="receta"+this.generarIdAleatorio(),n=0;if(e.impuestos.forEach(s=>{let c=parseInt(s.impuesto.porcentaje)*parseFloat(e.valor)/100;n+=c,this.impuestos_save.push({valor:c,porcentaje:s?.impuesto?.porcentaje,cantidad:a,id:s?.impuesto.id,item_id:e.id,tipo:"4",identificador:o})}),this.recetasAgregadas.find(s=>s.nombre==e.nombre)){let s=this.recetasAgregadas.findIndex(c=>c.nombre==e.nombre);this.recetasAgregadas[s].cantidad=this.recetasAgregadas[s].cantidad+a,this.recetasAgregadas[s].total=this.recetasAgregadas[s].total+(parseFloat(e.valor)+n)*a}else this.recetasAgregadas.push({nombre:e.nombre,cantidad:a,subtotal:e.valor,impuestos:n,total:(n+parseFloat(e.valor))*Number(a),id:e.id,identificador:o,impuestosData:e.impuestos})}recargarTablaProducto(){let e=this.formProducto.get("producto_id")?.value,a=this.formProducto.get("cantidad").value,o=0,n="productos"+this.generarIdAleatorio();if(e.impuestos.forEach(s=>{let c=parseInt(s.impuesto.porcentaje)*parseFloat(e.valor)/100;o+=c,this.impuestos_save.push({valor:c,porcentaje:s.impuesto.porcentaje,cantidad:a,id:s.impuesto.id,item_id:e.id,tipo:"1",identificador:n})}),this.productosAgregados.find(s=>s.nombre==e.nombre)){let s=this.productosAgregados.findIndex(c=>c.nombre==e.nombre);this.productosAgregados[s].cantidad+=a,this.productosAgregados[s].valorImpuesto+=(parseFloat(e.valor)+o)*a,this.productsData.forEach(c=>{c.id==e.id&&(c.stockActual=c.stockActual-a)})}else this.productosAgregados.push({nombre:e?.nombre,cantidad:Number(a),subtotal:parseFloat(e?.valor),impuestos:o,valorImpuesto:(parseFloat(e?.valor)+o)*Number(a),id:e?.id,identificador:n,tipoProducto:e?.tipo,impuestosData:e.impuestos}),this.productsData.forEach(s=>{s.id==e.id&&(s.stockActual=s.stockActual-a)});this.stockProductoModificado=this.productosAgregados.some(s=>1==s.stockModificado),this.formProducto.reset()}recargarTablaTarifa(){let e=this.formTarifa.get("tarifa_id").value;this.dataTarifa=[],this.allTarifasDefault=[],e.forEach(a=>{this.dataTarifa.push({valor:a.valor,nombre:a.nombre,tipo:a.tipo,id:a.id}),this.allTarifasDefault.push({valor:a.valor,nombre:a.nombre,tipo:a.tipo,id:a.id})})}recargarTablaAbonos(){let e=this.formMetodoPago.get("metodo_pago_id").value[0],a=parseFloat(this.formMetodoPago.get("valor").value);this.dataAbonos.push({valor:a,nombre:e.nombre,id:e.id,metodo_pago_id:e.id,identificador:"abonos"+this.generarIdAleatorio()})}submitAbono(){this.abonoVisible=!1,this.recargarTablaAbonos(),this.recalcular()}submitAll(){2==this.estadoHabitacion?.estado_id&&this.envirRoomDetalle({tarifas:this.dataTarifa,productos:this.productosAgregados,abonos:this.dataAbonos,detalleId:this.detalleId,hotelId:this.hotelId,clienteId:this.clienteId,receta:this.recetasAgregadas,habitacion_id:this.habitacionId})}envirRoomDetalle(e){this.spinner.show(),this.dashboardRoomsService.saveDetalleHabitacion(e).subscribe(a=>{this.spinner.hide();let o=a;if("success"==o.code)u().fire({title:"Exito",text:o.msm,icon:"success"}),this.layoutService.reloadComponent(),this.router.navigate(["dashboard/dashboardRooms"]);else if("warning"==o.code){u().fire({title:"Advertencia",text:o.msm,icon:"warning"});const n=o.productos_sin_stock;let s=0;this.stockProductoModificado=!0,n.forEach(c=>{this.productsData.forEach(d=>{d.id==c.id&&(d.stockActual=0,s=d.valor_total)}),this.productosAgregados.forEach(d=>{d.id==c.id&&(d.cantidad=c.cantidad_actual,d.valorImpuesto=c.cantidad_actual*s,d.stockModificado=!0)})}),this.recalcular()}else u().fire({title:"Error",text:"Error al anular.",icon:"error"})})}envirRoomDetalleFactura(e){this.spinner.show(),this.dashboardRoomsService.saveDetalleHabitacion(e).subscribe(a=>{if("warning"==a.code)u().fire({title:"Advertencia",text:a.msm,icon:"warning"}),this.spinner.hide(),this.facturarVisible=!1;else{let o=this.formFacturar.get("isFacturaElectronica").value;this.enviarFacturacion({detalle_id:this.detalleId,metodos_pagos:this.formFacturacionMediosPago.value,concepto:"Factura Habitacion",hotel_id:this.hotelId,cliente_id:this.clienteId,porcentaje_descuento:0,subtotal:this.subtotaltotal,total:this.total+this.abonosTotal,impuesto_total:this.totalImpuestos,detalleId:this.detalleId,hotelId:this.hotelId,clienteId:this.clienteId,receta:this.recetasAgregadas,impuesto:this.impuestos_save,habitacion_id:this.habitacionId,is_factura_electronica:o,excedente:this.excedente})}})}desocuparHabitacion(){let e={id_habitacion:this.habitacionId};u().fire({title:"\xbfEstas seguro que deseas Salir (Check-out) de esta habitacion?",text:"",icon:"warning",showCancelButton:!0,confirmButtonText:"S\xed, Confirmar",cancelButtonText:"Cancelar"}).then(a=>{a.isConfirmed&&(this.spinner.show(),this.enviarDesocupar(e))})}facturacion(){this.facturarVisible=!0}enviarDesocupar(e){this.dashboardRoomsService.desocupar(e).subscribe(a=>{let o=a;this.spinner.hide(),"success"==o.code?(u().fire({title:"Exito",text:"Anulacion Exitosa.",icon:"success"}),this.router.navigate(["dashboard/dashboardRooms"])):"warning"==o.code?u().fire({title:"Advertencia",text:o.error,icon:"warning"}):u().fire({title:"Error",text:"Error al anular.",icon:"error"})},a=>{console.log("Error: ",a)})}validaciones(){this.disableFactura=!1,this.abonosTotal>this.tarifasTotal&&(this.disableFactura=!0,this.cargarItems())}eliminarMedioPagoAbono(e){this.formFacturacionMediosPago.removeAt(e),this.calcularTotalMetodosPago()}agregarAbonoOcupar(e){if(console.log("event",e),this.formFacturacionMediosPago.controls.find(o=>o.get("medio_pago").value.id==e.value.id))return;let a=this.FB.group({monto:["",[l.kI.required,l.kI.min(1)]],medio_pago:[e.value,[l.kI.required,l.kI.min(1)]],nombre:[e.value.nombre,[]]});a.get("nombre").disable(),this.formFacturacionMediosPago.push(a)}calcularTotalMetodosPago(){this.totalMetodosPago=0,this.formFacturacionMediosPago.value.forEach(e=>{let a=parseFloat(e.monto);isNaN(a)&&(a=0),this.totalMetodosPago+=a})}submitFactura(){this.envirRoomDetalleFactura({tarifas:this.dataTarifa,productos:this.productosAgregados,abonos:this.dataAbonos,detalleId:this.detalleId,hotelId:this.hotelId,clienteId:this.clienteId,receta:this.recetasAgregadas,impuesto:this.impuestos_save,habitacion_id:this.habitacionId})}enviarFacturacion(e){this.spinner.show(),this.dashboardRoomsService.facturar(e).subscribe(a=>{let o=a;this.facturarVisible=!1,this.spinner.hide(),"success"==o.code?(this.layoutService.reloadComponent(),u().fire({title:"Exito",text:o.msm,icon:"success"}),window.open(this.baseUrl+"/facturaRemisionPdf/"+o.factura.id+"?token="+this.token,"_blank"),this.router.navigate(["dashboard/dashboardRooms"])):"warning"==o.code?u().fire({title:"Advertencia",text:o.msm,icon:"warning"}):u().fire({title:"Error",text:"Error al Facturar.",icon:"error"})},a=>{console.log("Error: ",a)})}generarIdAleatorio(){let o="";for(let n=0;n<10;n++)o+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random()));return o}static#t=this.\u0275fac=function(a){return new(a||i)(t.Y36(R.y),t.Y36(l.qu),t.Y36(Z.t2),t.Y36(m.uU),t.Y36(b.F0),t.Y36(b.gz),t.Y36(Xe.y),t.Y36(F.P))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-dashboard-rooms-ocupar"]],decls:169,vars:97,consts:[["type","ball-scale-multiple","fullScreen","true"],[1,"surface-section","px-4","py-5","md:px-6","lg:px-8"],[1,"flex","align-items-center","flex-column","lg:flex-row"],["pButton","","pRipple","","label","","icon","pi pi-arrow-left",1,"p-button-outlined","mr-4",3,"routerLink"],[1,"font-medium","text-3xl","text-900"],[1,"grid","mt-2"],[1,"col-12"],[1,"card",2,"padding","30px"],[1,"grid"],[1,"col-12","md:col-5"],[2,"margin-bottom","30px"],[3,"formGroup"],[1,"p-fluid","p-formgrid","grid","p-3"],[1,"field","col-12","lg:col-6"],["type","text","formControlName","nombreHabitacion","pInputText","",1,"w-full","mb-3","border-round-3xl"],["type","text","formControlName","nombreCliente","pInputText","",1,"w-full","mb-3","border-round-3xl"],["type","text","formControlName","desde","pInputText","",1,"w-full","mb-3","border-round-3xl"],["type","text","formControlName","hasta","pInputText","",1,"w-full","mb-3","border-round-3xl"],[1,"field","col-12","lg:col-12"],["formControlName","descripcion","pInputTextarea","","rows","3","cols","20",2,"resize","none"],[1,"field","col-6","lg:col-6"],[3,"label","disabled","model","onClick"],["severity","error","class","padding","text","El total de abonos no puede ser mayor al total a pagar",4,"ngIf"],["responsiveLayout","scroll",3,"value","tableStyle","rows"],["pTemplate","header"],["pTemplate","body"],[1,"col-12","md:col-7"],[1,"table-details"],["pTemplate","footer"],["header","Agregar Tarifa",3,"visible","modal","draggable","resizable","visibleChange"],[3,"formGroup","ngSubmit"],[1,"p-fluid","p-formgrid","grid"],[1,"field","col-12","md:col-12"],["formControlName","tarifa_id","optionLabel","nombre","placeholder","Buscar Tarifa","optionLabel","nombre","emptyMessage","Tarifa no encontrada","display","chip",1,"multiselect-custom",3,"options"],["pTemplate","item"],["pButton","","pRipple","","label","Agregar","type","submit",1,"w-full","bg-admin","boder-admin","mb-5","border-round-3xl",3,"disabled"],["header","Agregar Producto",3,"visible","modal","draggable","resizable","visibleChange"],[1,"field","col-12","md:col-6"],["for","producto_id"],["formControlName","producto_id","placeholder","Buscar Producto/Servicio","optionLabel","nombre","emptyMessage","Cargando productos...",1,"dropdown-custom",3,"options","onChange"],["style","margin-top: 14px;",4,"ngIf"],["type","number","min","1","formControlName","cantidad","placeholder","Cantidad","pInputText","",1,"w-full","mb-3","border-round-3xl",3,"input"],["style","color: red;",4,"ngIf"],["style","color: orangered;",4,"ngIf"],["header","Agregar Receta",3,"visible","modal","draggable","resizable","visibleChange"],["for","cliente"],["formControlName","receta_id","placeholder","Buscar Receta","optionLabel","nombre","emptyMessage","Cargando recetas...",1,"dropdown-custom",3,"options"],["type","number","min","1","formControlName","cantidad","placeholder","Cantidad","pInputText","",1,"w-full","mb-3","border-round-3xl"],["class","field col-12","style","color: red;",4,"ngIf"],["header","Abonos ",3,"visible","modal","draggable","resizable","visibleChange"],["type","number","min","1","formControlName","valor","pInputText","",1,"w-full","mb-3","border-round-3xl"],["formControlName","metodo_pago_id","selectionLimit","1","limoptionLabel","nombre","placeholder","Metodo de pago","optionLabel","nombre","emptyMessage","Cargando m\xe9todos de pago...","display","chip",1,"multiselect-custom",3,"options"],["header","Facturar ",3,"visible","modal","draggable","resizable","visibleChange"],[1,"field","col-12"],[1,"font-medium","text-2xl","text-500","text-center"],["optionLabel","nombre","emptyMessage","Cargando m\xe9todos de pago...","placeholder","Buscar M\xe9todo de Pago",1,"dropdown-custom",3,"options","autoDisplayFirst","onChange"],["class","grid",3,"formGroup",4,"ngFor","ngForOf"],["class","col-6","style","padding: 0; margin-top: 15px;",4,"ngIf"],[1,"flex",2,"justify-content","space-between"],[1,"flex","align-items-center",2,"gap","10px"],["severity","info","text","Generar Factura electronica"],["formControlName","isFacturaElectronica"],[1,"flex","flex-column","justify-end"],[1,"font-medium","text-2xl","text-500","text-right"],["pButton","","pRipple","","type","submit",1,"w-full","bg-admin","boder-admin","mb-5","border-round-3xl",3,"label","disabled","click"],["severity","error","text","El total de abonos no puede ser mayor al total a pagar",1,"padding"],[4,"ngIf","ngIfElse"],["emptyTd",""],["pButton","","pRipple","","class","p-button","icon","pi pi-plus",3,"click",4,"ngIf"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button",3,"click"],["name",""],[4,"ngIf"],["icon","pi pi-trash","severity","danger",3,"click"],["style","color: orangered; font-size: xx-large;",4,"ngIf"],[2,"color","orangered","font-size","xx-large"],["colspan","1"],["colspan","2"],["colspan","6",2,"color","orangered"],[1,"flex","align-items-center"],[1,"ml-2"],[1,"padding",3,"icon","value"],[1,"flex","align-items-center",2,"display","flex","justify-content","space-between"],[1,"padding",3,"value"],[2,"margin-top","14px"],[2,"color","red"],[2,"color","orangered"],[1,"field","col-12",2,"color","red"],[1,"grid",3,"formGroup"],[1,"col-6","md:col-5"],["type","text","min","1","formControlName","nombre","placeholder","Metodo de pago","id","medioPago","pInputText","","disabled","",1,"w-full","mb-3","border-round-3xl"],[1,"col-4","md:col-5"],["for","monto"],["type","number","min","1","id","monto","formControlName","monto","pInputText","","placeholder","Valor",1,"w-full","mb-3","border-round-3xl",3,"blur"],["class","col-2 mt-4 eliminar-metodo-pago",4,"ngIf"],[1,"col-2","mt-4","eliminar-metodo-pago"],["id","opciones","icon","pi pi-trash","severity","danger",3,"click"],[1,"col-6",2,"padding","0","margin-top","15px"],["severity","error","text","El total ingresado no es igual al total a pagar"]],template:function(a,o){1&a&&(t._UZ(0,"ngx-spinner",0),t.TgZ(1,"div",1)(2,"div",2)(3,"div"),t._UZ(4,"button",3),t.qZA(),t.TgZ(5,"div")(6,"div",4),t._uU(7,"Detalle Ingreso"),t.qZA()()()(),t.TgZ(8,"div",5)(9,"div",6)(10,"div",7)(11,"h3"),t._uU(12,"Detalles de la reserva"),t.qZA(),t.TgZ(13,"div",8)(14,"div",9)(15,"div",10)(16,"p-toolbar")(17,"form",11)(18,"div",12)(19,"div",13)(20,"label"),t._uU(21,"Habitacion"),t.qZA(),t._UZ(22,"input",14),t.qZA(),t.TgZ(23,"div",13)(24,"label"),t._uU(25,"Hu\xe9sped"),t.qZA(),t._UZ(26,"input",15),t.qZA(),t.TgZ(27,"div",13)(28,"label"),t._uU(29,"Check-in"),t.qZA(),t._UZ(30,"input",16),t.qZA(),t.TgZ(31,"div",13)(32,"label"),t._uU(33,"Check-out"),t.qZA(),t._UZ(34,"input",17),t.qZA(),t.TgZ(35,"div",18)(36,"label"),t._uU(37,"Descripci\xf3n"),t.qZA(),t._UZ(38,"textarea",19),t.qZA(),t.TgZ(39,"div",20)(40,"p-splitButton",21),t.NdJ("onClick",function(){return o.submitAll()}),t.qZA()()()(),t.YNc(41,to,1,0,"p-message",22),t.qZA()(),t.TgZ(42,"div")(43,"p-table",23),t.YNc(44,eo,7,0,"ng-template",24),t.YNc(45,no,9,6,"ng-template",25),t.qZA()()(),t.TgZ(46,"div",26)(47,"div",27)(48,"h5"),t._uU(49,"Tarifas"),t.qZA(),t.TgZ(50,"p-table",23),t.YNc(51,lo,8,1,"ng-template",24),t.YNc(52,uo,9,5,"ng-template",25),t.qZA()(),t._UZ(53,"hr"),t.TgZ(54,"div",27)(55,"h5"),t._uU(56,"Productos/Servicios"),t.qZA(),t.TgZ(57,"p-table",23),t.YNc(58,ho,12,1,"ng-template",24),t.YNc(59,fo,17,15,"ng-template",25),t.YNc(60,vo,13,10,"ng-template",28),t.qZA()(),t._UZ(61,"hr"),t.TgZ(62,"div",27)(63,"h5"),t._uU(64,"Recetas"),t.qZA(),t.TgZ(65,"p-table",23),t.YNc(66,Zo,12,1,"ng-template",24),t.YNc(67,Ao,16,14,"ng-template",25),t.YNc(68,Co,12,9,"ng-template",28),t.qZA()(),t._UZ(69,"hr"),t.TgZ(70,"div",27)(71,"h5"),t._uU(72,"Abonos"),t.qZA(),t.TgZ(73,"p-table",23),t.YNc(74,yo,6,1,"ng-template",24),t.YNc(75,Do,7,5,"ng-template",25),t.qZA()()()()()()(),t.TgZ(76,"p-dialog",29),t.NdJ("visibleChange",function(s){return o.tarifaVisible=s}),t.TgZ(77,"div",6)(78,"form",30),t.NdJ("ngSubmit",function(){return o.submitTarifa()}),t.TgZ(79,"div",31)(80,"div",32)(81,"label"),t._uU(82,"Tarifa"),t.qZA(),t.TgZ(83,"p-multiSelect",33),t.YNc(84,ko,6,5,"ng-template",34),t.qZA()(),t.TgZ(85,"div",32),t._UZ(86,"button",35),t.qZA()()()()(),t.TgZ(87,"p-dialog",36),t.NdJ("visibleChange",function(s){return o.productoVisible=s}),t.TgZ(88,"div",6)(89,"form",30),t.NdJ("ngSubmit",function(){return o.submitProducto()}),t.TgZ(90,"div",31)(91,"div",37)(92,"label",38),t._uU(93,"Producto / Servicio"),t.qZA(),t.TgZ(94,"p-dropdown",39),t.NdJ("onChange",function(){return o.validarStock("producto")}),t.YNc(95,wo,8,7,"ng-template",34),t.qZA(),t.YNc(96,Oo,2,1,"div",40),t.qZA(),t.TgZ(97,"div",37)(98,"label"),t._uU(99,"Cantidad"),t.qZA(),t.TgZ(100,"input",41),t.NdJ("input",function(){return o.validarStock("producto")}),t.qZA(),t.YNc(101,Uo,2,0,"div",42),t.YNc(102,Fo,2,0,"div",43),t.qZA(),t.TgZ(103,"div",32),t._UZ(104,"button",35),t.qZA()()()()(),t.TgZ(105,"p-dialog",44),t.NdJ("visibleChange",function(s){return o.recetaVisible=s}),t.TgZ(106,"div",6)(107,"form",30),t.NdJ("ngSubmit",function(){return o.submitReceta()}),t.TgZ(108,"div",31)(109,"div",37)(110,"label",45),t._uU(111,"Receta"),t.qZA(),t.TgZ(112,"p-dropdown",46),t.YNc(113,No,5,4,"ng-template",34),t.qZA(),t.YNc(114,Po,2,1,"div",40),t.qZA(),t.TgZ(115,"div",37)(116,"label"),t._uU(117,"Cantidad"),t.qZA(),t._UZ(118,"input",47),t.YNc(119,Qo,2,0,"div",42),t.YNc(120,Eo,2,0,"div",48),t.qZA(),t.TgZ(121,"div",32),t._UZ(122,"button",35),t.qZA()()()()(),t.TgZ(123,"p-dialog",49),t.NdJ("visibleChange",function(s){return o.abonoVisible=s}),t.TgZ(124,"div",6)(125,"form",30),t.NdJ("ngSubmit",function(){return o.submitAbono()}),t.TgZ(126,"div",31)(127,"div",37)(128,"label"),t._uU(129,"Monto"),t.qZA(),t._UZ(130,"input",50),t.qZA(),t.TgZ(131,"div",37)(132,"label",45),t._uU(133,"Metodo de pago"),t.qZA(),t.TgZ(134,"p-dropdown",51),t.YNc(135,Ho,3,1,"ng-template",34),t.qZA()()(),t.TgZ(136,"div",32),t._UZ(137,"button",35),t.qZA()()()(),t.TgZ(138,"p-dialog",52),t.NdJ("visibleChange",function(s){return o.facturarVisible=s}),t.TgZ(139,"div",6)(140,"div",31)(141,"div",53)(142,"div",54),t._uU(143),t.ALo(144,"number"),t.qZA()(),t.TgZ(145,"div",53)(146,"label"),t._uU(147,"Agregar m\xe9todo de pago"),t.qZA(),t.TgZ(148,"p-dropdown",55),t.NdJ("onChange",function(s){return o.agregarAbonoOcupar(s)}),t.YNc(149,Yo,3,1,"ng-template",34),t.qZA()(),t.TgZ(150,"div",53),t.YNc(151,Bo,13,3,"div",56),t.YNc(152,jo,2,0,"div",57),t._UZ(153,"hr"),t.TgZ(154,"div",58)(155,"div",59),t._UZ(156,"p-message",60),t.TgZ(157,"form",30),t.NdJ("ngSubmit",function(){return o.submitAbono()}),t._UZ(158,"p-inputSwitch",61),t.qZA()(),t.TgZ(159,"div",62)(160,"div",63),t._uU(161),t.ALo(162,"number"),t.qZA(),t.TgZ(163,"div",63),t._uU(164),t.ALo(165,"number"),t.ALo(166,"number"),t.qZA()()()()(),t.TgZ(167,"div",32)(168,"button",64),t.NdJ("click",function(){return o.submitFactura()}),t.qZA()()()()),2&a&&(t.xp6(4),t.Q6J("routerLink","/dashboard/dashboardRooms"),t.xp6(13),t.Q6J("formGroup",o.form),t.xp6(23),t.Q6J("label",2==(null==o.estadoHabitacion?null:o.estadoHabitacion.estado_id)?"Guardar":void 0)("disabled",o.subtotaltotal<=0)("model",o.items),t.xp6(1),t.Q6J("ngIf",o.abonosTotal>o.tarifasTotal),t.xp6(2),t.Q6J("value",o.totales)("tableStyle",t.DdM(87,Go))("rows",8),t.xp6(7),t.Q6J("value",o.dataTarifa)("tableStyle",t.DdM(88,A))("rows",5),t.xp6(7),t.Q6J("value",o.productosAgregados)("tableStyle",t.DdM(89,A))("rows",5),t.xp6(8),t.Q6J("value",o.recetasAgregadas)("tableStyle",t.DdM(90,A))("rows",5),t.xp6(8),t.Q6J("value",o.dataAbonos)("tableStyle",t.DdM(91,A))("rows",5),t.xp6(3),t.Akn(t.DdM(92,tt)),t.Q6J("visible",o.tarifaVisible)("modal",!0)("draggable",!1)("resizable",!1),t.xp6(2),t.Q6J("formGroup",o.formTarifa),t.xp6(5),t.Q6J("options",o.allTarifas),t.xp6(3),t.Q6J("disabled",o.formTarifa.invalid),t.xp6(1),t.Akn(t.DdM(93,$o)),t.Q6J("visible",o.productoVisible)("modal",!0)("draggable",!1)("resizable",!1),t.xp6(2),t.Q6J("formGroup",o.formProducto),t.xp6(5),t.Q6J("options",o.productsData),t.xp6(2),t.Q6J("ngIf",o.formProducto.get("producto_id").errors&&(o.formProducto.get("producto_id").dirty||o.formProducto.get("producto_id").touched)),t.xp6(5),t.Q6J("ngIf",o.formProducto.get("cantidad").hasError("required")),t.xp6(1),t.Q6J("ngIf",o.validacionStock),t.xp6(2),t.Q6J("disabled",o.formProducto.invalid||o.validacionStock),t.xp6(1),t.Akn(t.DdM(94,tt)),t.Q6J("visible",o.recetaVisible)("modal",!0)("draggable",!1)("resizable",!1),t.xp6(2),t.Q6J("formGroup",o.formReceta),t.xp6(5),t.Q6J("options",o.recetasData),t.xp6(2),t.Q6J("ngIf",o.formReceta.get("receta_id").errors&&(o.formReceta.get("receta_id").dirty||o.formReceta.get("receta_id").touched)),t.xp6(5),t.Q6J("ngIf",o.formReceta.get("cantidad").hasError("required")),t.xp6(1),t.Q6J("ngIf",o.validacionStock),t.xp6(2),t.Q6J("disabled",o.formReceta.invalid),t.xp6(1),t.Akn(t.DdM(95,Vo)),t.Q6J("visible",o.abonoVisible)("modal",!0)("draggable",!1)("resizable",!1),t.xp6(2),t.Q6J("formGroup",o.formMetodoPago),t.xp6(9),t.Q6J("options",o.dataMetodosPago),t.xp6(3),t.Q6J("disabled",o.formMetodoPago.invalid),t.xp6(1),t.Akn(t.DdM(96,Ko)),t.Q6J("visible",o.facturarVisible)("modal",!0)("draggable",!1)("resizable",!1),t.xp6(5),t.hij("Total a pagar: $",t.lcZ(144,79,o.total),""),t.xp6(5),t.Q6J("options",o.dataMetodosPago)("autoDisplayFirst",!1),t.xp6(3),t.Q6J("ngForOf",o.formFacturacionMediosPago.controls),t.xp6(1),t.Q6J("ngIf",o.totalMetodosPago!=o.total),t.xp6(5),t.Q6J("formGroup",o.formFacturar),t.xp6(4),t.hij("Total ingresado: $",t.lcZ(162,81,o.totalMetodosPago),""),t.xp6(3),t.hij("Pendiente: $",o.total-o.totalMetodosPago>0?t.lcZ(165,83,o.total-o.totalMetodosPago):t.lcZ(166,85,0),""),t.xp6(4),t.Q6J("label","Pagar")("disabled",o.formFacturacionMediosPago.invalid||o.totalMetodosPago!=o.total))},dependencies:[g.jx,m.sg,m.O5,S.iA,v.Hq,v.zx,l._Y,l.Fj,l.wV,l.JJ,l.JL,l.qQ,b.rH,T.H,O.o,C.o,I.g,x.Lt,y.V,l.sg,l.u,Z.Ro,q.V,M.NU,k.q,W.a,X.Ql,m.JJ,m.rS],styles:["table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-bottom:20px}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px solid #dddddd;text-align:left;padding:8px}th[_ngcontent-%COMP%]{background-color:#f2f2f2}.ordenAdd[_ngcontent-%COMP%]{padding:1%;text-align:right}.padding[_ngcontent-%COMP%]{padding:1%}.expandir[_ngcontent-%COMP%]{width:100%}.table-details[_ngcontent-%COMP%]{padding:10px}"]})}return i})();var et=p(2506);let Xo=(()=>{class i{static#t=this.\u0275fac=function(a){return new(a||i)};static#e=this.\u0275mod=t.oAB({type:i});static#o=this.\u0275inj=t.cJS({imports:[b.Bz.forChild([{path:"",component:Ke,canActivate:[et.a],data:{permissions:["dashboard.habitacion"]}},{path:":idHabitacion/ocupar",component:Wo,canActivate:[et.a],data:{permissions:["dashboard.habitacion"]}}]),b.Bz]})}return i})();var ti=p(2169),ei=p(1480),oi=p(5617);let ii=(()=>{class i{static#t=this.\u0275fac=function(a){return new(a||i)};static#e=this.\u0275mod=t.oAB({type:i});static#o=this.\u0275inj=t.cJS({providers:[{provide:st.TP,useClass:lt.n,multi:!0},R.y,m.uU],imports:[N.Q,m.ez,S.U$,ot.O,l.u5,J.$9,v.hJ,T.T,it.EV,O.V,at.Xt,C.j,I.A,x.kW,nt.cc,At,rt.L$,y.S,ct.ii.forRoot(),l.UX,Z.ef,dt.U,Xo,zt,q.W,U._8,M.q4,ti.o,ei.Gg,k.O,W.l,x.kW,X.Iu,oi.ClientesModule]})}return i})()}}]);