"use strict";(self.webpackChunksakai_ng=self.webpackChunksakai_ng||[]).push([[113],{7113:(x,f,n)=>{n.r(f),n.d(f,{RecipesModule:()=>ye});var g=n(177),c=n(4341),u=n(3386),b=n(5493),m=n(1141),h=n(563),R=n(9998),G=n(1830),y=n(4714),P=n(2242),C=n(1305),I=n(9883),B=n(494),$=n(981),k=n(1570),F=n(1626),M=n(635),w=n(4058),_=n(3091),T=n(5989),Y=n(8032),p=n.n(Y),e=n(540),L=n(306);let E=(()=>{class o{constructor(t){this.httpClient=t,this.baseUrl=L.T.url,this.endpointListar="/recetaListar",this.endpointRecipesGet="/recetaEditar/",this.endpointRecipesUpdate="/recetaActualizar",this.endpointRecipesCreate="/recetaCrear",this.endpointDelete="/recetaEliminar",this.endpointProductsGet="/getRecetaProductos/",this.endpointProductsCreate="/agregarProductosReceta",this.endpointAllProductsGet="/getAllProductosByRecetas/",this.endpointTaxesGet="/getRecetaCrearImpuesto/",this.endpointTaxesByIdGet="/getImpuestoReceta/",this.endpointTaxesCreate="/agregarImpuestoReceta"}getAll(t,s="",i=1){const r={headers:new F.Lr({"Content-Type":"application/json"})};return this.httpClient.post(`${this.baseUrl+this.endpointListar}?per_page=${t}&page=${i}&search=${s}`,r)}getRecipes(t){return this.httpClient.get(`${this.baseUrl+this.endpointRecipesGet+t}`)}createRecipes(t){return this.httpClient.post(`${this.baseUrl+this.endpointRecipesCreate}`,t)}updateRecipes(t){return this.httpClient.post(`${this.baseUrl+this.endpointRecipesUpdate}`,t)}deleteRecipes(t){return this.httpClient.post(`${this.baseUrl+this.endpointDelete}`,t)}getProducts(t){return this.httpClient.get(`${this.baseUrl+this.endpointProductsGet+t}`)}getProductsRecetas(t,s=1,i=10,r=""){return this.httpClient.get(`${this.baseUrl+this.endpointAllProductsGet+t}?page=${s}&per_page=${i}${r?`&search=${r}`:""}`)}createRecipesProducts(t){return this.httpClient.post(`${this.baseUrl+this.endpointProductsCreate}`,t)}getTaxes(t){return this.httpClient.get(`${this.baseUrl+this.endpointTaxesGet+t}`)}getRecipeTaxes(t,s=1,i=10,r=""){return this.httpClient.get(`${this.baseUrl+this.endpointTaxesByIdGet+t}?page=${s}&per_page=${i}${r?`&search=${r}`:""}`)}createTaxes(t){return this.httpClient.post(`${this.baseUrl+this.endpointTaxesCreate}`,t)}static{this.\u0275fac=function(s){return new(s||o)(e.KVO(F.Qq))}}static{this.\u0275prov=e.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();var v=n(6554),A=n(5779),V=n(7927);function X(o,l){if(1&o){const t=e.RV6();e.j41(0,"button",32),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.openModal())}),e.k0s()}}function U(o,l){if(1&o){const t=e.RV6();e.j41(0,"div",33),e.nrm(1,"span"),e.j41(2,"span",34)(3,"form",35)(4,"div",36)(5,"input",37),e.bIt("keyup.enter",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.buscarPorTecla(i))})("input",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.searchInput())}),e.k0s(),e.j41(6,"button",38),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.search())}),e.k0s()()()()()}if(2&o){const t=e.XpG();e.R7$(3),e.Y8G("formGroup",t.formSearch)}}function J(o,l){1&o&&(e.j41(0,"tr")(1,"th"),e.EFF(2,"Hotel"),e.k0s(),e.j41(3,"th"),e.EFF(4,"Nombre"),e.k0s(),e.j41(5,"th"),e.EFF(6,"Precio"),e.k0s(),e.j41(7,"th"),e.EFF(8,"Descripci\xf3n"),e.k0s(),e.j41(9,"th"),e.EFF(10,"Acciones"),e.k0s()())}function O(o,l){if(1&o){const t=e.RV6();e.j41(0,"p-button",43),e.bIt("click",function(){e.eBV(t);const i=e.XpG().$implicit,r=e.XpG();return e.Njj(r.editRecipes(i.id))}),e.k0s()}}function z(o,l){if(1&o){const t=e.RV6();e.j41(0,"p-button",44),e.bIt("click",function(){e.eBV(t);const i=e.XpG().$implicit,r=e.XpG();return e.Njj(r.redirectToRecipesProducts(i.id))}),e.k0s()}}function H(o,l){if(1&o){const t=e.RV6();e.j41(0,"p-button",45),e.bIt("click",function(){e.eBV(t);const i=e.XpG().$implicit,r=e.XpG();return e.Njj(r.confirmDelete(i.id))}),e.k0s()}}function K(o,l){if(1&o&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.nI1(7,"currencyFormat"),e.k0s(),e.j41(8,"td"),e.EFF(9),e.k0s(),e.j41(10,"td",39),e.DNE(11,O,1,0,"p-button",40),e.DNE(12,z,1,0,"p-button",41),e.DNE(13,H,1,0,"p-button",42),e.k0s()()),2&o){const t=l.$implicit,s=e.XpG();e.R7$(2),e.JRh(t.hotel.nombre),e.R7$(2),e.SpI("",t.nombre," "),e.R7$(2),e.JRh(e.bMT(7,7,t.precio)),e.R7$(3),e.JRh(t.descripcion),e.R7$(2),e.Y8G("ngIf",s.permisoActualizar),e.R7$(1),e.Y8G("ngIf",s.permisoActualizar),e.R7$(1),e.Y8G("ngIf",s.permisoEliminar)}}function Z(o,l){1&o&&(e.j41(0,"tr")(1,"td",46),e.EFF(2,"Cargando informacion porfavor espere ..."),e.k0s()())}function W(o,l){1&o&&(e.j41(0,"div",47),e.EFF(1,"Campo requerido"),e.k0s())}function Q(o,l){1&o&&(e.j41(0,"div",47),e.EFF(1,"Campo requerido"),e.k0s())}function q(o,l){1&o&&(e.j41(0,"div",47),e.EFF(1,"M\xe1ximo 50 caracteres"),e.k0s())}function ee(o,l){1&o&&(e.j41(0,"div",47),e.EFF(1,"Campo requerido"),e.k0s())}function te(o,l){1&o&&(e.j41(0,"div",47),e.EFF(1,"M\xe1ximo 500 caracteres"),e.k0s())}function ie(o,l){1&o&&(e.j41(0,"div",47),e.EFF(1,"Campo requerido"),e.k0s())}function se(o,l){1&o&&(e.j41(0,"div",47),e.EFF(1,"Campo requerido"),e.k0s())}function oe(o,l){1&o&&(e.j41(0,"div",47),e.EFF(1,"M\xe1ximo 50 caracteres"),e.k0s())}function re(o,l){1&o&&(e.j41(0,"div",47),e.EFF(1,"Campo requerido"),e.k0s())}function ae(o,l){1&o&&(e.j41(0,"div",47),e.EFF(1,"M\xe1ximo 500 caracteres"),e.k0s())}const ne=function(){return{"min-width":"50rem"}},ce=function(){return["nombre","Hotel","acciones"]},D=function(){return{width:"95vw"}};let le=(()=>{class o{constructor(t,s,i,r){this.recipesService=t,this.FB=s,this.spinner=i,this.router=r,this.permisoCrear=T.u.hasPermission(["gestionInventario.recetas.crear"]),this.permisoActualizar=T.u.hasPermission(["gestionInventario.recetas.actualizar"]),this.permisoEliminar=T.u.hasPermission(["gestionInventario.recetas.eliminar"]),this.loadingTable=!1,this.visibleModalRecipes=!0,this.visibleModalRecipesEditar=!1,this.imagen=null,this.idEditando=0,this.pageCount=10,this.first=0,this.rows=8,this.pageActual=1,this.ultimaPage=1,this.disablePageLeft=!1,this.disablePageRight=!1}ngOnInit(){this.buildForm(),this.getIndex(),this.visibleModalRecipes=!1}redirectToRecipesProducts(t){this.router.navigate(["/dashboard/admin/recipes/"+t+"/recipes-products"])}openModal(){this.onCreate()}onCreate(){this.formCreateRecipes.reset(),this.recipesService.getRecipes(0).subscribe(t=>{this.hotel=t.hotel,this.nombre=t.nombre,this.recipesDescripcion=t.descripcion,this.precio=t.precio,this.visibleModalRecipes=!0},t=>{console.log("Error: ",t)})}newRecipes(){this.spinner.show();let t=this.formCreateRecipes.value;t.hotel_id=t.hotel_id.id,t.estado=1,this.recipesService.createRecipes(t).subscribe(s=>{this.spinner.hide(),this.imagen=null,this.visibleModalRecipes=!1,"success"==s.code?(p().fire({title:"\xc9xito",text:"Receta creada exitosamente.",icon:"success"}),this.getIndex()):p().fire({title:"Error",text:"Error al crear la receta.",icon:"error"})},s=>{console.log("Error: ",s)})}submitCreate(){this.formCreateRecipes.valid?this.newRecipes():this.formCreateRecipes.markAllAsTouched()}editRecipes(t){this.idEditando=t,this.spinner.show(),this.recipesService.getRecipes(t).subscribe(s=>{this.spinner.hide(),this.hotel=s.hotel;const i=s.receta;i&&(this.nombre=i.nombre,this.recipesDescripcion=i.descripcion,this.precio=parseFloat(i.precio),this.formEditRecipes.setValue({hotel_id:this.hotel,precio:this.precio,descripcion:this.recipesDescripcion,nombre:this.nombre})),setTimeout(()=>{this.visibleModalRecipesEditar=!0},1)},s=>{console.log("Error: ",s)})}updateRecipe(){this.spinner.show();let t=this.formEditRecipes.value;t.hotel_id=t.hotel_id.id,t.nombre=t.nombre,t.descripcion=t.descripcion,t.precio=t.precio,t.id=this.idEditando,t.estado=1,this.recipesService.updateRecipes(t).subscribe(s=>{this.spinner.hide(),this.imagen=null,this.visibleModalRecipesEditar=!1,"success"==s.code?(p().fire({title:"\xc9xito",text:"Receta actualizado exitosamente.",icon:"success"}),this.getIndex()):p().fire({title:"Error",text:"Error al actualizar la receta.",icon:"error"})},s=>{console.log("Error: ",s)})}submitUpdate(){this.formEditRecipes.valid&&this.updateRecipe()}confirmDelete(t){p().fire({title:"\xbfEstas seguro que deseas eliminar esta receta?",text:"Ten cuidado esta acci\xf3n no se prodr\xe1 reversar",icon:"warning",showCancelButton:!0,confirmButtonText:"S\xed, Confirmar",cancelButtonText:"Cancelar"}).then(s=>{s.isConfirmed&&(this.spinner.show(),this.recipesService.deleteRecipes({id:t}).subscribe(i=>{this.spinner.hide(),"success"==i.code?(p().fire({title:"Exito",text:"Receta eliminada exitosamente.",icon:"success"}),this.getIndex()):p().fire({title:"Error",text:"Error al eliminar la receta.",icon:"error"})},i=>{console.log("Error: ",i)}))})}buildForm(){this.formSearch=this.FB.group({search:["",[]]}),this.formCreateRecipes=this.FB.group({hotel_id:["",[c.k0.required]],nombre:["",[c.k0.required]],precio:["",[c.k0.required]],descripcion:["",[c.k0.maxLength(500)]]}),this.formEditRecipes=this.FB.group({hotel_id:["",[c.k0.required]],nombre:["",[c.k0.required,c.k0.maxLength(50)]],precio:["",[c.k0.required]],descripcion:["",[c.k0.maxLength(500)]]})}getIndex(t="",s=this.pageCount,i=1){this.spinner.show(),this.loadingTable=!0,this.recipesService.getAll(s,t,i).subscribe(r=>{this.loadingTable=!1,this.recipesData=r.data,this.ultimaPage=r.last_page,this.countRegisters=r.total,this.ultimaPage=r.last_page,r.total>s&&(this.disablePageRight=!0),this.validatePage(),this.spinner.hide()},r=>{console.log("Error: ",r)})}onRemove(t){this.imagen=null}onSelect(t){this.imagen=t.currentFiles[0]}onPage(t){this.pageCount=t.rows,this.getIndex("",this.pageCount)}searchInput(){let t=this.formSearch.get("search").value;this.pageActual=1,""==t&&this.getIndex(t)}search(){let t=this.formSearch.get("search").value;this.getIndex(t)}onPageChange(t){this.first=t.first,this.rows=t.rows}leftTable(){this.pageActual=this.pageActual-1,this.getIndex("",this.pageCount,this.pageActual),this.validatePage()}rightTable(){this.pageActual=this.pageActual+1,this.getIndex("",this.pageCount,this.pageActual),this.validatePage()}validatePage(){1==this.pageActual&&(this.disablePageLeft=!1),this.pageActual>1&&(this.disablePageLeft=!0),this.ultimaPage==this.pageActual&&(this.disablePageRight=!1),this.ultimaPage>this.pageActual&&(this.disablePageRight=!0)}buscarPorTecla(t){"Enter"==t.code&&this.search()}static{this.\u0275fac=function(s){return new(s||o)(e.rXU(E),e.rXU(c.ok),e.rXU(v.ex),e.rXU(_.Ix))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-recipes"]],decls:78,vars:42,consts:[["type","ball-scale-multiple","size","large","bdColor","rgba(192,192,192,0.8)","template","<img src='assets/loading/cargando.gif' />"],[1,"surface-section","px-4","py-5","md:px-6","lg:px-8"],[1,"flex","align-items-start","flex-column","lg:justify-content-between","lg:flex-row"],[1,"font-medium","text-3xl","text-900"],[1,"mt-3","lg:mt-0"],["pButton","","pRipple","","label","Crear","class","p-button-outlined mr-2","icon","",3,"click",4,"ngIf"],[1,"grid","mt-3"],[1,"col-12"],[1,"card","px-3","py-3"],["responsiveLayout","scroll","selectionMode","multiple","dataKey","usuario",3,"value","tableStyle","loading","rows","globalFilterFields","rowHover","onPage"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","loadingbody"],[2,"text-align","center"],[1,"p-buttonset"],["pButton","","pRipple","","label","","icon","pi pi-arrow-left",3,"disabled","click"],["pButton","","pRipple","",3,"label"],["pButton","","pRipple","","label","","icon","pi pi-arrow-right",3,"disabled","click"],["header","Crear Receta",3,"visible","modal","draggable","resizable","visibleChange"],[3,"formGroup","ngSubmit"],[1,"p-fluid","p-formgrid","grid"],[1,"field","col-12","md:col-6"],["optionLabel","nombre","formControlName","hotel_id",3,"options"],["style","color: red;",4,"ngIf"],["type","text","pInputText","","formControlName","nombre",1,"w-full","mb-3","border-round-3xl"],["formControlName","precio","currency","COP","locale","es-CO","minFractionDigits","0","maxFractionDigits","0"],[1,"field","col-12","md:col-12"],["type","text","pInputTextarea","","rows","3","cols","20","formControlName","descripcion"],["pButton","","pRipple","","label","Crear Receta","icon","","type","submit",1,"w-full","bg-admin","boder-admin","mb-5","border-round-3xl",3,"disabled"],["header","Editar Recetas",3,"visible","modal","draggable","resizable","visibleChange"],["pButton","","pRipple","","label","Editar Receta","icon","","type","submit",1,"w-full","bg-admin","boder-admin","mb-5","border-round-3xl",3,"disabled"],["pButton","","pRipple","","label","Crear","icon","",1,"p-button-outlined","mr-2",3,"click"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[3,"formGroup"],[1,"p-inputgroup"],["formControlName","search","pInputText","","type","text","placeholder","Buscar...",1,"w-full","sm:w-auto",3,"keyup.enter","input"],["type","button","pButton","","pRipple","",1,"pi","pi-search",3,"click"],[1,"flex","gap-2"],["icon","pi pi-pencil","severity","info",3,"click",4,"ngIf"],["icon","pi pi-cog","severity","info",3,"click",4,"ngIf"],["icon","pi pi-trash","severity","danger",3,"click",4,"ngIf"],["icon","pi pi-pencil","severity","info",3,"click"],["icon","pi pi-cog","severity","info",3,"click"],["icon","pi pi-trash","severity","danger",3,"click"],["colspan","8"],[2,"color","red"]],template:function(s,i){1&s&&(e.nrm(0,"ngx-spinner",0),e.j41(1,"div",1)(2,"div",2)(3,"div")(4,"div",3),e.EFF(5,"Recetas"),e.k0s()(),e.j41(6,"div",4),e.DNE(7,X,1,0,"button",5),e.k0s()()(),e.j41(8,"div",6)(9,"div",7)(10,"div",8)(11,"p-table",9),e.bIt("onPage",function(a){return i.onPage(a)}),e.DNE(12,U,7,1,"ng-template",10),e.DNE(13,J,11,0,"ng-template",11),e.DNE(14,K,14,9,"ng-template",12),e.DNE(15,Z,3,0,"ng-template",13),e.k0s(),e.nrm(16,"br"),e.j41(17,"div",14)(18,"span",15)(19,"button",16),e.bIt("click",function(){return i.leftTable()}),e.k0s(),e.nrm(20,"button",17),e.j41(21,"button",18),e.bIt("click",function(){return i.rightTable()}),e.k0s()()()()()(),e.j41(22,"p-dialog",19),e.bIt("visibleChange",function(a){return i.visibleModalRecipes=a}),e.j41(23,"div",7)(24,"form",20),e.bIt("ngSubmit",function(){return i.submitCreate()}),e.j41(25,"div",21)(26,"div",22)(27,"label"),e.EFF(28,"Hotel"),e.k0s(),e.nrm(29,"p-dropdown",23),e.DNE(30,W,2,0,"div",24),e.k0s(),e.j41(31,"div",22)(32,"label"),e.EFF(33,"Nombre"),e.k0s(),e.nrm(34,"input",25),e.DNE(35,Q,2,0,"div",24),e.DNE(36,q,2,0,"div",24),e.k0s(),e.j41(37,"div",22)(38,"label"),e.EFF(39,"Precio"),e.k0s(),e.nrm(40,"p-inputNumber",26),e.DNE(41,ee,2,0,"div",24),e.k0s(),e.j41(42,"div",27)(43,"label"),e.EFF(44,"Descripci\xf3n"),e.k0s(),e.nrm(45,"textarea",28),e.DNE(46,te,2,0,"div",24),e.k0s(),e.j41(47,"div",27),e.nrm(48,"button",29),e.k0s()(),e.nrm(49,"br"),e.k0s()()(),e.j41(50,"p-dialog",30),e.bIt("visibleChange",function(a){return i.visibleModalRecipesEditar=a}),e.j41(51,"div",7)(52,"form",20),e.bIt("ngSubmit",function(){return i.submitUpdate()}),e.j41(53,"div",21)(54,"div",22)(55,"label"),e.EFF(56,"Hotel"),e.k0s(),e.nrm(57,"p-dropdown",23),e.DNE(58,ie,2,0,"div",24),e.k0s(),e.j41(59,"div",22)(60,"label"),e.EFF(61,"Nombre"),e.k0s(),e.nrm(62,"input",25),e.DNE(63,se,2,0,"div",24),e.DNE(64,oe,2,0,"div",24),e.k0s(),e.j41(65,"div",22)(66,"label"),e.EFF(67,"Precio"),e.k0s(),e.nrm(68,"p-inputNumber",26),e.DNE(69,re,2,0,"div",24),e.k0s(),e.j41(70,"div",27)(71,"label"),e.EFF(72,"Descripci\xf3n"),e.k0s(),e.nrm(73,"textarea",28),e.DNE(74,ae,2,0,"div",24),e.k0s(),e.j41(75,"div",27),e.nrm(76,"button",31),e.k0s()(),e.nrm(77,"br"),e.k0s()()()),2&s&&(e.R7$(7),e.Y8G("ngIf",i.permisoCrear),e.R7$(4),e.Y8G("value",i.recipesData)("tableStyle",e.lJ4(38,ne))("loading",i.loadingTable)("rows",8)("globalFilterFields",e.lJ4(39,ce))("rowHover",!0),e.R7$(8),e.Y8G("disabled",!i.disablePageLeft),e.R7$(1),e.Y8G("label",i.pageActual),e.R7$(1),e.Y8G("disabled",!i.disablePageRight),e.R7$(1),e.Aen(e.lJ4(40,D)),e.Y8G("visible",i.visibleModalRecipes)("modal",!0)("draggable",!1)("resizable",!1),e.R7$(2),e.Y8G("formGroup",i.formCreateRecipes),e.R7$(5),e.Y8G("options",i.hotel),e.R7$(1),e.Y8G("ngIf",i.formCreateRecipes.get("hotel_id").hasError("required")),e.R7$(5),e.Y8G("ngIf",i.formCreateRecipes.get("nombre").hasError("required")),e.R7$(1),e.Y8G("ngIf",i.formCreateRecipes.get("nombre").hasError("maxlength")),e.R7$(5),e.Y8G("ngIf",i.formCreateRecipes.get("precio").hasError("required")),e.R7$(5),e.Y8G("ngIf",i.formCreateRecipes.get("descripcion").hasError("maxlength")),e.R7$(2),e.Y8G("disabled",i.formCreateRecipes.invalid),e.R7$(2),e.Aen(e.lJ4(41,D)),e.Y8G("visible",i.visibleModalRecipesEditar)("modal",!0)("draggable",!1)("resizable",!1),e.R7$(2),e.Y8G("formGroup",i.formEditRecipes),e.R7$(5),e.Y8G("options",i.hotel),e.R7$(1),e.Y8G("ngIf",i.formEditRecipes.get("hotel_id").hasError("required")),e.R7$(5),e.Y8G("ngIf",i.formEditRecipes.get("nombre").hasError("required")),e.R7$(1),e.Y8G("ngIf",i.formEditRecipes.get("nombre").hasError("maxlength")),e.R7$(5),e.Y8G("ngIf",i.formEditRecipes.get("precio").hasError("required")),e.R7$(5),e.Y8G("ngIf",i.formEditRecipes.get("descripcion").hasError("maxlength")),e.R7$(2),e.Y8G("disabled",i.formEditRecipes.invalid))},dependencies:[g.bT,u.XI,A.Ei,m._f,m.$n,c.qT,c.me,c.BC,c.cb,h.n,P.S,C.Z,I.ms,$.YI,k.l,c.j4,c.JD,v.et,V.l],styles:["svg[_ngcontent-%COMP%]{width:45%}"]})}}return o})();var j=n(4945);function pe(o,l){if(1&o){const t=e.RV6();e.j41(0,"div",48),e.nrm(1,"span"),e.j41(2,"span",49)(3,"form",7)(4,"div",50)(5,"input",51),e.bIt("keyup.enter",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.buscarPorTeclaProductos(i))}),e.k0s(),e.j41(6,"button",52),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.searchProductos())}),e.k0s()()()()()}if(2&o){const t=e.XpG();e.R7$(3),e.Y8G("formGroup",t.formSearch)}}function de(o,l){1&o&&(e.j41(0,"tr")(1,"th"),e.EFF(2,"Nombre del Producto"),e.k0s(),e.j41(3,"th"),e.EFF(4,"Medida"),e.k0s(),e.j41(5,"th"),e.EFF(6,"Cantidad"),e.k0s(),e.j41(7,"th"),e.EFF(8,"Cantidad Limitada"),e.k0s(),e.j41(9,"th"),e.EFF(10,"Descripci\xf3n"),e.k0s(),e.j41(11,"th"),e.EFF(12,"Acciones"),e.k0s()())}function ue(o,l){if(1&o){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td"),e.EFF(10),e.k0s(),e.j41(11,"td")(12,"p-button",53),e.bIt("click",function(){const r=e.eBV(t).$implicit,a=e.XpG();return e.Njj(a.quitarProducto(r))}),e.k0s()()()}if(2&o){const t=l.$implicit;e.R7$(2),e.JRh(t.nombre),e.R7$(2),e.JRh(null==t?null:t.medida),e.R7$(2),e.JRh(t.cantidad),e.R7$(2),e.JRh(1==(null==t?null:t.sin_limite_cantidad)?"Si":"No"),e.R7$(2),e.JRh(t.descripcion)}}function me(o,l){1&o&&(e.j41(0,"tr")(1,"td",54),e.EFF(2,"Cargando informacion porfavor espere ..."),e.k0s()())}function he(o,l){if(1&o){const t=e.RV6();e.j41(0,"div",48),e.nrm(1,"span"),e.j41(2,"span",49)(3,"form",7)(4,"div",50)(5,"input",51),e.bIt("keyup.enter",function(i){e.eBV(t);const r=e.XpG();return e.Njj(r.buscarPorTeclaImpuestos(i))}),e.k0s(),e.j41(6,"button",52),e.bIt("click",function(){e.eBV(t);const i=e.XpG();return e.Njj(i.searchImpuestos())}),e.k0s()()()()()}if(2&o){const t=e.XpG();e.R7$(3),e.Y8G("formGroup",t.formSearch)}}function ge(o,l){1&o&&(e.j41(0,"tr")(1,"th"),e.EFF(2,"Nombre"),e.k0s(),e.j41(3,"th"),e.EFF(4,"Porcentaje"),e.k0s(),e.j41(5,"th"),e.EFF(6,"Acciones"),e.k0s()())}function fe(o,l){if(1&o){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td")(6,"p-button",53),e.bIt("click",function(){const r=e.eBV(t).$implicit,a=e.XpG();return e.Njj(a.quitarImpuesto(r))}),e.k0s()()()}if(2&o){const t=l.$implicit;e.R7$(2),e.JRh(t.nombre),e.R7$(2),e.JRh(t.porcentaje)}}function be(o,l){1&o&&(e.j41(0,"tr")(1,"td",54),e.EFF(2,"Cargando informacion porfavor espere ..."),e.k0s()())}function _e(o,l){if(1&o&&(e.j41(0,"div",55)(1,"span",56),e.EFF(2),e.k0s()()),2&o){const t=l.$implicit;e.R7$(2),e.JRh(t.nombre)}}function Re(o,l){1&o&&(e.j41(0,"div",57),e.EFF(1,"Campo requerido"),e.k0s())}function ve(o,l){1&o&&(e.j41(0,"div",57),e.EFF(1,"Campo requerido "),e.k0s())}function Pe(o,l){1&o&&(e.j41(0,"div",57),e.EFF(1,"La cantidad debe ser al menos 1."),e.k0s())}function Ce(o,l){if(1&o&&(e.j41(0,"div",55)(1,"span",56),e.EFF(2),e.k0s()()),2&o){const t=l.$implicit;e.R7$(2),e.JRh(t.nombre)}}function Ie(o,l){1&o&&(e.j41(0,"div",57),e.EFF(1,"Campo requerido"),e.k0s())}const N=function(){return{"min-width":"50rem"}},ke=function(){return{width:"60vw"}},Fe=function(){return{width:"95vw"}};let Te=(()=>{class o{constructor(t,s,i,r,a,d){this.recipesService=t,this.FB=s,this.spinner=i,this.router=r,this.route=a,this.cdr=d,this.productsData=[],this.loadingTable=!1,this.productoVisible=!1,this.productosSeleccionados=[],this.displayModalProducts=!1,this.displayModalTaxes=!1,this.taxesData=[],this.impuestosSeleccionados=[],this.pageActualProductos=1,this.pageCountProductos=10,this.disablePageLeftProductos=!1,this.disablePageRightProductos=!1,this.pageActualImpuestos=1,this.pageCountImpuestos=10,this.disablePageLeftImpuestos=!1,this.disablePageRightImpuestos=!1}ngOnInit(){this.spinner.hide(),this.dataRecipesDetail=[],this.buildForm(),this.recetaId=parseFloat(this.route.snapshot.paramMap.get("id")),this.getProductsAndRecipesList(this.recetaId),this.getProductsForRecipe(this.recetaId),this.getTaxesAndRecipesList(this.recetaId),this.getTaxesById(this.recetaId)}buildForm(){this.formSearch=this.FB.group({search:["",[]]}),this.form=this.FB.group({nombreReceta:[this.dataRecipesDetail?.detalleRecipes?.recipes?.nombre,[]],descripcion:[this.dataRecipesDetail?.detalleRecipes?.descripcion,[]],precio:[this.dataRecipesDetail?.detalleRecipes?.precio,[]]}),this.formImpuesto=this.FB.group({impuesto_id:[null,c.k0.required],nombre:[""],porcentaje:[""]}),this.form.get("nombreReceta").disable(),this.form.get("descripcion").disable(),this.form.get("precio").disable(),this.formProducto=this.FB.group({producto_id:[null,[c.k0.required]],cantidad:[1,[c.k0.required,c.k0.min(1)]]}),this.formTaxes=this.FB.group({impuesto_id:[null,[c.k0.required]]})}openModal(){this.displayModalProducts=!0}closeModal(){this.displayModalProducts=!1}getProductsAndRecipesList(t){this.loadingTable=!0,this.recipesService.getProducts(t).subscribe(s=>{this.productsData=s.productos,this.loadingTable=!1;const i=Number(s.receta.precio).toLocaleString("es-CO");this.form.get("nombreReceta").setValue(s.receta.nombre),this.form.get("precio").setValue(`$${i}`),this.form.get("descripcion").setValue(s.receta.descripcion)},s=>{console.error(s),this.loadingTable=!1})}onCantidadChange(t){this.formProducto.controls.cantidad.setValue(t.target.value)}agregarProductos(){const t=this.formProducto.get("producto_id").value,s=this.formProducto.get("cantidad").value;if(t){this.productosGuardados=this.productosGuardados||[],this.productosSeleccionados=this.productosSeleccionados||[],t.cantidad=Number(s);const i=this.productosParaMostrar.find(r=>r.id===t.id);i?i.cantidad+=Number(s):this.productosParaMostrar.push({id:t.id,nombre:t.nombre,descripcion:t.descripcion,cantidad:Number(s),medida:t.medida.nombre,sin_limite_cantidad:t.sin_limite_cantidad}),this.cdr.detectChanges(),this.formProducto.reset(),this.closeModal()}else console.error("Por favor, selecciona un producto antes de agregar.")}getProductsForRecipe(t,s=1,i=this.pageCountProductos,r=""){this.loadingTable=!0,this.recipesService.getProductsRecetas(t,s,i,r).subscribe(a=>{a&&a.receta&&a.receta.data&&a.receta.data.length>0?(this.productosGuardados=a.receta.data.map(d=>({id:d.productos.id,nombre:d.productos.nombre,cantidad:d.cantidad,descripcion:d.productos.descripcion,medida:d.productos.medida.nombre,sin_limite_cantidad:d.productos.sin_limite_cantidad})),this.pageActualProductos=a.receta.current_page,this.ultimaPageProductos=a.receta.last_page,this.validatePageProductos()):this.productosGuardados=[],this.productosParaMostrar=[...this.productosGuardados,...this.productosSeleccionados],this.loadingTable=!1},a=>{console.error(a),this.loadingTable=!1})}sendProducts(){this.spinner.show();const t=this.productosParaMostrar;if(Array.isArray(t)){let s={receta_id:this.recetaId,producto:t.map(i=>({producto_id:i.producto_id?i.producto_id:i.id,cantidad:String(i.cantidad)}))};this.recipesService.createRecipesProducts(s).subscribe(i=>{this.spinner.hide(),"success"==i.code&&p().fire({title:"Exito",text:"Los productos se han guardado correctamente.",icon:"success"})},i=>{this.spinner.hide(),console.error(i),p().fire({title:"Error",text:"Hubo un error al guardar los productos.",icon:"error"})})}else p().fire({title:"Error",text:"Hubo un error al guardar los productos.",icon:"error"})}quitarProducto(t){let s=this.productosSeleccionados.findIndex(i=>i===t);-1!==s?this.productosSeleccionados.splice(s,1):(s=this.productosGuardados.findIndex(i=>i===t),-1!==s&&this.productosGuardados.splice(s,1)),this.productosParaMostrar=[...this.productosGuardados,...this.productosSeleccionados],this.cdr.detectChanges()}openModalTaxes(){this.displayModalTaxes=!0}closeModalTaxes(){this.displayModalTaxes=!1}getTaxesAndRecipesList(t){this.loadingTable=!0,this.recipesService.getTaxes(t).subscribe(s=>{this.taxesData=s.impuesto,this.loadingTable=!1},s=>{console.error(s),this.loadingTable=!1})}agregarImpuestos(){const t=this.formImpuesto.get("impuesto_id").value.id,s=this.taxesData.find(i=>i.id===t);s?(this.impuestosGuardados=this.impuestosGuardados||[],this.impuestosSeleccionados=this.impuestosSeleccionados||[],this.impuestosSeleccionados.push({impuesto_id:s.id,nombre:s.nombre,porcentaje:Number(s.porcentaje)}),this.impuestosParaMostrar=[...this.impuestosGuardados,...this.impuestosSeleccionados],this.cdr.detectChanges(),this.formImpuesto.get("impuesto_id").setValue(null),this.closeModalTaxes()):console.error("Por favor, selecciona un impuesto antes de agregar.")}getTaxesById(t,s=1,i=this.pageCountImpuestos,r=""){this.loadingTable=!0,this.recipesService.getRecipeTaxes(t,s,i,r).subscribe(a=>{a&&a.receta_impuesto&&a.receta_impuesto.data&&a.receta_impuesto.data.length>0?(this.impuestosGuardados=a.receta_impuesto.data.map(d=>({id:d.impuesto.id,nombre:d.impuesto.nombre,porcentaje:d.impuesto.porcentaje})),this.pageActualImpuestos=a.receta_impuesto.current_page,this.ultimaPageImpuestos=a.receta_impuesto.last_page,this.validatePageImpuestos()):this.impuestosGuardados=[],this.impuestosParaMostrar=[...this.impuestosGuardados,...this.impuestosSeleccionados],this.loadingTable=!1},a=>{console.error(a),this.loadingTable=!1})}sendTaxes(){if(Array.isArray(this.impuestosSeleccionados)){let t={receta_id:this.recetaId,impuestos:Array.isArray(this.impuestosSeleccionados)?this.impuestosSeleccionados.map(s=>({impuesto_id:s.impuesto_id})):[]};this.recipesService.createTaxes(t).subscribe(s=>{s.val&&this.getTaxesById(this.recetaId)},s=>{console.error(s),p().fire({title:"Error",text:"Hubo un error al guardar los impuestos.",icon:"error"})})}else p().fire({title:"Error",text:"Por favor, agrega al menos un impuesto a la receta antes de guardar.",icon:"error"});p().fire({title:"Exito",text:"Los impuestos se han guardado correctamente.",icon:"success"})}quitarTaxes(t){let s=this.impuestosSeleccionados.findIndex(i=>i===t);-1!==s?this.impuestosSeleccionados.splice(s,1):(s=this.impuestosGuardados.findIndex(i=>i===t),-1!==s&&this.impuestosGuardados.splice(s,1)),this.impuestosParaMostrar=[...this.impuestosGuardados,...this.impuestosSeleccionados],this.cdr.detectChanges()}searchInputProductos(){let t=this.formSearch.get("search").value;this.pageActualProductos=1,""==t&&this.getProductsForRecipe(this.recetaId,this.pageActualProductos,this.pageCountProductos,t)}searchProductos(){let t=this.formSearch.get("search").value;this.pageActualProductos=1,this.getProductsForRecipe(this.recetaId,this.pageActualProductos,this.pageCountProductos,t)}onPageProductos(t){this.pageCountProductos=t.rows,this.getProductsForRecipe(this.recetaId,this.pageActualProductos,this.pageCountProductos,this.formSearch.get("search").value)}buscarPorTeclaProductos(t){"Enter"==t.code&&this.searchProductos()}searchInputImpuestos(){let t=this.formSearch.get("search").value;this.pageActualImpuestos=1,""==t&&this.getTaxesById(this.recetaId,this.pageActualImpuestos,this.pageCountImpuestos,t)}searchImpuestos(){let t=this.formSearch.get("search").value;this.pageActualImpuestos=1,this.getTaxesById(this.recetaId,this.pageActualImpuestos,this.pageCountImpuestos,t)}onPageImpuestos(t){this.pageCountImpuestos=t.rows,this.getTaxesById(this.recetaId,this.pageActualImpuestos,this.pageCountImpuestos,this.formSearch.get("search").value)}buscarPorTeclaImpuestos(t){"Enter"==t.code&&this.searchImpuestos()}leftTableProductos(){this.pageActualProductos>1&&(this.pageActualProductos--,this.getProductsForRecipe(this.recetaId,this.pageActualProductos,this.pageCountProductos),this.validatePageProductos())}rightTableProductos(){this.pageActualProductos<this.ultimaPageProductos&&(this.pageActualProductos++,this.getProductsForRecipe(this.recetaId,this.pageActualProductos,this.pageCountProductos),this.validatePageProductos())}validatePageProductos(){this.disablePageLeftProductos=1!=this.pageActualProductos,this.disablePageRightProductos=!(this.pageActualProductos>=this.ultimaPageProductos)}leftTableImpuestos(){this.pageActualImpuestos>1&&(this.pageActualImpuestos--,this.getTaxesById(this.recetaId,this.pageActualImpuestos,this.pageCountImpuestos),this.validatePageImpuestos())}rightTableImpuestos(){this.pageActualImpuestos<this.ultimaPageImpuestos&&(this.pageActualImpuestos++,this.getTaxesById(this.recetaId,this.pageActualImpuestos,this.pageCountImpuestos),this.validatePageImpuestos())}validatePageImpuestos(){this.disablePageLeftImpuestos=1!=this.pageActualImpuestos,this.disablePageRightImpuestos=!(this.pageActualImpuestos>=this.ultimaPageImpuestos)}static{this.\u0275fac=function(s){return new(s||o)(e.rXU(E),e.rXU(c.ok),e.rXU(v.ex),e.rXU(_.Ix),e.rXU(_.nX),e.rXU(e.gRc))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-recipes-products"]],decls:105,vars:44,consts:[["type","ball-scale-multiple","size","large","bdColor","rgba(192,192,192,0.8)","template","<img src='assets/loading/cargando.gif' />"],[1,"card","mb-1"],[1,"surface-section","px-2","pt-3","md:px-6","lg:px-8"],[1,"flex","align-items-start","flex-column","lg:justify-content-between","lg:flex-row"],[1,"flex"],["pButton","","pRipple","","label","","icon","pi pi-arrow-left",1,"p-button-outlined","mr-4",3,"routerLink"],[1,"flex","align-items-center","font-medium","text-3xl","text-900"],[3,"formGroup"],[1,"p-fluid","p-formgrid","grid"],[1,"field","col-12","md:col-6"],["type","text","formControlName","nombreReceta","pInputText","",1,"w-full","mb-3","border-round-3xl"],[1,"field","col-12","md:col-3"],["type","text","formControlName","precio","pInputText","",1,"w-full","mb-3","border-round-3xl"],[1,"field","col-12","md:col-12"],["formControlName","descripcion","pInputTextarea","","rows","3","cols","20"],[1,"card","m-1"],["orientation","left"],["header","Agregar Producto",1,"line-height-3","m-0"],[1,"surface-section","px-4","py-5","md:px-6","lg:px-8"],[1,"font-medium","text-3xl","text-900"],["pButton","","pRipple","","type","button","icon","pi pi-plus",1,"p-button-rounded","p-button-text",3,"click"],[1,"mt-3","lg:mt-0"],["pButton","","pRipple","","label","Guardar","icon","",1,"p-button-outlined","mr-2",3,"click"],[1,"grid","mt-3"],[1,"col-12"],[1,"card","px-3","py-3"],["responsiveLayout","scroll",3,"value","tableStyle","loading","rows"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","loadingbody"],[2,"text-align","center"],[1,"p-buttonset"],["pButton","","pRipple","","label","","icon","pi pi-arrow-left",3,"disabled","click"],["pButton","","pRipple","",3,"label"],["pButton","","pRipple","","label","","icon","pi pi-arrow-right",3,"disabled","click"],["header","Agregar Impuesto",1,"line-height-3","m-0"],["pButton","","pRipple","","label","Guardar",1,"p-button-outlined","mr-2",3,"click"],["header","Agregar Productos",3,"visible","modal","draggable","resizable","visibleChange"],[3,"formGroup","ngSubmit"],["formControlName","producto_id","optionLabel","nombre","placeholder","Buscar Producto",1,"dropdown-custom",3,"options","autoDisplayFirst"],["pTemplate","item"],["style","color: red;",4,"ngIf"],["type","number","formControlName","cantidad","placeholder","Cantidad","pInputText","","min","1",1,"w-full","mb-3","border-round-3xl",3,"change"],["pButton","","pRipple","","label","Agregar Producto","icon","pi pi-fw","type","submit",1,"w-full","bg-admin","boder-admin","mb-5","border-round-3xl",3,"disabled"],["header","Agregar Impuesto",3,"visible","modal","draggable","resizable","visibleChange"],["formControlName","impuesto_id","optionLabel","nombre","placeholder","Buscar Impuesto",1,"dropdown-custom",3,"options","autoDisplayFirst"],["pButton","","pRipple","","label","Agregar Impuesto","icon","pi pi-fw","type","submit",1,"w-full","bg-admin","boder-admin","mb-5","border-round-3xl",3,"disabled"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"p-inputgroup"],["formControlName","search","pInputText","","type","text","placeholder","Buscar...",1,"w-full","sm:w-auto",3,"keyup.enter"],["type","button","pButton","","pRipple","",1,"pi","pi-search",3,"click"],["icon","pi pi-trash","severity","danger",3,"click"],["colspan","3"],[1,"flex","align-items-center"],[1,"ml-2"],[2,"color","red"]],template:function(s,i){1&s&&(e.nrm(0,"ngx-spinner",0),e.j41(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"div",4),e.nrm(6,"button",5),e.j41(7,"div",6),e.EFF(8," Detalle de Receta "),e.k0s()(),e.j41(9,"form",7),e.nrm(10,"br"),e.j41(11,"div",8)(12,"div",9)(13,"label"),e.EFF(14,"Nombre de Receta"),e.k0s(),e.nrm(15,"input",10),e.k0s(),e.j41(16,"div",11)(17,"label"),e.EFF(18," Precio "),e.k0s(),e.nrm(19,"input",12),e.k0s(),e.j41(20,"div",13)(21,"label"),e.EFF(22,"Descripci\xf3n"),e.k0s(),e.nrm(23,"textarea",14),e.k0s()()()()()()(),e.j41(24,"div",15)(25,"p-tabView",16)(26,"p-tabPanel",17)(27,"div",18)(28,"div",3)(29,"div")(30,"div",19)(31,"button",20),e.bIt("click",function(){return i.openModal()}),e.k0s(),e.EFF(32," Agregar Producto "),e.k0s()(),e.j41(33,"div",21)(34,"button",22),e.bIt("click",function(){return i.sendProducts()}),e.k0s()()()(),e.j41(35,"div",23)(36,"div",24)(37,"div",25)(38,"p-table",26),e.DNE(39,pe,7,1,"ng-template",27),e.DNE(40,de,13,0,"ng-template",28),e.DNE(41,ue,13,5,"ng-template",29),e.DNE(42,me,3,0,"ng-template",30),e.k0s(),e.nrm(43,"br"),e.j41(44,"div",31)(45,"span",32)(46,"button",33),e.bIt("click",function(){return i.leftTableProductos()}),e.k0s(),e.nrm(47,"button",34),e.j41(48,"button",35),e.bIt("click",function(){return i.rightTableProductos()}),e.k0s()()()()()()(),e.j41(49,"p-tabPanel",36),e.nrm(50,"ngx-spinner",0),e.j41(51,"div",18)(52,"div",3)(53,"div")(54,"div",19)(55,"button",20),e.bIt("click",function(){return i.openModalTaxes()}),e.k0s(),e.EFF(56," Agregar Impuesto "),e.k0s()(),e.j41(57,"div",21)(58,"button",37),e.bIt("click",function(){return i.sendTaxes()}),e.k0s()()()(),e.j41(59,"div",23)(60,"div",24)(61,"div",25)(62,"p-table",26),e.DNE(63,he,7,1,"ng-template",27),e.DNE(64,ge,7,0,"ng-template",28),e.DNE(65,fe,7,2,"ng-template",29),e.DNE(66,be,3,0,"ng-template",30),e.k0s(),e.nrm(67,"br"),e.j41(68,"div",31)(69,"span",32)(70,"button",33),e.bIt("click",function(){return i.leftTableImpuestos()}),e.k0s(),e.nrm(71,"button",34),e.j41(72,"button",35),e.bIt("click",function(){return i.rightTableImpuestos()}),e.k0s()()()()()()()()(),e.j41(73,"p-dialog",38),e.bIt("visibleChange",function(a){return i.displayModalProducts=a}),e.j41(74,"div",24)(75,"form",39),e.bIt("ngSubmit",function(){return i.agregarProductos()}),e.j41(76,"div",8)(77,"div",13)(78,"label"),e.EFF(79,"Producto"),e.k0s(),e.j41(80,"p-dropdown",40),e.DNE(81,_e,3,1,"ng-template",41),e.k0s(),e.DNE(82,Re,2,0,"div",42),e.k0s(),e.j41(83,"div",13)(84,"label"),e.EFF(85,"Cantidad"),e.k0s(),e.j41(86,"input",43),e.bIt("change",function(a){return i.onCantidadChange(a)}),e.k0s(),e.DNE(87,ve,2,0,"div",42),e.DNE(88,Pe,2,0,"div",42),e.k0s(),e.j41(89,"div",13),e.nrm(90,"button",44),e.k0s()(),e.nrm(91,"br"),e.k0s()()(),e.j41(92,"p-dialog",45),e.bIt("visibleChange",function(a){return i.displayModalTaxes=a}),e.j41(93,"div",24)(94,"form",39),e.bIt("ngSubmit",function(){return i.agregarImpuestos()}),e.j41(95,"div",8)(96,"div",13)(97,"label"),e.EFF(98,"Impuesto"),e.k0s(),e.j41(99,"p-dropdown",46),e.DNE(100,Ce,3,1,"ng-template",41),e.k0s(),e.DNE(101,Ie,2,0,"div",42),e.k0s(),e.j41(102,"div",13),e.nrm(103,"button",47),e.k0s()(),e.nrm(104,"br"),e.k0s()()()),2&s&&(e.R7$(6),e.Y8G("routerLink","/dashboard/admin/recipes"),e.R7$(3),e.Y8G("formGroup",i.form),e.R7$(29),e.Y8G("value",i.productosParaMostrar)("tableStyle",e.lJ4(40,N))("loading",i.loadingTable)("rows",8),e.R7$(8),e.Y8G("disabled",!i.disablePageLeftProductos),e.R7$(1),e.Y8G("label",i.pageActualProductos),e.R7$(1),e.Y8G("disabled",!i.disablePageRightProductos),e.R7$(14),e.Y8G("value",i.impuestosParaMostrar)("tableStyle",e.lJ4(41,N))("loading",i.loadingTable)("rows",8),e.R7$(8),e.Y8G("disabled",!i.disablePageLeftImpuestos),e.R7$(1),e.Y8G("label",i.pageActualImpuestos),e.R7$(1),e.Y8G("disabled",!i.disablePageRightImpuestos),e.R7$(1),e.Aen(e.lJ4(42,ke)),e.Y8G("visible",i.displayModalProducts)("modal",!0)("draggable",!1)("resizable",!1),e.R7$(2),e.Y8G("formGroup",i.formProducto),e.R7$(5),e.Y8G("options",i.productsData)("autoDisplayFirst",!1),e.R7$(2),e.Y8G("ngIf",i.formProducto.get("producto_id").hasError("required")),e.R7$(5),e.Y8G("ngIf",i.formProducto.get("cantidad").hasError("required")),e.R7$(1),e.Y8G("ngIf",null==i.formProducto.get("cantidad").errors?null:i.formProducto.get("cantidad").errors.min),e.R7$(2),e.Y8G("disabled",i.formProducto.invalid),e.R7$(2),e.Aen(e.lJ4(43,Fe)),e.Y8G("visible",i.displayModalTaxes)("modal",!0)("draggable",!1)("resizable",!1),e.R7$(2),e.Y8G("formGroup",i.formImpuesto),e.R7$(5),e.Y8G("options",i.taxesData)("autoDisplayFirst",!1),e.R7$(2),e.Y8G("ngIf",i.formImpuesto.get("impuesto_id").hasError("required")),e.R7$(2),e.Y8G("disabled",i.formImpuesto.invalid))},dependencies:[g.bT,_.Wk,u.XI,A.Ei,m._f,m.$n,c.qT,c.me,c.Q0,c.BC,c.cb,c.VZ,h.n,P.S,C.Z,I.ms,k.l,c.j4,c.JD,v.et,j.JQ,j.Kp],styles:["svg[_ngcontent-%COMP%]{width:45%}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-bottom:20px}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px solid #dddddd;text-align:left;padding:8px}th[_ngcontent-%COMP%]{background-color:#f2f2f2}"]})}}return o})();var S=n(1765);let Ee=(()=>{class o{static{this.\u0275fac=function(s){return new(s||o)}}static{this.\u0275mod=e.$C({type:o})}static{this.\u0275inj=e.G2t({imports:[_.iI.forChild([{path:"",component:le,canActivate:[S.q],data:{permissions:["gestionInventario.recetas"]}},{path:":id/recipes-products",component:Te,canActivate:[S.q],data:{permissions:["gestionInventario.recetas"]}}]),_.iI]})}}return o})();var je=n(6627),xe=n(6296),Ge=n(3887);let ye=(()=>{class o{static{this.\u0275fac=function(s){return new(s||o)}}static{this.\u0275mod=e.$C({type:o})}static{this.\u0275inj=e.G2t({providers:[{provide:F.a7,useClass:M.R,multi:!0},E],imports:[g.MD,Ee,u.bG,b.e,c.YN,m.tm,h.Z,R.MB,G.m,y.wZ,P.u,C.f,I.kr,B.Ko,$.O3,k.P,w.RZ.forRoot(),c.X1,v.PO,je.I,xe.iV,j.fd,Ge.G]})}}return o})()},7927:(x,f,n)=>{n.d(f,{l:()=>c});var g=n(540);let c=(()=>{class u{transform(m){if(""===m)return"";const h=Number(m).toFixed(2),[R,G]=h.split(".");return R.replace(/\B(?=(\d{3})+(?!\d))/g,".")}static{this.\u0275fac=function(h){return new(h||u)}}static{this.\u0275pipe=g.EJ8({name:"currencyFormat",type:u,pure:!0})}}return u})()},3887:(x,f,n)=>{n.d(f,{G:()=>u});var g=n(177),c=n(540);let u=(()=>{class b{static{this.\u0275fac=function(R){return new(R||b)}}static{this.\u0275mod=c.$C({type:b})}static{this.\u0275inj=c.G2t({imports:[g.MD]})}}return b})()}}]);