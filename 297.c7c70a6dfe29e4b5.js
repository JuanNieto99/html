"use strict";(self.webpackChunksakai_ng=self.webpackChunksakai_ng||[]).push([[297],{9297:(ea,O,p)=>{p.r(O),p.d(O,{DashboardRoomsModule:()=>ta});var h=p(177),d=p(4341),E=p(3386),W=p(5493),k=p(1141),C=p(563),K=p(9998),N=p(1830),tt=p(4714),P=p(2242),j=p(1305),T=p(9883),et=p(494),w=p(981),y=p(1570),ot=p(1626),at=p(635),it=p(4058),D=p(6554),nt=p(6627),Y=p(9851),R=p(3091),st=p(8032),u=p.n(st),t=p(540),x=p(3289),H=p(7693),V=p(5473),v=p(5779),B=p(5144),b=p(9969),g=p(1455),L=p(1512),$=p(4420);function rt(o,s){1&o&&t.eu8(0)}function lt(o,s){1&o&&t.nrm(0,"TimesIcon",8),2&o&&t.Y8G("styleClass","p-overlaypanel-close-icon")}function ct(o,s){}function dt(o,s){1&o&&t.DNE(0,ct,0,0,"ng-template")}function pt(o,s){if(1&o&&(t.j41(0,"span",9),t.DNE(1,dt,1,0,null,3),t.k0s()),2&o){const e=t.XpG(3);t.R7$(1),t.Y8G("ngTemplateOutlet",e.closeIconTemplate)}}function mt(o,s){if(1&o){const e=t.RV6();t.j41(0,"button",5),t.bIt("click",function(a){t.eBV(e);const n=t.XpG(2);return t.Njj(n.onCloseClick(a))})("keydown.enter",function(){t.eBV(e);const a=t.XpG(2);return t.Njj(a.hide())}),t.DNE(1,lt,1,1,"TimesIcon",6),t.DNE(2,pt,2,1,"span",7),t.k0s()}if(2&o){const e=t.XpG(2);t.BMQ("aria-label",e.ariaCloseLabel),t.R7$(1),t.Y8G("ngIf",!e.closeIconTemplate),t.R7$(1),t.Y8G("ngIf",e.closeIconTemplate)}}const ut=function(o,s){return{showTransitionParams:o,hideTransitionParams:s}},ht=function(o,s){return{value:o,params:s}};function _t(o,s){if(1&o){const e=t.RV6();t.j41(0,"div",1),t.bIt("click",function(a){t.eBV(e);const n=t.XpG();return t.Njj(n.onOverlayClick(a))})("@animation.start",function(a){t.eBV(e);const n=t.XpG();return t.Njj(n.onAnimationStart(a))})("@animation.done",function(a){t.eBV(e);const n=t.XpG();return t.Njj(n.onAnimationEnd(a))}),t.j41(1,"div",2),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.onContentClick())})("mousedown",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.onContentClick())}),t.SdG(2),t.DNE(3,rt,1,0,"ng-container",3),t.k0s(),t.DNE(4,mt,3,3,"button",4),t.k0s()}if(2&o){const e=t.XpG();t.HbH(e.styleClass),t.Y8G("ngClass","p-overlaypanel p-component")("ngStyle",e.style)("@animation",t.l_i(10,ht,e.overlayVisible?"open":"close",t.l_i(7,ut,e.showTransitionOptions,e.hideTransitionOptions))),t.R7$(3),t.Y8G("ngTemplateOutlet",e.contentTemplate),t.R7$(1),t.Y8G("ngIf",e.showCloseIcon)}}const bt=["*"];let ft=(()=>{class o{document;platformId;el;renderer;cd;zone;config;overlayService;dismissable=!0;showCloseIcon;style;styleClass;appendTo="body";autoZIndex=!0;ariaCloseLabel;baseZIndex=0;focusOnShow=!0;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";onShow=new t.bkB;onHide=new t.bkB;templates;container;overlayVisible=!1;render=!1;isOverlayAnimationInProgress=!1;selfClick=!1;documentClickListener;target;willHide;scrollHandler;documentResizeListener;contentTemplate;closeIconTemplate;destroyCallback;overlayEventListener;overlaySubscription;constructor(e,i,a,n,r,c,l,m){this.document=e,this.platformId=i,this.el=a,this.renderer=n,this.cd=r,this.zone=c,this.config=l,this.overlayService=m}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"content":default:this.contentTemplate=e.template;break;case"closeicon":this.closeIconTemplate=e.template}this.cd.markForCheck()})}bindDocumentClickListener(){(0,h.UE)(this.platformId)&&!this.documentClickListener&&this.dismissable&&this.zone.runOutsideAngular(()=>{let e=g.D.isIOS()?"touchstart":"click";this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:this.document,e,a=>{!this.container?.contains(a.target)&&this.target!==a.target&&!this.target.contains(a.target)&&!this.selfClick&&this.zone.run(()=>{this.hide()}),this.selfClick=!1,this.cd.markForCheck()})})}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null,this.selfClick=!1)}toggle(e,i){this.isOverlayAnimationInProgress||(this.overlayVisible?(this.hasTargetChanged(e,i)&&(this.destroyCallback=()=>{this.show(null,i||e.currentTarget||e.target)}),this.hide()):this.show(e,i))}show(e,i){i&&e&&e.stopPropagation(),!this.isOverlayAnimationInProgress&&(this.target=i||e.currentTarget||e.target,this.overlayVisible=!0,this.render=!0,this.cd.markForCheck())}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement}),this.selfClick=!0}onContentClick(){this.selfClick=!0}hasTargetChanged(e,i){return null!=this.target&&this.target!==(i||e.currentTarget||e.target)}appendContainer(){this.appendTo&&("body"===this.appendTo?this.renderer.appendChild(this.document.body,this.container):g.D.appendChild(this.container,this.appendTo))}restoreAppend(){this.container&&this.appendTo&&this.renderer.appendChild(this.el.nativeElement,this.container)}align(){this.autoZIndex&&$.Q$.set("overlay",this.container,this.baseZIndex+this.config.zIndex.overlay),g.D.absolutePosition(this.container,this.target);const e=g.D.getOffset(this.container),i=g.D.getOffset(this.target),a=this.document.defaultView?.getComputedStyle(this.container).getPropertyValue("border-radius");let n=0;e.left<i.left&&(n=i.left-e.left-2*parseFloat(a)),this.container?.style.setProperty("--overlayArrowLeft",`${n}px`),e.top<i.top&&(g.D.addClass(this.container,"p-overlaypanel-flipped"),this.showCloseIcon&&this.renderer.setStyle(this.container,"margin-top","-30px"))}onAnimationStart(e){"open"===e.toState&&(this.container=e.element,this.appendContainer(),this.align(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.focusOnShow&&this.focus(),this.overlayEventListener=i=>{this.container&&this.container.contains(i.target)&&(this.selfClick=!0)},this.overlaySubscription=this.overlayService.clickObservable.subscribe(this.overlayEventListener),this.onShow.emit(null)),this.isOverlayAnimationInProgress=!0}onAnimationEnd(e){switch(e.toState){case"void":this.destroyCallback&&(this.destroyCallback(),this.destroyCallback=null),this.overlaySubscription&&this.overlaySubscription.unsubscribe();break;case"close":this.autoZIndex&&$.Q$.clear(this.container),this.overlaySubscription&&this.overlaySubscription.unsubscribe(),this.onContainerDestroy(),this.onHide.emit({}),this.render=!1}this.isOverlayAnimationInProgress=!1}focus(){let e=g.D.findSingle(this.container,"[autofocus]");e&&this.zone.runOutsideAngular(()=>{setTimeout(()=>e.focus(),5)})}hide(){this.overlayVisible=!1,this.cd.markForCheck()}onCloseClick(e){this.hide(),e.preventDefault()}onWindowResize(){this.overlayVisible&&!g.D.isTouchDevice()&&this.hide()}bindDocumentResizeListener(){(0,h.UE)(this.platformId)&&!this.documentResizeListener&&(this.documentResizeListener=this.renderer.listen(this.document.defaultView,"resize",this.onWindowResize.bind(this)))}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindScrollListener(){(0,h.UE)(this.platformId)&&(this.scrollHandler||(this.scrollHandler=new g.b(this.target,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener())}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}onContainerDestroy(){this.cd.destroyed||(this.target=null),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener()}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.container&&this.autoZIndex&&$.Q$.clear(this.container),this.cd.destroyed||(this.target=null),this.destroyCallback=null,this.container&&(this.restoreAppend(),this.onContainerDestroy()),this.overlaySubscription&&this.overlaySubscription.unsubscribe()}static \u0275fac=function(i){return new(i||o)(t.rXU(h.qQ),t.rXU(t.Agw),t.rXU(t.aKT),t.rXU(t.sFG),t.rXU(t.gRc),t.rXU(t.SKi),t.rXU(v.r1),t.rXU(v.si))};static \u0275cmp=t.VBU({type:o,selectors:[["p-overlayPanel"]],contentQueries:function(i,a,n){if(1&i&&t.wni(n,v.Ei,4),2&i){let r;t.mGM(r=t.lsd())&&(a.templates=r)}},hostAttrs:[1,"p-element"],inputs:{dismissable:"dismissable",showCloseIcon:"showCloseIcon",style:"style",styleClass:"styleClass",appendTo:"appendTo",autoZIndex:"autoZIndex",ariaCloseLabel:"ariaCloseLabel",baseZIndex:"baseZIndex",focusOnShow:"focusOnShow",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onShow:"onShow",onHide:"onHide"},ngContentSelectors:bt,decls:1,vars:1,consts:[[3,"ngClass","ngStyle","class","click",4,"ngIf"],[3,"ngClass","ngStyle","click"],[1,"p-overlaypanel-content",3,"click","mousedown"],[4,"ngTemplateOutlet"],["type","button","class","p-overlaypanel-close p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],["type","button","pRipple","",1,"p-overlaypanel-close","p-link",3,"click","keydown.enter"],[3,"styleClass",4,"ngIf"],["class","p-overlaypanel-close-icon",4,"ngIf"],[3,"styleClass"],[1,"p-overlaypanel-close-icon"]],template:function(i,a){1&i&&(t.NAR(),t.DNE(0,_t,5,13,"div",0)),2&i&&t.Y8G("ngIf",a.render)},dependencies:function(){return[h.YU,h.bT,h.T3,h.B3,C.n,L.A]},styles:['.p-overlaypanel{position:absolute;margin-top:10px;top:0;left:0}.p-overlaypanel-flipped{margin-top:0;margin-bottom:10px}.p-overlaypanel-close{display:flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-overlaypanel:after,.p-overlaypanel:before{bottom:100%;left:calc(var(--overlayArrowLeft, 0) + 1.25rem);content:" ";height:0;width:0;position:absolute;pointer-events:none}.p-overlaypanel:after{border-width:8px;margin-left:-8px}.p-overlaypanel:before{border-width:10px;margin-left:-10px}.p-overlaypanel-shifted:after,.p-overlaypanel-shifted:before{left:auto;right:1.25em;margin-left:auto}.p-overlaypanel-flipped:after,.p-overlaypanel-flipped:before{bottom:auto;top:100%}.p-overlaypanel.p-overlaypanel-flipped:after{border-bottom-color:transparent}.p-overlaypanel.p-overlaypanel-flipped:before{border-bottom-color:transparent}\n'],encapsulation:2,data:{animation:[(0,b.hZ)("animation",[(0,b.wk)("void",(0,b.iF)({transform:"scaleY(0.8)",opacity:0})),(0,b.wk)("close",(0,b.iF)({opacity:0})),(0,b.wk)("open",(0,b.iF)({transform:"translateY(0)",opacity:1})),(0,b.kY)("void => open",(0,b.i0)("{{showTransitionParams}}")),(0,b.kY)("open => close",(0,b.i0)("{{hideTransitionParams}}"))])]},changeDetection:0})}return o})(),gt=(()=>{class o{static \u0275fac=function(i){return new(i||o)};static \u0275mod=t.$C({type:o});static \u0275inj=t.G2t({imports:[h.MD,C.Z,v.Gg,L.A,v.Gg]})}return o})();var M=p(2637),G=p(935),S=p(6296),A=p(5114),vt=p(2435),X=p(7927);const Rt=["op1"];function Ft(o,s){1&o&&t.nrm(0,"i",31)}function kt(o,s){1&o&&t.nrm(0,"i",31)}function Ct(o,s){1&o&&t.nrm(0,"i",31)}function Dt(o,s){1&o&&t.nrm(0,"i",31)}function Tt(o,s){1&o&&t.nrm(0,"i",31)}function It(o,s){1&o&&t.nrm(0,"i",31)}function Et(o,s){1&o&&t.nrm(0,"i",37)}const f=function(o){return{background:o,color:"white"}};function jt(o,s){if(1&o&&(t.j41(0,"span",50),t.nrm(1,"p-tag",51),t.k0s()),2&o){const e=t.XpG().$implicit,i=t.XpG(3);t.R7$(1),t.Aen(t.eq3(3,f,i.botonReservaColor)),t.Y8G("value","Reservada ("+i.validarEstado(e.detalle,5)+")")}}function yt(o,s){if(1&o&&(t.j41(0,"span",50),t.nrm(1,"p-tag",52),t.k0s()),2&o){const e=t.XpG(4);t.R7$(1),t.Aen(t.eq3(2,f,e.botonDisponibleColor))}}function xt(o,s){if(1&o&&(t.j41(0,"span",50),t.nrm(1,"p-tag",53),t.k0s()),2&o){const e=t.XpG(4);t.R7$(1),t.Aen(t.eq3(2,f,e.botonLimpiezaColor))}}function $t(o,s){if(1&o&&(t.j41(0,"span",50),t.nrm(1,"p-tag",54),t.k0s()),2&o){const e=t.XpG(4);t.R7$(1),t.Aen(t.eq3(2,f,e.botonMantenimientoColor))}}function Mt(o,s){if(1&o&&(t.j41(0,"span",50),t.nrm(1,"p-tag",55),t.k0s()),2&o){const e=t.XpG(4);t.R7$(1),t.Aen(t.eq3(2,f,e.botonOcupadoColor))}}function Gt(o,s){if(1&o){const e=t.RV6();t.j41(0,"div",38)(1,"p-overlayPanel",39,40)(3,"p-menu",41),t.bIt("click",function(){const n=t.eBV(e).$implicit,r=t.XpG(3);return t.Njj(r.opcionesHabitacion(n))}),t.k0s()(),t.j41(4,"div",42),t.bIt("click",function(a){const r=t.eBV(e).$implicit,c=t.XpG(3);return t.Njj(c.abrirMenu(a,r))}),t.nrm(5,"label",43),t.k0s(),t.j41(6,"i",44),t.bIt("click",function(a){const r=t.eBV(e).$implicit,c=t.XpG(3);return t.Njj(c.abrirMenu(a,r))}),t.k0s(),t.j41(7,"p-overlayPanel",39,40)(9,"p-menu",41),t.bIt("click",function(){const n=t.eBV(e).$implicit,r=t.XpG(3);return t.Njj(r.opcionesHabitacion(n))}),t.k0s()(),t.j41(10,"div",45),t.bIt("click",function(a){const r=t.eBV(e).$implicit,c=t.XpG(3);return t.Njj(c.abrirMenu(a,r))}),t.j41(11,"div",46),t.nrm(12,"img",47),t.k0s(),t.j41(13,"div",48),t.DNE(14,jt,2,5,"span",49),t.DNE(15,yt,2,4,"span",49),t.DNE(16,xt,2,4,"span",49),t.DNE(17,$t,2,4,"span",49),t.DNE(18,Mt,2,4,"span",49),t.k0s()()()}if(2&o){const e=s.$implicit,i=t.XpG(3);t.R7$(1),t.Y8G("showCloseIcon",!0),t.R7$(2),t.Y8G("model",i.menuHabitacion),t.R7$(2),t.Y8G("label",(null==e||null==e.tipoHabitacion?null:e.tipoHabitacion.nombre)+" "+e.nombre),t.R7$(2),t.Y8G("showCloseIcon",!0),t.R7$(2),t.Y8G("model",i.menuHabitacion),t.R7$(3),t.Mz_("src","assets/puertas/",e.habitacionNombre,".jpg",t.B4B),t.R7$(1),t.Aen("margin-left: 20%;display: flex;"),t.R7$(1),t.Y8G("ngIf",i.validarEstado(e.detalle,5)),t.R7$(1),t.Y8G("ngIf",i.validarEstado(e.detalle,3)),t.R7$(1),t.Y8G("ngIf",i.validarEstado(e.detalle,4)),t.R7$(1),t.Y8G("ngIf",i.validarEstado(e.detalle,6)),t.R7$(1),t.Y8G("ngIf",i.validarEstado(e.detalle,2))}}function St(o,s){if(1&o&&(t.DNE(0,Et,1,0,"i",34),t.j41(1,"div",35),t.DNE(2,Gt,19,13,"div",36),t.k0s()),2&o){const e=t.XpG().$implicit;t.Y8G("ngIf",e.loading),t.R7$(2),t.Y8G("ngForOf",e.habitaciones)}}function At(o,s){if(1&o){const e=t.RV6();t.j41(0,"p-accordion"),t.nrm(1,"br"),t.j41(2,"p-accordionTab",32),t.bIt("selectedChange",function(){const n=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.openTag(n.piso))}),t.DNE(3,St,3,2,"ng-template",33),t.k0s()()}if(2&o){const e=s.$implicit,i=t.XpG();t.R7$(2),t.Y8G("header","Piso "+e.piso)("selected",e.piso==i.primerPiso)}}function Ot(o,s){1&o&&(t.j41(0,"div",78),t.EFF(1,"La fecha de inicio no puede ser mayor a la fecha final"),t.k0s())}function Nt(o,s){1&o&&(t.j41(0,"div",78),t.EFF(1,"Debe reservar por al menos una hora"),t.k0s())}function Pt(o,s){if(1&o&&(t.j41(0,"div",79)(1,"span",80),t.EFF(2),t.k0s()()),2&o){const e=s.$implicit;t.R7$(2),t.JRh(e.nombre)}}function wt(o,s){if(1&o){const e=t.RV6();t.j41(0,"button",81),t.bIt("click",function(){t.eBV(e);const a=t.XpG(2);return t.Njj(a.crearCliente())}),t.k0s()}}function Yt(o,s){1&o&&(t.j41(0,"div",78),t.EFF(1,"Seleccione el cliente"),t.k0s())}function Ht(o,s){1&o&&(t.j41(0,"div")(1,"h5"),t.EFF(2,"Hora"),t.k0s()())}function Vt(o,s){1&o&&(t.j41(0,"div")(1,"h5"),t.EFF(2,"Noche"),t.k0s()())}function Bt(o,s){if(1&o&&(t.j41(0,"div",79)(1,"span",80),t.EFF(2),t.nrm(3,"p-tag",82),t.nI1(4,"currencyFormat"),t.DNE(5,Ht,3,0,"div",83),t.DNE(6,Vt,3,0,"div",83),t.k0s()()),2&o){const e=s.$implicit;t.R7$(2),t.SpI(" ",e.nombre," "),t.R7$(1),t.FS9("icon",e.icon),t.FS9("value",t.bMT(4,5,e.valor)),t.R7$(2),t.Y8G("ngIf",2==e.tipo),t.R7$(1),t.Y8G("ngIf",1==e.tipo)}}function Lt(o,s){1&o&&(t.j41(0,"div",78),t.EFF(1,"Seleccione la tarifa"),t.k0s())}function Xt(o,s){1&o&&(t.j41(0,"div",78),t.EFF(1,"Monto es requerido"),t.k0s())}function zt(o,s){if(1&o){const e=t.RV6();t.j41(0,"div",84)(1,"div",85)(2,"label",86),t.EFF(3,"Monto"),t.k0s(),t.nrm(4,"br"),t.j41(5,"p-inputNumber",87),t.bIt("ngModelChange",function(){t.eBV(e);const a=t.XpG(2);return t.Njj(a.checkAbonos())}),t.k0s(),t.nrm(6,"br"),t.DNE(7,Xt,2,0,"div",18),t.k0s(),t.j41(8,"div",85)(9,"label",88),t.EFF(10,"Medio Pago"),t.k0s(),t.nrm(11,"br")(12,"p-dropdown",89),t.k0s(),t.j41(13,"div",90),t.nrm(14,"label",91)(15,"br"),t.j41(16,"p-button",92),t.bIt("click",function(){const n=t.eBV(e).index,r=t.XpG(2);return t.Njj(r.eliminarAbono(n))}),t.k0s()()()}if(2&o){const e=s.$implicit,i=t.XpG(2);t.Y8G("formGroup",e),t.R7$(7),t.Y8G("ngIf",null==e||null==e.controls.monto||null==e.controls.monto.errors?null:e.controls.monto.errors.required),t.R7$(5),t.Y8G("options",i.selectMedioPago)}}function Jt(o,s){1&o&&t.nrm(0,"p-message",93)}function Ut(o,s){1&o&&(t.j41(0,"th"),t.nrm(1,"span"),t.k0s(),t.j41(2,"th"),t.nrm(3,"span"),t.k0s())}function qt(o,s){1&o&&(t.j41(0,"tr")(1,"th"),t.EFF(2,"Metodo de pago"),t.k0s(),t.j41(3,"th"),t.EFF(4,"Monto"),t.k0s(),t.DNE(5,Ut,4,0,"ng-template",null,94,t.C5r),t.k0s())}function Zt(o,s){1&o&&(t.j41(0,"td"),t.nrm(1,"span"),t.k0s(),t.j41(2,"td"),t.nrm(3,"span"),t.k0s())}function Qt(o,s){if(1&o&&(t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.nI1(5,"currencyFormat"),t.k0s(),t.DNE(6,Zt,4,0,"ng-template",null,94,t.C5r),t.k0s()),2&o){const e=s.$implicit;t.R7$(2),t.JRh(e.medio_pago.nombre),t.R7$(2),t.SpI("$ ",t.bMT(5,2,e.monto),"")}}function Wt(o,s){1&o&&(t.j41(0,"td"),t.nrm(1,"span"),t.k0s(),t.j41(2,"td"),t.nrm(3,"span"),t.k0s())}function Kt(o,s){if(1&o&&(t.j41(0,"tr")(1,"td",95),t.EFF(2,"Total"),t.k0s(),t.j41(3,"td",95),t.EFF(4),t.nI1(5,"currencyFormat"),t.k0s(),t.DNE(6,Wt,4,0,"ng-template",null,94,t.C5r),t.k0s()),2&o){const e=t.XpG(2);t.R7$(4),t.SpI(" $",t.bMT(5,1,e.abonosTotal),"")}}function te(o,s){1&o&&(t.j41(0,"th"),t.nrm(1,"span"),t.k0s(),t.j41(2,"th"),t.nrm(3,"span"),t.k0s())}function ee(o,s){1&o&&(t.j41(0,"tr")(1,"th"),t.EFF(2,"Nombre"),t.k0s(),t.j41(3,"th"),t.EFF(4,"Precio"),t.k0s(),t.DNE(5,te,4,0,"ng-template",null,94,t.C5r),t.k0s())}function oe(o,s){1&o&&(t.j41(0,"td"),t.nrm(1,"span"),t.k0s(),t.j41(2,"td"),t.nrm(3,"span"),t.k0s())}function ae(o,s){if(1&o&&(t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.nI1(5,"currencyFormat"),t.k0s(),t.DNE(6,oe,4,0,"ng-template",null,94,t.C5r),t.k0s()),2&o){const e=s.$implicit;t.R7$(2),t.JRh(e.nombre),t.R7$(2),t.SpI("$",t.bMT(5,2,e.valor),"")}}function ie(o,s){1&o&&(t.j41(0,"td"),t.nrm(1,"span"),t.k0s(),t.j41(2,"td"),t.nrm(3,"span"),t.k0s())}function ne(o,s){if(1&o&&(t.j41(0,"tr")(1,"td",95),t.EFF(2,"Total"),t.k0s(),t.j41(3,"td",95),t.EFF(4),t.nI1(5,"currencyFormat"),t.k0s(),t.DNE(6,ie,4,0,"ng-template",null,94,t.C5r),t.k0s()),2&o){const e=t.XpG(2);t.R7$(4),t.SpI(" $",t.bMT(5,1,e.tarifasTotal),"")}}function se(o,s){1&o&&(t.j41(0,"th"),t.nrm(1,"span"),t.k0s(),t.j41(2,"th"),t.nrm(3,"span"),t.k0s())}function re(o,s){1&o&&(t.j41(0,"tr")(1,"th"),t.EFF(2,"Subtotal"),t.k0s(),t.j41(3,"th"),t.EFF(4,"Total"),t.k0s(),t.DNE(5,se,4,0,"ng-template",null,94,t.C5r),t.k0s())}function le(o,s){1&o&&(t.j41(0,"td"),t.nrm(1,"span"),t.k0s(),t.j41(2,"td"),t.nrm(3,"span"),t.k0s())}function ce(o,s){if(1&o&&(t.j41(0,"tr")(1,"td",95),t.EFF(2),t.nI1(3,"currencyFormat"),t.k0s(),t.j41(4,"td",95),t.EFF(5),t.nI1(6,"currencyFormat"),t.k0s(),t.DNE(7,le,4,0,"ng-template",null,94,t.C5r),t.k0s()),2&o){const e=t.XpG(2);t.R7$(2),t.SpI("$ ",e.totalPagarReserva<=0?0:t.bMT(3,2,e.totalPagarReserva)," "),t.R7$(3),t.SpI("$ ",e.totalPagarReserva-e.abonosTotal<=0?0:t.bMT(6,4,e.totalPagarReserva-e.abonosTotal)," ")}}const de=function(){return{width:"95vw"}},F=function(){return{"min-width":"25rem"}},z=function(){return[]};function pe(o,s){if(1&o){const e=t.RV6();t.j41(0,"p-dialog",56),t.bIt("visibleChange",function(a){t.eBV(e);const n=t.XpG();return t.Njj(n.reservacionModalVisible=a)}),t.j41(1,"div",12)(2,"div",57)(3,"div",58)(4,"h4",59)(5,"strong"),t.EFF(6),t.k0s()()(),t.j41(7,"div",60)(8,"button",61),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.hideDialog())}),t.k0s()()(),t.j41(9,"div",13),t.bIt("ngSubmit",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.enviarReservar())}),t.j41(10,"div",14)(11,"div",19)(12,"label"),t.EFF(13,"Fecha Inicio"),t.k0s(),t.nrm(14,"p-calendar",62),t.DNE(15,Ot,2,0,"div",18),t.k0s(),t.j41(16,"div",19)(17,"label"),t.EFF(18,"Fecha Final"),t.k0s(),t.nrm(19,"p-calendar",63),t.DNE(20,Nt,2,0,"div",18),t.k0s(),t.j41(21,"div",14)(22,"div",15)(23,"label",64),t.EFF(24,"Cliente"),t.k0s(),t.j41(25,"p-multiSelect",65),t.bIt("onFilter",function(a){t.eBV(e);const n=t.XpG();return t.Njj(n.busquedaCliente(a))}),t.DNE(26,Pt,3,1,"ng-template",17),t.DNE(27,wt,1,0,"ng-template",66),t.k0s(),t.DNE(28,Yt,2,0,"div",18),t.k0s(),t.j41(29,"div",15)(30,"label",64),t.EFF(31,"Tarifa"),t.k0s(),t.j41(32,"p-multiSelect",67),t.bIt("onChange",function(a){t.eBV(e);const n=t.XpG();return t.Njj(n.checkTarifaReserva(a))}),t.DNE(33,Bt,7,7,"ng-template",17),t.k0s(),t.DNE(34,Lt,2,0,"div",18),t.k0s(),t.j41(35,"div",15)(36,"p-panel",68)(37,"button",69),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.agregarAbono())}),t.k0s(),t.DNE(38,zt,17,3,"div",70),t.k0s()(),t.j41(39,"div",15)(40,"label"),t.EFF(41,"Descripci\xf3n"),t.k0s(),t.nrm(42,"textarea",22),t.k0s(),t.DNE(43,Jt,1,0,"p-message",71),t.j41(44,"div",72)(45,"div",73)(46,"h5"),t.EFF(47,"Abonos"),t.k0s(),t.j41(48,"p-table",74),t.DNE(49,qt,7,0,"ng-template",75),t.DNE(50,Qt,8,4,"ng-template",76),t.DNE(51,Kt,8,3,"ng-template",66),t.k0s()()(),t.nrm(52,"hr"),t.j41(53,"div",72)(54,"div",73)(55,"h5"),t.EFF(56,"Tarifas"),t.k0s(),t.j41(57,"p-table",74),t.DNE(58,ee,7,0,"ng-template",75),t.DNE(59,ae,8,4,"ng-template",76),t.DNE(60,ne,8,3,"ng-template",66),t.k0s()()(),t.j41(61,"div",72)(62,"div",73)(63,"h5"),t.EFF(64,"Totales"),t.k0s(),t.j41(65,"p-table",74),t.DNE(66,re,7,0,"ng-template",75),t.DNE(67,ce,9,6,"ng-template",66),t.k0s()()(),t.j41(68,"div",15)(69,"button",77),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.enviarReservar())}),t.k0s()()()()()()()}if(2&o){const e=t.XpG();t.Aen(t.lJ4(33,de)),t.Y8G("showHeader",!1)("visible",e.reservacionModalVisible)("modal",!0)("draggable",!1)("resizable",!1),t.R7$(6),t.SpI("Reservar ",e.nombreHabitacionReservada," "),t.R7$(3),t.Y8G("formGroup",e.reservaForm),t.R7$(5),t.Y8G("minDate",e.hoy)("showIcon",!0),t.R7$(1),t.Y8G("ngIf",e.reservaForm.get("fechaFinal").value<e.reservaForm.get("fechaInicio").value&&e.reservaForm.get("fechaFinal").value),t.R7$(4),t.Y8G("minDate",e.hoy)("showIcon",!0),t.R7$(1),t.Y8G("ngIf",e.reservaForm.get("fechaFinal").value<=e.reservaForm.get("fechaInicio").value&&e.reservaForm.get("fechaFinal").value),t.R7$(5),t.Y8G("options",e.clienteData),t.R7$(3),t.Y8G("ngIf",e.reservaForm.get("cliente_id").hasError("required")),t.R7$(4),t.Y8G("options",e.tarifaData),t.R7$(2),t.Y8G("ngIf",e.reservaForm.get("tarifa_id").hasError("required")),t.R7$(2),t.Y8G("toggleable",!0)("collapsed",e.collapsed),t.R7$(2),t.Y8G("ngForOf",e.formAbonosArray.controls),t.R7$(5),t.Y8G("ngIf",e.abonosTotal>e.totalPagarReserva),t.R7$(5),t.Y8G("value",e.formAbonosArray.value)("tableStyle",t.lJ4(34,F))("rows",5),t.R7$(9),t.Y8G("value",e.reservaForm.get("tarifa_id").value)("tableStyle",t.lJ4(35,F))("rows",5),t.R7$(8),t.Y8G("value",t.lJ4(36,z))("tableStyle",t.lJ4(37,F))("rows",5),t.R7$(4),t.Y8G("disabled",e.reservaForm.invalid||e.formAbonosArray.invalid||e.abonosTotal>e.totalPagarReserva||e.reservaForm.get("fechaFinal").value<=e.reservaForm.get("fechaInicio").value)}}function me(o,s){if(1&o&&(t.j41(0,"div",79)(1,"span",80),t.EFF(2),t.k0s()()),2&o){const e=s.$implicit;t.R7$(2),t.JRh(e.name)}}function ue(o,s){1&o&&(t.j41(0,"div",78),t.EFF(1,"Campo requerido"),t.k0s())}function he(o,s){1&o&&(t.j41(0,"div",78),t.EFF(1,"Campo requerido"),t.k0s())}function _e(o,s){1&o&&t.nrm(0,"p-message",96)}function be(o,s){if(1&o&&(t.j41(0,"div",79)(1,"span",80),t.EFF(2),t.k0s()()),2&o){const e=s.$implicit;t.R7$(2),t.JRh(e.name)}}function fe(o,s){1&o&&(t.j41(0,"div",78),t.EFF(1,"Campo requerido"),t.k0s())}function ge(o,s){1&o&&(t.j41(0,"div",78),t.EFF(1,"Campo requerido"),t.k0s())}function ve(o,s){1&o&&t.nrm(0,"p-message",96)}function Re(o,s){if(1&o&&(t.j41(0,"div",79)(1,"span",80),t.EFF(2),t.k0s()()),2&o){const e=s.$implicit;t.R7$(2),t.JRh(e.nombre)}}function Fe(o,s){if(1&o){const e=t.RV6();t.j41(0,"button",81),t.bIt("click",function(){t.eBV(e);const a=t.XpG(2);return t.Njj(a.crearCliente())}),t.k0s()}}function ke(o,s){1&o&&(t.j41(0,"div",78),t.EFF(1,"Seleccione el cliente"),t.k0s())}function Ce(o,s){1&o&&(t.j41(0,"div")(1,"h5"),t.EFF(2,"Hora"),t.k0s()())}function De(o,s){1&o&&(t.j41(0,"div")(1,"h5"),t.EFF(2,"Noche"),t.k0s()())}function Te(o,s){if(1&o&&(t.j41(0,"div",79)(1,"span",80),t.EFF(2),t.nrm(3,"p-tag",82),t.nI1(4,"currencyFormat"),t.DNE(5,Ce,3,0,"div",83),t.DNE(6,De,3,0,"div",83),t.k0s()()),2&o){const e=s.$implicit;t.R7$(2),t.SpI(" ",e.nombre," "),t.R7$(1),t.FS9("icon",e.icon),t.FS9("value",t.bMT(4,5,e.valor)),t.R7$(2),t.Y8G("ngIf",2==e.tipo),t.R7$(1),t.Y8G("ngIf",1==e.tipo)}}function Ie(o,s){1&o&&(t.j41(0,"div",78),t.EFF(1,"Seleccione la tarifa"),t.k0s())}function Ee(o,s){1&o&&(t.j41(0,"div",78),t.EFF(1,"Monto es requerido."),t.k0s())}function je(o,s){if(1&o){const e=t.RV6();t.j41(0,"div",84)(1,"div",85)(2,"label",86),t.EFF(3,"Monto"),t.k0s(),t.nrm(4,"br"),t.j41(5,"p-inputNumber",87),t.bIt("ngModelChange",function(){t.eBV(e);const a=t.XpG(2);return t.Njj(a.checkAbonoOcupar())}),t.k0s(),t.nrm(6,"br"),t.DNE(7,Ee,2,0,"div",18),t.k0s(),t.j41(8,"div",85)(9,"label",88),t.EFF(10,"Medio Pago"),t.k0s(),t.nrm(11,"br")(12,"p-dropdown",89),t.k0s(),t.j41(13,"div",90),t.nrm(14,"label",91)(15,"br"),t.j41(16,"p-button",92),t.bIt("click",function(){const n=t.eBV(e).index,r=t.XpG(2);return t.Njj(r.eliminarAbonoOcupar(n))}),t.k0s()()()}if(2&o){const e=s.$implicit,i=t.XpG(2);t.Y8G("formGroup",e),t.R7$(7),t.Y8G("ngIf",null==e||null==e.controls.monto||null==e.controls.monto.errors?null:e.controls.monto.errors.required),t.R7$(5),t.Y8G("options",i.selectMedioPago)}}function ye(o,s){1&o&&t.nrm(0,"p-message",93)}function xe(o,s){1&o&&(t.j41(0,"th"),t.nrm(1,"span"),t.k0s(),t.j41(2,"th"),t.nrm(3,"span"),t.k0s())}function $e(o,s){1&o&&(t.j41(0,"tr")(1,"th"),t.EFF(2,"Metodo de pago"),t.k0s(),t.j41(3,"th"),t.EFF(4,"Monto"),t.k0s(),t.DNE(5,xe,4,0,"ng-template",null,94,t.C5r),t.k0s())}function Me(o,s){1&o&&(t.j41(0,"td"),t.nrm(1,"span"),t.k0s(),t.j41(2,"td"),t.nrm(3,"span"),t.k0s())}function Ge(o,s){if(1&o&&(t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.nI1(5,"currencyFormat"),t.k0s(),t.DNE(6,Me,4,0,"ng-template",null,94,t.C5r),t.k0s()),2&o){const e=s.$implicit;t.R7$(2),t.JRh(e.medio_pago.nombre),t.R7$(2),t.SpI("$ ",t.bMT(5,2,e.monto),"")}}function Se(o,s){1&o&&(t.j41(0,"td"),t.nrm(1,"span"),t.k0s(),t.j41(2,"td"),t.nrm(3,"span"),t.k0s())}function Ae(o,s){if(1&o&&(t.j41(0,"tr")(1,"td",95),t.EFF(2,"Total"),t.k0s(),t.j41(3,"td",95),t.EFF(4),t.nI1(5,"currencyFormat"),t.k0s(),t.DNE(6,Se,4,0,"ng-template",null,94,t.C5r),t.k0s()),2&o){const e=t.XpG(2);t.R7$(4),t.SpI(" $",t.bMT(5,1,e.abonosTotalOcupar),"")}}function Oe(o,s){1&o&&(t.j41(0,"th"),t.nrm(1,"span"),t.k0s(),t.j41(2,"th"),t.nrm(3,"span"),t.k0s())}function Ne(o,s){1&o&&(t.j41(0,"tr")(1,"th"),t.EFF(2,"Nombre"),t.k0s(),t.j41(3,"th"),t.EFF(4,"Precio"),t.k0s(),t.DNE(5,Oe,4,0,"ng-template",null,94,t.C5r),t.k0s())}function Pe(o,s){1&o&&(t.j41(0,"td"),t.nrm(1,"span"),t.k0s(),t.j41(2,"td"),t.nrm(3,"span"),t.k0s())}function we(o,s){if(1&o&&(t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.nI1(5,"currencyFormat"),t.k0s(),t.DNE(6,Pe,4,0,"ng-template",null,94,t.C5r),t.k0s()),2&o){const e=s.$implicit;t.R7$(2),t.JRh(e.nombre),t.R7$(2),t.SpI("$",t.bMT(5,2,e.valor),"")}}function Ye(o,s){1&o&&(t.j41(0,"td"),t.nrm(1,"span"),t.k0s(),t.j41(2,"td"),t.nrm(3,"span"),t.k0s())}function He(o,s){if(1&o&&(t.j41(0,"tr")(1,"td",95),t.EFF(2,"Total"),t.k0s(),t.j41(3,"td",95),t.EFF(4),t.nI1(5,"currencyFormat"),t.k0s(),t.DNE(6,Ye,4,0,"ng-template",null,94,t.C5r),t.k0s()),2&o){const e=t.XpG(2);t.R7$(4),t.SpI(" $",t.bMT(5,1,e.tarifasTotalOcupar),"")}}function Ve(o,s){1&o&&(t.j41(0,"th"),t.nrm(1,"span"),t.k0s(),t.j41(2,"th"),t.nrm(3,"span"),t.k0s())}function Be(o,s){1&o&&(t.j41(0,"tr")(1,"th"),t.EFF(2,"Subtotal"),t.k0s(),t.j41(3,"th"),t.EFF(4,"Total"),t.k0s(),t.DNE(5,Ve,4,0,"ng-template",null,94,t.C5r),t.k0s())}function Le(o,s){1&o&&(t.j41(0,"td"),t.nrm(1,"span"),t.k0s(),t.j41(2,"td"),t.nrm(3,"span"),t.k0s())}function Xe(o,s){if(1&o&&(t.j41(0,"tr")(1,"td",95),t.EFF(2),t.nI1(3,"currencyFormat"),t.k0s(),t.j41(4,"td",95),t.EFF(5),t.nI1(6,"currencyFormat"),t.k0s(),t.DNE(7,Le,4,0,"ng-template",null,94,t.C5r),t.k0s()),2&o){const e=t.XpG(2);t.R7$(2),t.SpI("$ ",e.totalPagarOcupar<=0?0:t.bMT(3,2,e.totalPagarOcupar)," "),t.R7$(3),t.SpI("$ ",e.totalPagarOcupar-e.abonosTotalOcupar<=0?0:t.bMT(6,4,e.totalPagarOcupar-e.abonosTotalOcupar)," ")}}const ze=function(){return{width:"70vw"}};function Je(o,s){if(1&o){const e=t.RV6();t.j41(0,"p-dialog",97),t.bIt("visibleChange",function(a){t.eBV(e);const n=t.XpG();return t.Njj(n.ocuparModalVisible=a)}),t.j41(1,"div",12)(2,"div",13),t.bIt("ngSubmit",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.enviarOcupar())}),t.j41(3,"h2",46),t.EFF(4),t.k0s(),t.j41(5,"div",14)(6,"div",15)(7,"label",64),t.EFF(8,"Cliente"),t.k0s(),t.j41(9,"p-multiSelect",98),t.bIt("onFilter",function(a){t.eBV(e);const n=t.XpG();return t.Njj(n.busquedaCliente(a))}),t.DNE(10,Re,3,1,"ng-template",17),t.DNE(11,Fe,1,0,"ng-template",66),t.k0s(),t.DNE(12,ke,2,0,"div",18),t.k0s(),t.j41(13,"div",15)(14,"label",64),t.EFF(15,"Tarifa"),t.k0s(),t.j41(16,"p-multiSelect",67),t.bIt("onChange",function(a){t.eBV(e);const n=t.XpG();return t.Njj(n.checkTarifaOcupar(a))}),t.DNE(17,Te,7,7,"ng-template",17),t.k0s(),t.DNE(18,Ie,2,0,"div",18),t.k0s(),t.j41(19,"div",15)(20,"p-panel",99)(21,"button",69),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.agregarAbonoOcupar())}),t.k0s(),t.DNE(22,je,17,3,"div",70),t.k0s()(),t.j41(23,"div",15)(24,"label"),t.EFF(25,"Descripci\xf3n"),t.k0s(),t.nrm(26,"textarea",22),t.k0s(),t.DNE(27,ye,1,0,"p-message",71),t.j41(28,"div",72)(29,"div",73)(30,"h5"),t.EFF(31,"Abonos"),t.k0s(),t.j41(32,"p-table",74),t.DNE(33,$e,7,0,"ng-template",75),t.DNE(34,Ge,8,4,"ng-template",76),t.DNE(35,Ae,8,3,"ng-template",66),t.k0s()()(),t.nrm(36,"hr"),t.j41(37,"div",72)(38,"div",73)(39,"h5"),t.EFF(40,"Tarifas"),t.k0s(),t.j41(41,"p-table",74),t.DNE(42,Ne,7,0,"ng-template",75),t.DNE(43,we,8,4,"ng-template",76),t.DNE(44,He,8,3,"ng-template",66),t.k0s()()(),t.j41(45,"div",72)(46,"div",73)(47,"h5"),t.EFF(48,"Totales"),t.k0s(),t.j41(49,"p-table",74),t.DNE(50,Be,7,0,"ng-template",75),t.DNE(51,Xe,9,6,"ng-template",66),t.k0s()()(),t.j41(52,"div",15)(53,"button",100),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.enviarOcupar())}),t.k0s()()()()()()}if(2&o){const e=t.XpG();t.Aen(t.lJ4(26,ze)),t.Y8G("visible",e.ocuparModalVisible)("modal",!0)("draggable",!1)("resizable",!1),t.R7$(2),t.Y8G("formGroup",e.ocuparForm),t.R7$(2),t.SpI("",e.nombreHabitacionReservada," "),t.R7$(5),t.Y8G("options",e.clienteData),t.R7$(3),t.Y8G("ngIf",e.ocuparForm.get("cliente_id").hasError("required")),t.R7$(4),t.Y8G("options",e.tarifaData),t.R7$(2),t.Y8G("ngIf",e.ocuparForm.get("tarifa_id").hasError("required")),t.R7$(2),t.Y8G("toggleable",!0)("collapsed",e.collapsed),t.R7$(2),t.Y8G("ngForOf",e.formAbonoOcuparArray.controls),t.R7$(5),t.Y8G("ngIf",e.abonosTotalOcupar>e.totalPagarOcupar),t.R7$(5),t.Y8G("value",e.formAbonoOcuparArray.value)("tableStyle",t.lJ4(27,F))("rows",5),t.R7$(9),t.Y8G("value",e.ocuparForm.get("tarifa_id").value)("tableStyle",t.lJ4(28,F))("rows",5),t.R7$(8),t.Y8G("value",t.lJ4(29,z))("tableStyle",t.lJ4(30,F))("rows",5),t.R7$(4),t.Y8G("disabled",e.ocuparForm.invalid||e.formAbonoOcuparArray.invalid||e.abonosTotalOcupar>e.totalPagarOcupar)}}function Ue(o,s){if(1&o){const e=t.RV6();t.j41(0,"app-clientes",101,102),t.bIt("clienteCreado",function(a){t.eBV(e);const n=t.XpG();return t.Njj(n.handleClienteCreado(a))}),t.k0s()}if(2&o){const e=t.XpG();t.Y8G("vieneDeHabitaciones",e.creandoCliente)}}const J=function(){return{width:"95vw",height:"195vw"}};let qe=(()=>{class o{ngOnInit(){this.creandoCliente=!1,this.buildForm(),this.pisoId=1,this.primerPiso=this.pisoId;let e=JSON.parse(localStorage.getItem("currentUser"));this.hotelId=e.usuario.datalle_hoteles[0].hotel_id,this.getRoomsDashboardPisos(),this.clienteData=[],this.ProductoServicioData=[],this.empleadosData=[],this.tarifaData=[],this.hoy=new Date,this.selectedFilter=0}constructor(e,i,a,n,r,c){this.dashboardRoomsService=e,this.FB=i,this.spinner=a,this.datePipe=n,this.router=r,this.layoutService=c,this.dayNamesSpanish=["Domingo","Lunes","Martes","Mi\xe9rcoles","Jueves","Viernes","S\xe1bado"],this.dayNamesShortSpanish=["Dom","Lun","Mar","Mi\xe9","Jue","Vie","S\xe1b"],this.monthNamesSpanish=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],this.monthNamesShortSpanish=["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],this.botonDisponibleColor="#26B01A",this.botonReservaColor="#A30E67",this.botonOcupadoColor="#FF3D3D",this.botonLimpiezaColor="#00A3FF",this.botonMantenimientoColor="#F6A510",this.botonFacturadoColor="#00C5B9",this.botonTodosColor="#353535",this.localeSettingsSpanish={firstDayOfWeek:1,dayNames:this.dayNamesSpanish,dayNamesShort:this.dayNamesShortSpanish,monthNames:this.monthNamesSpanish,monthNamesShort:this.monthNamesShortSpanish,today:"Hoy",clear:"Borrar",dateFormat:"dd/mm/yy",weekHeader:"Sm"},this.selectedMulti=[],this.primerPiso=1,this.pisoSeleccionado=1,this.dataRoom=[],this.ProductoServicioDataSeleccionados=[],this.visibleModalLimpieza=!1,this.visibleModalMantenimiento=!1,this.selectMedioPago=[],this.reservacionModalVisible=!1,this.ocuparModalVisible=!1,this.tarifaData=[],this.tarifasTotal=0,this.abonosTotal=0,this.totalPagarReserva=0,this.tarifasTotalOcupar=0,this.abonosTotalOcupar=0,this.totalPagarOcupar=0,this.disableButtonMantenimiento=!1,this.disableButtonLimpieza=!1,this.creandoCliente=!1,this.collapsed=!0,this.selectedFilter=null}buildForm(){this.spinner.hide(),this.formLimpieza=this.FB.group({descripcion:["",[]],empleado:["",[d.k0.required]],fechaInicio:["",[d.k0.required]],fechaFinal:["",[d.k0.required]]}),this.formMantenimiento=this.FB.group({descripcion:["",[]],empleado:["",[d.k0.required]],fechaInicio:["",[d.k0.required]],fechaFinal:["",[d.k0.required]]}),this.reservaForm=this.FB.group({cliente_id:["",[d.k0.required]],tarifa_id:["",[d.k0.required]],producto_id:["",[]],abonos:this.formAbonosArray,descripcion:["",[]],fechaInicio:["",[d.k0.required]],fechaFinal:["",[d.k0.required]]}),this.ocuparForm=this.FB.group({cliente_id:["",[d.k0.required]],tarifa_id:["",[d.k0.required]],producto_id:["",[]],abonos:this.formAbonoOcuparArray,descripcion:["",[]]}),this.formAbonosArray=this.FB.array([]),this.formAbonoOcuparArray=this.FB.array([])}getRoomsDashboard(e=0){this.dashboardRoomsService.getDashboardRooms({hotel_id:this.hotelId,piso_id:this.pisoId,estado_id:e}).subscribe(a=>{this.dataRoom.forEach(r=>{this.pisoId==r.piso&&(r.habitaciones=[])});let n=this.dataRoom.find(r=>r.piso==this.pisoId);n.loading=!1,a.forEach(r=>{n.habitaciones.push({nombre:r.nombre,json:r.diseno_json,id:r.id,detalle:r.habitacion_estado,tipoHabitacion:r.tipo_habitacion,habitacionNombre:JSON.parse(r.tipo_habitacion.diseno_json).puerta,piso:r.piso,habitacionEstado:r.habitacion_estado})}),this.dataRoom.forEach(r=>{this.pisoId==r.piso&&(r=n)})},a=>{console.log("Error: ",a)})}getRoomsDashboardPisos(e=0){this.dashboardRoomsService.getPisos({hotel_id:this.hotelId,piso_id:this.pisoId,estado_id:e}).subscribe(a=>{this.dataRoomsPisos=[],this.dataRoomsPisos=a.pisos,this.dataRoomsPisos.forEach(n=>{this.dataRoom.push({piso:n.piso,habitaciones:[],loading:!0})}),this.getRoomsDashboard(e)},a=>{console.log("Error: ",a)})}openTag(e){this.pisoId=e,this.getRoomsDashboard()}opcionSeleccionada(e,i){this.estadoHabitacion=e.item.id,this.formAbonosArray=this.FB.array([]),this.formAbonoOcuparArray=this.FB.array([]),setTimeout(()=>{this.accionMenuHabitaciones()},500)}accionMenuHabitaciones(){let e={};if(5==this.estadoHabitacion){const i=(new Date).setDate((new Date).getDate()+1);this.reservaForm.reset(),this.formAbonosArray.clear(),this.abonosTotal=0,this.tarifasTotal=0,this.totalPagarReserva=0,this.collapsed=!0,this.getReserva(),this.reservaForm.get("fechaInicio").setValue(new Date),this.reservaForm.get("fechaFinal").setValue(new Date(i)),this.reservacionModalVisible=!0}else 2==this.estadoHabitacion?(this.ocuparForm.reset(),this.formAbonoOcuparArray.clear(),this.abonosTotalOcupar=0,this.tarifasTotalOcupar=0,this.totalPagarOcupar=0,this.collapsed=!0,this.getReserva(),this.ocuparModalVisible=!0):4==this.estadoHabitacion?this.getDataEmpleado({hotel_id:this.habitacionId,estado:4}):6==this.estadoHabitacion?this.getDataEmpleado({hotel_id:this.habitacionId,estado:6}):20==this.estadoHabitacion?(e={id_habitacion:this.habitacionId},u().fire({title:"\xbfEstas seguro que deseas Salir (Check Out)?",text:"",icon:"warning",showCancelButton:!0,confirmButtonText:"S\xed, Confirmar",cancelButtonText:"Cancelar"}).then(i=>{i.isConfirmed&&this.enviarDesocupar(e)})):50==this.estadoHabitacion?(e={id_habitacion:this.habitacionId},u().fire({title:"\xbfEstas seguro que deseas Anular la reserva?",text:"",icon:"warning",showCancelButton:!0,confirmButtonText:"S\xed, Confirmar",cancelButtonText:"Cancelar"}).then(i=>{i.isConfirmed&&this.enviarAnularReserva(e)})):40==this.estadoHabitacion?(e={id_habitacion:this.habitacionId},u().fire({title:"\xbfEstas seguro que deseas Anular La Limpieza?",text:"",icon:"warning",showCancelButton:!0,confirmButtonText:"S\xed, Confirmar",cancelButtonText:"Cancelar"}).then(i=>{i.isConfirmed&&this.enviarAnularLimpieza(e)})):60==this.estadoHabitacion?(e={id_habitacion:this.habitacionId},u().fire({title:"\xbfEstas seguro que deseas Anular el mantenimiento?",text:"",icon:"warning",showCancelButton:!0,confirmButtonText:"S\xed, Confirmar",cancelButtonText:"Cancelar"}).then(i=>{i.isConfirmed&&this.enviarAnularMantenimiento(e)})):8==this.estadoHabitacion&&this.router.navigate(["dashboard/dashboardRooms/"+this.habitacionId+"/ocupar"])}abrirMenu(e,i){this.op1.toggle(e);let a=[];this.habitacionId=i.id,this.nombreHabitacionReservada=i.nombre,this.tipoHabitacionId=i.tipoHabitacion.id,this.pisoSeleccionado=i.piso,this.estadoHabitacionActual=i.habitacionEstado,this.detalleHabitacion=i.detalle,this.estadoHabitacionActual.forEach(c=>{a.push(c.estado_id)});let n=[];if(a.includes(5)||n.push({label:"Reservar",icon:"pi pi-calendar-times",id:"5",command:c=>this.opcionSeleccionada(c,i),visible:!0,disabled:!1}),a.includes(4)||n.push({label:"Limpieza",icon:"pi pi-exclamation-triangle",id:"4",command:c=>this.opcionSeleccionada(c,i),visible:!0,disabled:!1
/*!estadoHabitaciones.includes(2) ? false : true,*/}),(a.includes(2)||a.includes(7))&&n.push({label:"Ver Ingreso",icon:"pi pi-book",id:"8",command:c=>this.opcionSeleccionada(c,i),visible:!0,disabled:!a.includes(7)&&!a.includes(2)}),!a.includes(2)){let c=!1;i.detalle&&i.detalle.forEach(l=>{if(5==l.estado_id){let m=new Date(l.fecha_inicio),_=m.getFullYear()+"/"+m.getMonth()+"/"+m.getDate();(new Date).getFullYear()+"/"+(new Date).getMonth()+"/"+(new Date).getDate()==_&&(c=!0)}}),n.push({label:"Ingresar (Check-in)",icon:"pi pi-lock",id:"2",command:l=>this.opcionSeleccionada(l,i),visible:!0,disabled:!!a.includes(7)||a.includes(4)||a.includes(6)})}a.includes(6)||n.push({label:"Mantenimiento",icon:"pi pi-wrench",id:"6",command:c=>this.opcionSeleccionada(c,i),visible:!0,disabled:!1
/*!estadoHabitaciones.includes(2) ? false : true,*/});let r=!1;a.forEach(c=>{switch(c){case 5:r||(n.push({label:"Reservar",icon:"pi pi-calendar-times",id:"5",command:l=>this.opcionSeleccionada(l,i),visible:!0,disabled:!1}),r=!0);break;case 4:n.push({label:"Anular Limpieza",icon:"pi pi-exclamation-triangle",id:"40",command:l=>this.opcionSeleccionada(l,i),visible:!0,disabled:!1
/*!estadoHabitaciones.includes(2)
                    ? false
                    : true,*/});break;case 6:n.push({label:"Anular Mantenimiento",icon:"pi pi-wrench",id:"60",command:l=>this.opcionSeleccionada(l,i),visible:!0,disabled:!1
/*!estadoHabitaciones.includes(2)
                    ? false
                    : true,*/})}}),this.menuHabitacion=[{label:"Opciones",items:n}]}enviarDesocupar(e){this.dashboardRoomsService.desocupar(e).subscribe(i=>{let a=i;"success"==a.code?(u().fire({title:"Exito",text:"Anulacion Exitosa.",icon:"success"}),this.openTag(this.pisoSeleccionado)):"warning"==a.code?u().fire({title:"Advertencia",text:a.error,icon:"warning"}):u().fire({title:"Error",text:"Error al anular.",icon:"error"})},i=>{console.log("Error: ",i)})}enviarAnularReserva(e){this.dashboardRoomsService.anularReserva(e).subscribe(i=>{let a=i;"success"==a.code?(u().fire({title:"Exito",text:"Anulacion Exitosa.",icon:"success"}),this.layoutService.reloadComponent(),this.openTag(this.pisoSeleccionado)):"warning"==a.code?u().fire({title:"Advertencia",text:a.error,icon:"warning"}):u().fire({title:"Error",text:"Error al anular.",icon:"error"})},i=>{console.log("Error: ",i)})}enviarAnularLimpieza(e){this.dashboardRoomsService.anularLimpieza(e).subscribe(i=>{let a=i;"success"==a.code?(u().fire({title:"Exito",text:"Anulacion Exitosa.",icon:"success"}),this.openTag(this.pisoSeleccionado)):"warning"==a.code?u().fire({title:"Advertencia",text:a.error,icon:"warning"}):u().fire({title:"Error",text:"Error al anular.",icon:"error"})},i=>{console.log("Error: ",i)})}enviarAnularMantenimiento(e){this.spinner.show(),this.dashboardRoomsService.anularMantenimiento(e).subscribe(i=>{this.spinner.hide();let a=i;"success"==a.code?(u().fire({title:"Exito",text:"Anulacion Exitosa.",icon:"success"}),this.openTag(this.pisoSeleccionado)):"warning"==a.code?u().fire({title:"Advertencia",text:a.error,icon:"warning"}):u().fire({title:"Error",text:"Error al anular.",icon:"error"})},i=>{console.log("Error: ",i)})}enviarMantenimiento(e){this.spinner.show(),this.dashboardRoomsService.mantenimiento(e).subscribe(i=>{this.spinner.hide(),this.visibleModalMantenimiento=!1;let a=i;"success"==a.code?(u().fire({title:"Exito",text:"Registro exitoso.",icon:"success"}),this.openTag(this.pisoSeleccionado)):"warning"==a.code?u().fire({title:"Advertencia",text:a.error,icon:"warning"}):u().fire({title:"Error",text:"Error al registrar.",icon:"error"})},i=>{console.log("Error: ",i)})}enviarOcuparReserva(e){this.spinner.show(),this.dashboardRoomsService.ocuparReserva(e).subscribe(i=>{this.spinner.hide();let a=i;this.ocuparModalVisible=!1,"success"==a.code?(u().fire({title:"Exito",text:"Ingreso exitoso.",icon:"success"}),this.openTag(this.pisoSeleccionado)):"warning"==a.code?u().fire({title:"Advertencia",text:a.error,icon:"warning"}):u().fire({title:"Error",text:"Error al generar el ingreso.",icon:"error"})},i=>{console.log("Error: ",i)})}enviarLimpieza(e){this.spinner.show(),this.dashboardRoomsService.limpieza(e).subscribe(i=>{this.spinner.hide();let a=i;this.visibleModalLimpieza=!1,"success"==a.code?(u().fire({title:"Exito",text:"Registro exitoso.",icon:"success"}),this.openTag(this.pisoSeleccionado)):"warning"==a.code?u().fire({title:"Advertencia",text:a.error,icon:"warning"}):u().fire({title:"Error",text:"Error al registrar.",icon:"error"})},i=>{console.log("Error: ",i)})}getDataEmpleado(e){this.spinner.show(),this.dashboardRoomsService.getEmpleadoHabitacion(e).subscribe(i=>{this.spinner.hide(),this.empleadosData=[],i.empleados.forEach(a=>{this.empleadosData.push({name:a.nombres+" "+a.apellidos,code:a.id})}),4==e.estado?(this.formLimpieza.reset(),this.visibleModalLimpieza=!0):6==e.estado&&(this.formMantenimiento.reset(),this.visibleModalMantenimiento=!0)},i=>{this.spinner.hide(),console.log("Error: ",i)})}submitAsignarMantenimiento(){if(this.formMantenimiento.valid){let e={empleado_id:this.formMantenimiento.value.empleado[0].code,descripcion:this.formMantenimiento.value.descripcion,fecha_final:this.datePipe.transform(this.formMantenimiento.value.fechaFinal,"yyyy-MM-dd HH:mm:ss"),fecha_inicio:this.datePipe.transform(this.formMantenimiento.value.fechaInicio,"yyyy-MM-dd HH:mm:ss"),habitacion_id:this.habitacionId};this.enviarMantenimiento(e)}}changeFechaMantenimiento(){let e=this.formMantenimiento.get("fechaInicio").value,i=this.formMantenimiento.get("fechaFinal").value;this.disableButtonMantenimiento=e>i}changeFechaLimpieza(e){let i=this.formLimpieza.get("fechaInicio").value,a=this.formLimpieza.get("fechaFinal").value;this.disableButtonLimpieza=i>a}validarEstado(e,i){return e.filter(n=>n.estado_id==i).length}orderar(e){this.selectedFilter=e,this.dataRoom=[],this.getRoomsDashboardPisos(e)}busquedaCliente(e){this.getReserva(e.filter)}submitAsignarLimpieza(){if(this.formLimpieza.valid){let e={empleado_id:this.formLimpieza.value.empleado[0].code,descripcion:this.formLimpieza.value.descripcion,fecha_final:this.datePipe.transform(this.formLimpieza.value.fechaFinal,"yyyy-MM-dd HH:mm:ss"),fecha_inicio:this.datePipe.transform(this.formLimpieza.value.fechaInicio,"yyyy-MM-dd HH:mm:ss"),habitacion_id:this.habitacionId};this.enviarLimpieza(e)}}opcionesHabitacion(e){}getReserva(e=""){this.spinner.show(),this.dashboardRoomsService.getReserva({hotel_id:this.hotelId,cliente_busqueda:e,tipo_habitacion:this.tipoHabitacionId}).subscribe(a=>{this.spinner.hide();let n=a.cliente,r=a.metodos_pago,c=a.tarifa;this.clienteData=[],this.selectMedioPago=[],this.tarifaData=[],n.forEach(l=>{this.clienteData.push({nombre:l.numero_documento+" "+l.nombres+" "+(l.apellidos?l.apellidos:""),code:l.numero_documento,id:l.id})}),r.forEach(l=>{this.selectMedioPago.push({nombre:l.nombre,id:l.id})}),c.forEach(l=>{l.tipo_habitacion_id==this.tipoHabitacionId&&this.tarifaData.push({nombre:l.nombre,id:l.id,tipo:l.tipo,valor:l.valor,tipo_habitacion_id:l.tipo_habitacion_id,icon:1!=l.tipo?"pi pi-hourglass":"pi pi-moon"})})},a=>{this.spinner.hide(),console.log("Error: ",a)})}checkTarifaReserva(e){this.tarifasTotal=0,this.reservaForm.get("tarifa_id").value.forEach(i=>{this.tarifasTotal=this.tarifasTotal+parseInt(i.valor)}),this.totalPagarReserva=0,this.totalPagarReserva=this.tarifasTotal}checkAbonos(){this.abonosTotal=0,this.formAbonosArray.value.forEach(e=>{this.abonosTotal=this.abonosTotal+parseFloat(e.monto)})}agregarAbono(){let e=this.FB.group({monto:["",[d.k0.required,d.k0.min(0)]],medio_pago:[this.selectMedioPago[0],[d.k0.required,d.k0.min(0)]]});this.formAbonosArray.push(e)}eliminarAbono(e){this.formAbonosArray.removeAt(e),this.checkAbonos()}enviarReservar(){this.spinner.show();let e={hotel_id:this.hotelId,habitacion_id:this.habitacionId,cliente_id:this.reservaForm.get("cliente_id").value[0].id,tarifas:this.reservaForm.get("tarifa_id").value,abonos:this.formAbonosArray.value,descripcion:this.reservaForm.get("descripcion").value,fecha_inicio:this.datePipe.transform(this.reservaForm.get("fechaInicio").value,"yyyy-MM-dd HH:mm:ss"),fecha_final:this.datePipe.transform(this.reservaForm.get("fechaFinal").value,"yyyy-MM-dd HH:mm:ss"),subtotal:this.totalPagarReserva-this.abonosTotal,total:this.totalPagarReserva,productos:[]};this.dashboardRoomsService.reservar(e).subscribe(i=>{this.spinner.hide();let a=i;this.reservacionModalVisible=!1,"success"==a.code?(this.layoutService.reloadComponent(),u().fire({title:"Exito",text:"Reservacion exitosa.",icon:"success"}),this.openTag(this.pisoSeleccionado)):"warning"==a.code?u().fire({title:"Advertencia",text:a.error,icon:"warning"}):u().fire({title:"Error",text:"Error al generar la reserva.",icon:"error"})},i=>{console.log("Error: ",i)})}checkTarifaOcupar(e){this.tarifasTotalOcupar=0,this.ocuparForm.get("tarifa_id").value.forEach(i=>{this.tarifasTotalOcupar=this.tarifasTotalOcupar+parseInt(i.valor)}),this.totalPagarOcupar=this.tarifasTotalOcupar}checkAbonoOcupar(){this.abonosTotalOcupar=0,this.formAbonoOcuparArray.value.forEach(e=>{this.abonosTotalOcupar=this.abonosTotalOcupar+parseFloat(e.monto)})}agregarAbonoOcupar(){let e=this.FB.group({monto:["",[d.k0.required,d.k0.min(0)]],medio_pago:[this.selectMedioPago[0],[d.k0.required,d.k0.min(0)]]});this.formAbonoOcuparArray.push(e)}eliminarAbonoOcupar(e){this.formAbonoOcuparArray.removeAt(e),this.checkAbonoOcupar()}enviarOcupar(){this.spinner.show();let e={cliente_id:this.ocuparForm.get("cliente_id").value[0].id,total:this.totalPagarOcupar,subtotal:this.totalPagarOcupar-this.abonosTotalOcupar,tarifas:this.ocuparForm.get("tarifa_id").value,productos:[],descripcion:this.ocuparForm.get("descripcion").value,habitacion_id:this.habitacionId,hotel_id:this.hotelId,abonos:this.formAbonoOcuparArray.value};this.dashboardRoomsService.ocupar(e).subscribe(i=>{this.spinner.hide();let a=i;this.ocuparModalVisible=!1,"success"==a.code?(u().fire({title:"Exito",text:"Ingreso exitosa.",icon:"success"}),this.layoutService.reloadComponent(),this.openTag(this.pisoSeleccionado)):"warning"==a.code?u().fire({title:"Advertencia",text:a.error,icon:"warning"}):u().fire({title:"Error",text:"Error al generar el ingreso.",icon:"error"})},i=>{console.log("Error: ",i)})}crearCliente(){this.creandoCliente=!0}handleClienteCreado(e){this.creandoCliente=!1,e&&this.getReserva(),this.collapsed=!(this.formAbonosArray.length>0||this.formAbonoOcuparArray.length>0)}hideDialog(){this.reservacionModalVisible=!1}static{this.\u0275fac=function(i){return new(i||o)(t.rXU(x.y),t.rXU(d.ok),t.rXU(D.ex),t.rXU(h.vh),t.rXU(R.Ix),t.rXU(H.Y))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-dashboard-rooms"]],viewQuery:function(i,a){if(1&i&&t.GBs(Rt,5),2&i){let n;t.mGM(n=t.lsd())&&(a.op1=n.first)}},decls:71,vars:64,consts:[["type","ball-scale-multiple","size","large","bdColor","rgba(192,192,192,0.8)","template","<img src='assets/loading/cargando.gif' />"],[1,"card"],["icon","pi pi-calendar-times","value","Reservada",1,"btn","reservada","padding","habilitarCursor",3,"click"],["class","pi pi-check",4,"ngIf"],["icon","pi pi-lock-open","value","Disponible",1,"btn","disponible","padding","habilitarCursor",3,"click"],["icon","pi pi-exclamation-triangle","value","Limpieza",1,"btn","limpieza","padding","habilitarCursor",3,"click"],["icon","pi pi-wrench","value","Mantenimiento",1,"btn","mantenimiento","padding","habilitarCursor",3,"click"],["icon","pi pi-lock","value","Ocupada",1,"btn","ocupada","padding","habilitarCursor",3,"click"],["value","Todos",1,"btn","ninguna","padding","habilitarCursor",3,"click"],[4,"ngFor","ngForOf"],["header","Reservar",3,"showHeader","visible","modal","style","draggable","resizable","visibleChange",4,"ngIf"],["header","Asignar Limpieza","dateFormat","dd/mm/yy",3,"visible","modal","draggable","resizable","visibleChange"],[1,"col-12"],[3,"formGroup","ngSubmit"],[1,"p-fluid","p-formgrid","grid"],[1,"field","col-12","md:col-12"],["formControlName","empleado","selectionLimit","1","optionLabel","name","placeholder","Buscar Empleados","optionLabel","name","display","chip","emptyMessage","Empleado no encontrado",1,"multiselect-custom",3,"options"],["pTemplate","item"],["style","color: red;",4,"ngIf"],[1,"field","col-12","md:col-6"],["locale","localeSettingsSpanish","inputId","fechaInicioLimpieza","formControlName","fechaInicio","showTime","true",1,"ng-dirty",3,"showIcon","onSelect"],["locale","localeSettingsSpanish","inputId","fechaFinalLimpieza","formControlName","fechaFinal","showTime","true",1,"ng-dirty",3,"showIcon","onSelect"],["formControlName","descripcion","pInputTextarea","","rows","3","cols","20"],["severity","error","class","padding","text","La fecha final es mayor a la fecha inicial",4,"ngIf"],["pButton","","pRipple","","label","Asignar limpieza","type","submit",1,"w-full","bg-admin","boder-admin","mb-5","border-round-3xl",3,"disabled"],["header","Asignar Mantenimiento",3,"visible","modal","draggable","resizable","visibleChange"],["locale","localeSettingsSpanish","inputId","fechaInicioMantenimiento","formControlName","fechaInicio","showTime","true",1,"ng-dirty",3,"showIcon","onSelect"],["locale","localeSettingsSpanish","inputId","fechaFinalMantenimiento","formControlName","fechaFinal","showTime","true",1,"ng-dirty",3,"showIcon","onSelect"],["pButton","","pRipple","","label","Asignar Mantenimiento","type","submit",1,"w-full","bg-admin","boder-admin","mb-5","border-round-3xl",3,"disabled"],["header","Ingresar ",3,"visible","modal","style","draggable","resizable","visibleChange",4,"ngIf"],[3,"vieneDeHabitaciones","clienteCreado",4,"ngIf"],[1,"pi","pi-check"],[1,"line-height-3","m-0",3,"header","selected","selectedChange"],["pTemplate","listItem"],["class","pi pi-spin pi-spinner","style","font-size: 4em;",4,"ngIf"],[1,"grid","p-fluid","mt-3"],["class","field col-12 md:col-3",4,"ngFor","ngForOf"],[1,"pi","pi-spin","pi-spinner",2,"font-size","4em"],[1,"field","col-12","md:col-3"],[3,"showCloseIcon"],["op1",""],[3,"model","click"],[1,"nomeRoome",3,"click"],["pButton","",3,"label"],[1,"pi","pi-ellipsis-v",2,"font-size","2rem","margin-top","4%","cursor","pointer",3,"click"],[2,"cursor","pointer",3,"click"],[2,"text-align","center"],["width","80%","height","80%",1,"rooms",3,"src"],[1,"habitaciones-container"],["class","habitacion-item","style","padding: 2%;",4,"ngIf"],[1,"habitacion-item",2,"padding","2%"],["icon","pi pi-calendar-times",3,"value"],["icon","pi pi-lock-open","value","Disponible"],["icon","pi pi-exclamation-triangle","value","Limpieza"],["icon","pi pi-wrench","value","Mantenimiento"],["icon","pi pi-lock","value","Ocupado"],["header","Reservar",3,"showHeader","visible","modal","draggable","resizable","visibleChange"],[1,"container"],[1,"div1"],[2,"width","100%"],[1,"div2"],["icon","pi pi-times","pButton","","pRipple","","type","button",1,"p-button-rounded","p-button-text","p-button-plain",2,"text-align","left",3,"click"],["formControlName","fechaInicio","locale","localeSettingsSpanish","inputId","fechaInicio","showTime","true","dateFormat","dd/mm/yy",1,"ng-dirty",3,"minDate","showIcon"],["formControlName","fechaFinal","locale","localeSettingsSpanish","inputId","fechaFinal","showTime","true","dateFormat","dd/mm/yy",1,"ng-dirty",3,"minDate","showIcon"],["for","cliente"],["formControlName","cliente_id","selectionLimit","1","placeholder","Buscar cliente","optionLabel","nombre","display","chip","emptyMessage","Cliente no encontrado",1,"multiselect-custom",3,"options","onFilter"],["pTemplate","footer"],["formControlName","tarifa_id","optionLabel","nombre","placeholder","Buscar Tarifa","optionLabel","nombre","emptyMessage","Tarifa no encontrada","display","chip",1,"multiselect-custom",3,"options","onChange"],["header","Abonos  ",3,"toggleable","collapsed"],["pButton","","pRipple","","type","button","icon","pi pi-plus",1,"p-button-rounded",3,"click"],["style","margin-top: 5%;","class","grid formgrid",3,"formGroup",4,"ngFor","ngForOf"],["severity","error","class","padding","text","El abono es mayor a la cantidad agregada",4,"ngIf"],[1,"col-12","md:col-12"],[1,"table-details"],["responsiveLayout","scroll",3,"value","tableStyle","rows"],["pTemplate","header"],["pTemplate","body"],["pButton","","pRipple","","label","Crear Reserva","showTime","true","icon","pi pi-calendar-times","type","submit",1,"w-full","bg-admin","boder-admin","mb-5","border-round-3xl",3,"disabled","click"],[2,"color","red"],[1,"flex","align-items-center"],[1,"ml-2"],["pButton","","pRipple","","label","Crear nuevo cliente","type","button","icon","pi pi-plus",1,"w-full","bg-blue","boder-blue","mb-5","border-round-3xl",3,"click"],[1,"padding",3,"icon","value"],[4,"ngIf"],[1,"grid","formgrid",2,"margin-top","5%",3,"formGroup"],[1,"col-12","mb-2","lg:col-5","lg:mb-0"],["for","monto"],["currency","COP","locale","es-CO","minFractionDigits","0","min","1","id","monto","formControlName","monto","placeholder","Valor","maxFractionDigits","0",3,"ngModelChange"],["htmlFor","medioPago"],["formControlName","medio_pago","id","medioPago","optionLabel","nombre","placeholder","Seleccione una opci\xf3n",3,"options"],[1,"col-12","mb-2","lg:col-2","lg:mb-0"],["htmlFor","opciones"],["id","opciones","icon","pi pi-trash","severity","danger",3,"click"],["severity","error","text","El abono es mayor a la cantidad agregada",1,"padding"],["name",""],["colspan","1"],["severity","error","text","La fecha final es mayor a la fecha inicial",1,"padding"],["header","Ingresar ",3,"visible","modal","draggable","resizable","visibleChange"],["formControlName","cliente_id","selectionLimit","1","optionLabel","nombre","placeholder","Buscar cliente","display","chip","emptyMessage","Cliente no encontrado",1,"multiselect-custom",3,"options","onFilter"],["header","Abonos ",3,"toggleable","collapsed"],["pButton","","pRipple","","label","Crear Ingreso","icon","pi pi-calendar-times","type","submit",1,"w-full","bg-admin","boder-admin","mb-5","border-round-3xl",3,"disabled","click"],[3,"vieneDeHabitaciones","clienteCreado"],["clientes",""]],template:function(i,a){1&i&&(t.nrm(0,"ngx-spinner",0),t.j41(1,"div",1)(2,"div")(3,"p-tag",2),t.bIt("click",function(){return a.orderar(5)}),t.DNE(4,Ft,1,0,"i",3),t.k0s(),t.j41(5,"p-tag",4),t.bIt("click",function(){return a.orderar(3)}),t.DNE(6,kt,1,0,"i",3),t.k0s(),t.j41(7,"p-tag",5),t.bIt("click",function(){return a.orderar(4)}),t.DNE(8,Ct,1,0,"i",3),t.k0s(),t.j41(9,"p-tag",6),t.bIt("click",function(){return a.orderar(6)}),t.DNE(10,Dt,1,0,"i",3),t.k0s(),t.j41(11,"p-tag",7),t.bIt("click",function(){return a.orderar(2)}),t.DNE(12,Tt,1,0,"i",3),t.k0s(),t.j41(13,"p-tag",8),t.bIt("click",function(){return a.orderar(0)}),t.DNE(14,It,1,0,"i",3),t.k0s()(),t.j41(15,"h5"),t.EFF(16,"Habitaciones"),t.k0s(),t.DNE(17,At,4,2,"p-accordion",9),t.k0s(),t.DNE(18,pe,70,38,"p-dialog",10),t.j41(19,"p-dialog",11),t.bIt("visibleChange",function(r){return a.visibleModalLimpieza=r}),t.j41(20,"div",12)(21,"form",13),t.bIt("ngSubmit",function(){return a.submitAsignarLimpieza()}),t.j41(22,"div",14)(23,"div",15)(24,"p-multiSelect",16),t.DNE(25,me,3,1,"ng-template",17),t.k0s(),t.DNE(26,ue,2,0,"div",18),t.k0s(),t.j41(27,"div",19)(28,"label"),t.EFF(29,"Fecha Inicio "),t.k0s(),t.j41(30,"p-calendar",20),t.bIt("onSelect",function(r){return a.changeFechaLimpieza(r)}),t.k0s()(),t.j41(31,"div",19)(32,"label"),t.EFF(33,"Fecha Final"),t.k0s(),t.j41(34,"p-calendar",21),t.bIt("onSelect",function(r){return a.changeFechaLimpieza(r)}),t.k0s()(),t.j41(35,"div",15)(36,"label"),t.EFF(37,"Descripci\xf3n"),t.k0s(),t.nrm(38,"textarea",22),t.DNE(39,he,2,0,"div",18),t.k0s(),t.DNE(40,_e,1,0,"p-message",23),t.j41(41,"div",15),t.nrm(42,"button",24),t.k0s()(),t.nrm(43,"br"),t.k0s()()(),t.j41(44,"p-dialog",25),t.bIt("visibleChange",function(r){return a.visibleModalMantenimiento=r}),t.j41(45,"div",12)(46,"form",13),t.bIt("ngSubmit",function(){return a.submitAsignarMantenimiento()}),t.j41(47,"div",14)(48,"div",15)(49,"p-multiSelect",16),t.DNE(50,be,3,1,"ng-template",17),t.k0s(),t.DNE(51,fe,2,0,"div",18),t.k0s(),t.j41(52,"div",19)(53,"label"),t.EFF(54,"Fecha Inicio "),t.k0s(),t.j41(55,"p-calendar",26),t.bIt("onSelect",function(){return a.changeFechaMantenimiento()}),t.k0s()(),t.j41(56,"div",19)(57,"label"),t.EFF(58,"Fecha Final"),t.k0s(),t.j41(59,"p-calendar",27),t.bIt("onSelect",function(){return a.changeFechaMantenimiento()}),t.k0s()(),t.j41(60,"div",15)(61,"label"),t.EFF(62,"Descripci\xf3n"),t.k0s(),t.nrm(63,"textarea",22),t.DNE(64,ge,2,0,"div",18),t.k0s(),t.DNE(65,ve,1,0,"p-message",23),t.j41(66,"div",15),t.nrm(67,"button",28),t.k0s()(),t.nrm(68,"br"),t.k0s()()(),t.DNE(69,Je,54,31,"p-dialog",29),t.DNE(70,Ue,2,1,"app-clientes",30)),2&i&&(t.R7$(3),t.Aen(t.eq3(50,f,a.botonReservaColor)),t.R7$(1),t.Y8G("ngIf",5===a.selectedFilter),t.R7$(1),t.Aen(t.eq3(52,f,a.botonDisponibleColor)),t.R7$(1),t.Y8G("ngIf",3===a.selectedFilter),t.R7$(1),t.Aen(t.eq3(54,f,a.botonLimpiezaColor)),t.R7$(1),t.Y8G("ngIf",4===a.selectedFilter),t.R7$(1),t.Aen(t.eq3(56,f,a.botonMantenimientoColor)),t.R7$(1),t.Y8G("ngIf",6===a.selectedFilter),t.R7$(1),t.Aen(t.eq3(58,f,a.botonOcupadoColor)),t.R7$(1),t.Y8G("ngIf",2===a.selectedFilter),t.R7$(1),t.Aen(t.eq3(60,f,a.botonTodosColor)),t.R7$(1),t.Y8G("ngIf",0===a.selectedFilter),t.R7$(3),t.Y8G("ngForOf",a.dataRoom),t.R7$(1),t.Y8G("ngIf",!a.creandoCliente),t.R7$(1),t.Aen(t.lJ4(62,J)),t.Y8G("visible",a.visibleModalLimpieza)("modal",!0)("draggable",!1)("resizable",!1),t.R7$(2),t.Y8G("formGroup",a.formLimpieza),t.R7$(3),t.Y8G("options",a.empleadosData),t.R7$(2),t.Y8G("ngIf",a.formLimpieza.get("empleado").hasError("required")),t.R7$(4),t.Y8G("showIcon",!0),t.R7$(4),t.Y8G("showIcon",!0),t.R7$(5),t.Y8G("ngIf",a.formLimpieza.get("descripcion").hasError("required")),t.R7$(1),t.Y8G("ngIf",a.formLimpieza.get("fechaInicio").value>a.formLimpieza.get("fechaFinal").value),t.R7$(2),t.Y8G("disabled",a.formLimpieza.invalid||a.disableButtonLimpieza),t.R7$(2),t.Aen(t.lJ4(63,J)),t.Y8G("visible",a.visibleModalMantenimiento)("modal",!0)("draggable",!1)("resizable",!1),t.R7$(2),t.Y8G("formGroup",a.formMantenimiento),t.R7$(3),t.Y8G("options",a.empleadosData),t.R7$(2),t.Y8G("ngIf",a.formMantenimiento.get("empleado").hasError("required")),t.R7$(4),t.Y8G("showIcon",!0),t.R7$(4),t.Y8G("showIcon",!0),t.R7$(5),t.Y8G("ngIf",a.formMantenimiento.get("descripcion").hasError("required")),t.R7$(1),t.Y8G("ngIf",a.formMantenimiento.get("fechaInicio").value>a.formMantenimiento.get("fechaFinal").value),t.R7$(2),t.Y8G("disabled",a.formMantenimiento.invalid||a.disableButtonMantenimiento),t.R7$(2),t.Y8G("ngIf",!a.creandoCliente),t.R7$(1),t.Y8G("ngIf",a.creandoCliente))},dependencies:[V.Z,v.Ei,h.Sq,h.bT,E.XI,k._f,k.$n,d.qT,d.me,d.BC,d.cb,B.W1,C.n,j.Z,T.ms,ft,w.YI,y.l,d.j4,d.JD,D.et,M.nD,M.gV,G.v,Y.Vv,S.KF,A.C,vt.$,X.l],styles:['@charset "UTF-8";.rooms[_ngcontent-%COMP%]{cursor:pointer}.tag[_ngcontent-%COMP%]{padding:.5%;display:flex;text-align:center}.nomeRoome[_ngcontent-%COMP%]{text-align:center}.p-accordion[_ngcontent-%COMP%]   .p-accordion-content[_ngcontent-%COMP%]{padding:0%}.nomeRoome[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]{padding:2%}.padding[_ngcontent-%COMP%]{padding:1%}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-bottom:20px}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px solid #dddddd;text-align:left;padding:8px}th[_ngcontent-%COMP%]{background-color:#f2f2f2}.habilitarCursor[_ngcontent-%COMP%]{cursor:pointer}.container[_ngcontent-%COMP%]{display:flex;height:0%}.div1[_ngcontent-%COMP%]{flex:1;margin:5px 5px 5px -1%;height:0%}.div2[_ngcontent-%COMP%]{flex:1;text-align:right;height:0%}div[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{padding-top:4%;padding-left:4%;padding-right:0%}.container_div[_ngcontent-%COMP%]{display:flex;width:100%}.contenido-1[_ngcontent-%COMP%]{width:71%;box-sizing:border-box}.contenido-2[_ngcontent-%COMP%]{margin-right:5px;width:25%}.texto-nombre-habitacion[_ngcontent-%COMP%]{font-size:16px;font-weight:700;display:inline-block;max-width:250px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;vertical-align:top}.texto-nombre-tipo-habitacion[_ngcontent-%COMP%]{font-size:12px;display:inline-block;max-width:160px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;vertical-align:top}div[ngStyle][_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:nth-child(odd){flex-basis:100%}.habitaciones-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.habitacion-item[_ngcontent-%COMP%]{flex:0 1 calc(50% - 10px);margin:5px;box-sizing:border-box}']})}}return o})();var Ze=p(306),Qe=p(92),U=p(3682),q=p(1631);function We(o,s){1&o&&(t.j41(0,"tr")(1,"th"),t.EFF(2,"Categor\xeda"),t.k0s(),t.j41(3,"th"),t.EFF(4,"Total"),t.k0s(),t.j41(5,"th"),t.EFF(6,"Acci\xf3n"),t.k0s()())}function Ke(o,s){if(1&o){const e=t.RV6();t.j41(0,"button",69),t.bIt("click",function(){t.eBV(e);const a=t.XpG(2).$implicit,n=t.XpG();return t.Njj(n.modals(a.nombre))}),t.k0s()}}function to(o,s){if(1&o&&(t.j41(0,"td"),t.DNE(1,Ke,1,0,"button",68),t.k0s()),2&o){const e=t.XpG(2);t.R7$(1),t.Y8G("ngIf",2==(null==e.estadoHabitacion?null:e.estadoHabitacion.estado_id))}}function eo(o,s){1&o&&t.nrm(0,"td")}function oo(o,s){if(1&o&&(t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.nI1(5,"currencyFormat"),t.k0s(),t.DNE(6,to,2,1,"td",66),t.DNE(7,eo,1,0,"ng-template",null,67,t.C5r),t.k0s()),2&o){const e=s.$implicit,i=t.sdS(8);t.R7$(2),t.JRh(e.nombre),t.R7$(2),t.SpI("$",t.bMT(5,4,e.total),""),t.R7$(2),t.Y8G("ngIf",e.tipo)("ngIfElse",i)}}function ao(o,s){1&o&&t.nrm(0,"p-message",70)}function io(o,s){1&o&&(t.j41(0,"th"),t.nrm(1,"span"),t.k0s(),t.j41(2,"th"),t.nrm(3,"span"),t.k0s())}function no(o,s){1&o&&(t.j41(0,"th"),t.EFF(1,"Acciones"),t.k0s())}function so(o,s){if(1&o&&(t.j41(0,"tr")(1,"th"),t.EFF(2,"Nombre"),t.k0s(),t.j41(3,"th"),t.EFF(4,"Precio"),t.k0s(),t.DNE(5,io,4,0,"ng-template",null,71,t.C5r),t.DNE(7,no,2,0,"th",72),t.k0s()),2&o){const e=t.XpG();t.R7$(7),t.Y8G("ngIf",2==(null==e.estadoHabitacion?null:e.estadoHabitacion.estado_id))}}function ro(o,s){1&o&&(t.j41(0,"td"),t.nrm(1,"span"),t.k0s(),t.j41(2,"td"),t.nrm(3,"span"),t.k0s())}function lo(o,s){if(1&o){const e=t.RV6();t.j41(0,"td")(1,"p-button",73),t.bIt("click",function(){t.eBV(e);const a=t.XpG().$implicit,n=t.XpG();return t.Njj(n.confirmDeleteTarifa(a.id))}),t.k0s()()}}function co(o,s){if(1&o&&(t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.nI1(5,"currencyFormat"),t.k0s(),t.DNE(6,ro,4,0,"ng-template",null,71,t.C5r),t.DNE(8,lo,2,0,"td",72),t.k0s()),2&o){const e=s.$implicit,i=t.XpG();t.R7$(2),t.JRh(e.nombre),t.R7$(2),t.SpI("$",t.bMT(5,3,e.valor),""),t.R7$(4),t.Y8G("ngIf",2==(null==i.estadoHabitacion?null:i.estadoHabitacion.estado_id))}}function po(o,s){1&o&&(t.j41(0,"th"),t.EFF(1,"Acciones"),t.k0s())}function mo(o,s){if(1&o&&(t.j41(0,"tr")(1,"th"),t.EFF(2,"Nombre"),t.k0s(),t.j41(3,"th"),t.EFF(4,"Precio"),t.k0s(),t.j41(5,"th"),t.EFF(6,"Impuesto"),t.k0s(),t.j41(7,"th"),t.EFF(8,"Cantidad"),t.k0s(),t.j41(9,"th"),t.EFF(10,"Total"),t.k0s(),t.DNE(11,po,2,0,"th",72),t.k0s()),2&o){const e=t.XpG();t.R7$(11),t.Y8G("ngIf",2==(null==e.estadoHabitacion?null:e.estadoHabitacion.estado_id))}}function uo(o,s){if(1&o){const e=t.RV6();t.j41(0,"td")(1,"p-button",73),t.bIt("click",function(){t.eBV(e);const a=t.XpG().$implicit,n=t.XpG();return t.Njj(n.confirmDeleteProductos(a.identificador))}),t.k0s()()}}function ho(o,s){if(1&o){const e=t.RV6();t.j41(0,"tr")(1,"td"),t.EFF(2),t.nI1(3,"titlecase"),t.k0s(),t.j41(4,"td"),t.EFF(5),t.nI1(6,"currencyFormat"),t.k0s(),t.j41(7,"td"),t.EFF(8),t.nI1(9,"currencyFormat"),t.k0s(),t.j41(10,"td")(11,"input",74),t.bIt("keydown",function(){return!1})("input",function(a){const r=t.eBV(e).$implicit,c=t.XpG();return t.Njj(c.changeCantidadProducto(r,a))}),t.k0s()(),t.j41(12,"td"),t.EFF(13),t.nI1(14,"currencyFormat"),t.k0s(),t.DNE(15,uo,2,0,"td",72),t.k0s()}if(2&o){const e=s.$implicit,i=t.XpG();t.R7$(2),t.JRh(t.bMT(3,7,e.nombre)),t.R7$(3),t.SpI("$",t.bMT(6,9,e.subtotal),""),t.R7$(3),t.SpI("$",t.bMT(9,11,e.impuestos),""),t.R7$(3),t.Y8G("max",i.getCantidadMaximaProducto(e))("value",e.cantidad),t.R7$(2),t.SpI("$",t.bMT(14,13,e.valorImpuesto),""),t.R7$(2),t.Y8G("ngIf",2==(null==i.estadoHabitacion?null:i.estadoHabitacion.estado_id))}}function _o(o,s){if(1&o&&(t.j41(0,"tr")(1,"td",75),t.EFF(2,"Totales"),t.k0s(),t.j41(3,"td",75),t.EFF(4),t.nI1(5,"currencyFormat"),t.k0s(),t.j41(6,"td",76),t.EFF(7),t.nI1(8,"currencyFormat"),t.k0s(),t.j41(9,"td",76),t.EFF(10),t.nI1(11,"currencyFormat"),t.k0s()()),2&o){const e=t.XpG();t.R7$(4),t.SpI(" $",t.bMT(5,3,e.totalProductos-e.totalProductosImpuestos),""),t.R7$(3),t.SpI(" $",t.bMT(8,5,e.totalProductosImpuestos),""),t.R7$(3),t.SpI(" $",t.bMT(11,7,e.totalProductos),"")}}function bo(o,s){1&o&&(t.j41(0,"th"),t.EFF(1,"Acciones"),t.k0s())}function fo(o,s){if(1&o&&(t.j41(0,"tr")(1,"th"),t.EFF(2,"Nombre"),t.k0s(),t.j41(3,"th"),t.EFF(4,"Precio"),t.k0s(),t.j41(5,"th"),t.EFF(6,"Impuesto"),t.k0s(),t.j41(7,"th"),t.EFF(8,"Cantidad"),t.k0s(),t.j41(9,"th"),t.EFF(10,"Total"),t.k0s(),t.DNE(11,bo,2,0,"th",72),t.k0s()),2&o){const e=t.XpG();t.R7$(11),t.Y8G("ngIf",2==(null==e.estadoHabitacion?null:e.estadoHabitacion.estado_id))}}function go(o,s){if(1&o){const e=t.RV6();t.j41(0,"td")(1,"p-button",73),t.bIt("click",function(){t.eBV(e);const a=t.XpG().$implicit,n=t.XpG();return t.Njj(n.confirmDeleteRecetas(a.identificador))}),t.k0s()()}}function vo(o,s){if(1&o){const e=t.RV6();t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.nI1(5,"currencyFormat"),t.k0s(),t.j41(6,"td"),t.EFF(7),t.nI1(8,"currencyFormat"),t.k0s(),t.j41(9,"td")(10,"input",77),t.bIt("keydown",function(){return!1})("input",function(a){const r=t.eBV(e).$implicit,c=t.XpG();return t.Njj(c.changeCantidadReceta(r,a))}),t.k0s()(),t.j41(11,"td"),t.EFF(12),t.nI1(13,"currencyFormat"),t.k0s(),t.DNE(14,go,2,0,"td",72),t.k0s()}if(2&o){const e=s.$implicit,i=t.XpG();t.R7$(2),t.JRh(e.nombre),t.R7$(2),t.SpI("$",t.bMT(5,6,e.subtotal),""),t.R7$(3),t.SpI("$",e.impuestos?e.impuestos:t.bMT(8,8,0),""),t.R7$(3),t.Y8G("value",e.cantidad),t.R7$(2),t.SpI("$",t.bMT(13,10,e.total),""),t.R7$(2),t.Y8G("ngIf",2==(null==i.estadoHabitacion?null:i.estadoHabitacion.estado_id))}}function Ro(o,s){if(1&o&&(t.j41(0,"tr")(1,"td",75),t.EFF(2,"Totales"),t.k0s(),t.j41(3,"td",75),t.EFF(4),t.nI1(5,"currencyFormat"),t.k0s(),t.j41(6,"td",76),t.EFF(7),t.nI1(8,"currencyFormat"),t.k0s(),t.j41(9,"td",76),t.EFF(10),t.nI1(11,"currencyFormat"),t.k0s()()),2&o){const e=t.XpG();t.R7$(4),t.SpI(" $",t.bMT(5,3,e.totalRecetas-e.totalRecetasImpuestos),""),t.R7$(3),t.SpI(" $",t.bMT(8,5,e.totalRecetasImpuestos),""),t.R7$(3),t.SpI(" $",t.bMT(11,7,e.totalRecetas),"")}}function Fo(o,s){1&o&&(t.j41(0,"th"),t.EFF(1,"Acciones"),t.k0s())}function ko(o,s){if(1&o&&(t.j41(0,"tr")(1,"th"),t.EFF(2,"Monto"),t.k0s(),t.j41(3,"th"),t.EFF(4,"M\xe9todo de pago"),t.k0s(),t.DNE(5,Fo,2,0,"th",72),t.k0s()),2&o){const e=t.XpG();t.R7$(5),t.Y8G("ngIf",2==(null==e.estadoHabitacion?null:e.estadoHabitacion.estado_id))}}function Co(o,s){1&o&&t.nrm(0,"td")}function Do(o,s){if(1&o&&(t.j41(0,"tr")(1,"td"),t.EFF(2),t.nI1(3,"currencyFormat"),t.k0s(),t.j41(4,"td"),t.EFF(5),t.k0s(),t.DNE(6,Co,1,0,"td",72),t.k0s()),2&o){const e=s.$implicit,i=t.XpG();t.R7$(2),t.SpI("$",t.bMT(3,3,e.valor),""),t.R7$(3),t.JRh(e.nombre),t.R7$(1),t.Y8G("ngIf",2==(null==i.estadoHabitacion?null:i.estadoHabitacion.estado_id))}}function To(o,s){1&o&&(t.j41(0,"div")(1,"h5"),t.EFF(2,"Hora"),t.k0s()())}function Io(o,s){1&o&&(t.j41(0,"div")(1,"h5"),t.EFF(2,"Noche"),t.k0s()())}function Eo(o,s){if(1&o&&(t.j41(0,"div",78)(1,"span",79),t.EFF(2),t.nrm(3,"p-tag",80),t.DNE(4,To,3,0,"div",72),t.DNE(5,Io,3,0,"div",72),t.k0s()()),2&o){const e=s.$implicit;t.R7$(2),t.SpI(" ",e.nombre," "),t.R7$(1),t.FS9("icon",e.icon),t.FS9("value",e.valor),t.R7$(1),t.Y8G("ngIf",2==e.tipo),t.R7$(1),t.Y8G("ngIf",1==e.tipo)}}function jo(o,s){if(1&o&&(t.j41(0,"div",81)(1,"span",79),t.EFF(2),t.nI1(3,"titlecase"),t.k0s(),t.j41(4,"div"),t.nrm(5,"p-tag",82),t.nI1(6,"currencyFormat"),t.nrm(7,"p-tag",82),t.k0s()()),2&o){const e=s.$implicit;t.R7$(2),t.JRh(t.bMT(3,3,e.nombre)),t.R7$(3),t.Mz_("value"," $",t.bMT(6,5,e.valor_total),""),t.R7$(2),t.Mz_("value","Stock: ",1==e.sin_limite_cantidad?e.stockActual:"Ilimitado","")}}function yo(o,s){1&o&&(t.j41(0,"span",84),t.EFF(1,"Producto es requerido."),t.k0s())}function xo(o,s){if(1&o&&(t.j41(0,"div",83),t.DNE(1,yo,2,0,"span",43),t.k0s()),2&o){const e=t.XpG();t.R7$(1),t.Y8G("ngIf",e.formProducto.get("producto_id").hasError("required"))}}function $o(o,s){1&o&&(t.j41(0,"div",84),t.EFF(1,"Campo requerido"),t.k0s())}function Mo(o,s){1&o&&(t.j41(0,"div",85),t.EFF(1,"La cantidad excede el stock disponible."),t.k0s())}function Go(o,s){if(1&o&&(t.j41(0,"div",81)(1,"span",79),t.EFF(2),t.k0s(),t.nrm(3,"p-tag",82),t.nI1(4,"currencyFormat"),t.k0s()),2&o){const e=s.$implicit;t.R7$(2),t.JRh(e.nombre),t.R7$(1),t.Mz_("value","$",t.bMT(4,2,e.valor_total),"")}}function So(o,s){1&o&&(t.j41(0,"span",84),t.EFF(1,"Receta es requerida."),t.k0s())}function Ao(o,s){if(1&o&&(t.j41(0,"div",83),t.DNE(1,So,2,0,"span",43),t.k0s()),2&o){const e=t.XpG();t.R7$(1),t.Y8G("ngIf",e.formReceta.get("receta_id").hasError("required"))}}function Oo(o,s){1&o&&(t.j41(0,"div",84),t.EFF(1,"Campo requerido"),t.k0s())}function No(o,s){1&o&&(t.j41(0,"div",86),t.EFF(1,"La cantidad excede el stock disponible."),t.k0s())}function Po(o,s){if(1&o&&(t.j41(0,"div",78)(1,"span",79),t.EFF(2),t.k0s()()),2&o){const e=s.$implicit;t.R7$(2),t.JRh(e.nombre)}}function wo(o,s){if(1&o&&(t.j41(0,"div",78)(1,"span",79),t.EFF(2),t.k0s()()),2&o){const e=s.$implicit;t.R7$(2),t.JRh(e.nombre)}}function Yo(o,s){1&o&&(t.j41(0,"div",84),t.EFF(1,"Campo requerido."),t.k0s())}function Ho(o,s){if(1&o){const e=t.RV6();t.j41(0,"div",94)(1,"p-button",95),t.bIt("click",function(){t.eBV(e);const a=t.XpG().index,n=t.XpG();return t.Njj(n.eliminarMedioPagoAbono(a))}),t.k0s()()}}function Vo(o,s){if(1&o){const e=t.RV6();t.j41(0,"div",87)(1,"div",88)(2,"label"),t.EFF(3,"M\xe9todo de Pago"),t.k0s(),t.nrm(4,"input",89),t.k0s(),t.j41(5,"div",90)(6,"label",91),t.EFF(7,"Valor"),t.k0s(),t.nrm(8,"br"),t.j41(9,"input",92),t.bIt("blur",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.calcularTotalMetodosPago())}),t.k0s(),t.nrm(10,"br"),t.DNE(11,Yo,2,0,"div",43),t.k0s(),t.DNE(12,Ho,2,0,"div",93),t.k0s()}if(2&o){const e=s.$implicit,i=t.XpG();t.Y8G("formGroup",e),t.R7$(11),t.Y8G("ngIf",null==e||null==e.controls.monto||null==e.controls.monto.errors?null:e.controls.monto.errors.required),t.R7$(1),t.Y8G("ngIf",i.formFacturacionMediosPago.controls.length>1)}}function Bo(o,s){1&o&&(t.j41(0,"div",96),t.nrm(1,"p-message",97),t.k0s())}const Lo=function(){return{"min-width":"20rem"}},I=function(){return{"min-width":"25rem"}},Xo=function(){return{width:"60vw",height:"25vw"}},Z=function(){return{width:"60vw"}},zo=function(){return{width:"95vw",height:"40vw"}},Jo=function(){return{width:"50vw"}};let Uo=(()=>{class o{constructor(e,i,a,n,r,c,l,m){this.dashboardRoomsService=e,this.FB=i,this.spinner=a,this.datePipe=n,this.router=r,this.route=c,this.appComponent=l,this.layoutService=m,this.dataTarifa=[],this.dataAbonos=[],this.tarifasTotal=0,this.abonosTotal=0,this.items=[],this.total=0,this.subtotaltotal=0,this.tarifaVisible=!1,this.productoVisible=!1,this.abonoVisible=!1,this.recetaVisible=!1,this.allTarifas=[],this.allTarifasDefault=[],this.totalMetodosPago=0,this.totalImpuestos=0,this.impuestosData=[],this.detalleId=0,this.hotelId=0,this.clienteId=0,this.impuestos_save=[],this.montoSinRedondear=0,this.excedente=0,this.activarRedondear=!1,this.productsData=[],this.recetasData=[],this.productosAgregados=[],this.recetasAgregadas=[],this.totalProductos=0,this.totalProductosImpuestos=0,this.totalRecetas=0,this.totalRecetasImpuestos=0,this.validacionStock=!1,this.stockProductoModificado=!1,this.totales=[{nombre:"Tarifas",total:this.tarifasTotal,tipo:1},{nombre:"Productos/Servicios",total:this.totalProductos,tipo:1},{nombre:"Recetas",total:this.totalRecetas,tipo:1},{nombre:"Abonos",total:this.abonosTotal},{nombre:"Impuestos",total:this.totalImpuestos},{nombre:"Subtotal",total:this.subtotaltotal},{nombre:"Total sin redondear",total:0},{nombre:"Excedente",total:0},{nombre:"Total",total:0}],this.formFacturacionMediosPago=this.FB.array([]),this.baseUrl=Ze.T.url,this.token=l.getToken()}ngOnInit(){this.spinner.hide(),this.dataRoomDetail=[],this.habitacionId=parseFloat(this.route.snapshot.paramMap.get("idHabitacion")),this.buildForm(),this.getRoomOcupar()}cargarItems(){this.items=[{label:"Facturar",icon:"pi pi-dollar",disabled:this.disableFactura,command:e=>this.opcionSelect(e,"facturar")}]}buildForm(){const e=this.dataRoomDetail;this.form=this.FB.group({nombreHabitacion:[e?.detalleHabitacion?.habitacion?.nombre,[]],descripcion:[e?.detalleHabitacion?.descripcion,[]],nombreCliente:[(e?.detalleHabitacion?.cliente?.nombres?e?.detalleHabitacion?.cliente?.nombres:"")+" "+(e?.detalleHabitacion?.cliente?.apellidos?e?.detalleHabitacion?.cliente?.apellidos:""),[]],desde:[e?.detalleHabitacion?.checkin,[]],hasta:[e?.detalleHabitacion?.checkout,[]]}),this.formTarifa=this.FB.group({tarifa_id:[this.allTarifasDefault,[d.k0.required]]}),this.formProducto=this.FB.group({producto_id:[null,[d.k0.required]],cantidad:[1,[d.k0.required,d.k0.min(1)]]}),this.formMetodoPago=this.FB.group({metodo_pago_id:[null,[d.k0.required]],valor:[null,[d.k0.required,d.k0.min(1)]]}),this.formReceta=this.FB.group({receta_id:[null,[d.k0.required]],cantidad:[1,[d.k0.required,d.k0.min(1)]]});let i=this.FB.group({monto:["",[d.k0.required,d.k0.min(0)]],medio_pago:[this.dataMetodosPago?this.dataMetodosPago[0]:null,[d.k0.required,d.k0.min(1)]],nombre:[this.dataMetodosPago?this.dataMetodosPago[0].nombre:"",[]]});i.get("nombre").disable(),this.formFacturacionMediosPago=this.FB.array([]),this.formFacturacionMediosPago.push(i),this.formFacturar=this.FB.group({isFacturaElectronica:[""]}),this.form.disable()}getRoomOcupar(){let e={habitacion_id:this.habitacionId};this.spinner.show(),this.dashboardRoomsService.getOcuparHabitacion(e).subscribe(i=>{function a(n){const r=parseFloat(n.precio);let c=0;return n.impuestos.forEach(l=>{const m=r*(Number(l.impuesto.porcentaje)/100);c+=m}),r+c}this.spinner.hide(),this.dataRoomDetail=i,this.estadoHabitacion=this.dataRoomDetail.estadoHabitacion,this.impuestos=this.dataRoomDetail.impuesto,this.allTarifasDefault=[],this.dataRoomDetail.tarifasHabitacion.forEach(n=>{this.dataTarifa.push({valor:n.valor,nombre:n.tarifa?.nombre,tipo:n.tipo,id:n.item_id})}),this.dataRoomDetail.recetasHabitacion.forEach(n=>{let r="receta"+this.generarIdAleatorio(),c=0;n?.recetas?.impuestos.forEach(l=>{let m=parseInt(l?.impuesto?.porcentaje)*parseFloat(n?.recetas.precio)/100;c+=m,this.impuestos_save.push({valor:m,porcentaje:l?.impuesto?.porcentaje,cantidad:n?.cantidad,id:l?.impuesto.id,item_id:n?.item_id,tipo:"4",identificador:r})}),this.recetasAgregadas.push({nombre:n?.recetas?.nombre,subtotal:n?.recetas?.precio,impuestos:c,total:(c+parseFloat(n?.recetas?.precio))*Number(n?.cantidad),cantidad:n?.cantidad,id:n?.item_id,identificador:r,impuestosData:n.recetas?.impuestos}),this.totalRecetas=this.totalRecetas+c+parseFloat(n?.recetas?.precio)}),this.dataMetodosPago=this.dataRoomDetail.metodos_pago,this.dataRoomDetail.productosHabitacion.forEach(n=>{let r=0,c="productos"+this.generarIdAleatorio();n.productos.impuestos.forEach(l=>{let m=parseInt(l.impuesto.porcentaje)*parseFloat(n?.productos.precio)/100;r+=m,this.impuestos_save.push({valor:m,porcentaje:l.impuesto.porcentaje,cantidad:n?.cantidad,id:l.impuesto.id,item_id:n?.item_id,tipo:"1",identificador:c})}),this.productosAgregados.push({nombre:n?.productos.nombre,cantidad:parseFloat(n?.cantidad),subtotal:parseFloat(n?.productos.precio),impuestos:r,valorImpuesto:(r+parseFloat(n?.productos.precio))*parseFloat(n?.cantidad),id:n?.item_id,identificador:c,tipoProducto:n?.productos.tipo_producto,impuestosData:n.productos.impuestos})}),this.dataRoomDetail.abonoHabitacion.forEach(n=>{this.dataAbonos.push({valor:n.valor,nombre:n.metodo_pago.nombre,id:n.id,metodo_pago_id:n?.metodo_pago.id,identificador:"abonos"+this.generarIdAleatorio()})}),this.dataRoomDetail.tarifas.forEach(n=>{this.allTarifas.push({valor:n.valor,nombre:n.nombre,tipo:n.tipo,id:n.id}),this.dataRoomDetail.tarifasHabitacion.filter(r=>r?.tarifa?.id==n.id).length>0&&this.allTarifasDefault.push({valor:n.valor,nombre:n.nombre,tipo:n.tipo,id:n.id})}),this.dataRoomDetail.productos.forEach(n=>{this.productsData.push({id:n.id,nombre:n.nombre,valor:n.precio,tipo:n.tipo_producto,impuestos:n.impuestos,stockActual:Number(n?.disponibles),stockActualFijo:Number(n?.disponibles_all),valor_total:a(n),sin_limite_cantidad:n?.sin_limite_cantidad})}),this.dataRoomDetail.recetas.forEach(n=>{this.recetasData.push({id:n.id,nombre:n.nombre,valor:n.precio,impuestos:n.impuestos,stock:n.cantidad,valor_total:a(n)})}),this.detalleId=this.dataRoomDetail?.detalleHabitacion.id,this.hotelId=this.dataRoomDetail?.detalleHabitacion.hotel_id,this.clienteId=this.dataRoomDetail?.detalleHabitacion.cliente?.id,this.buildForm(),this.recalcular(),this.cargarItems()})}recalcular(){this.tarifasTotal=0,this.totalProductos=0,this.abonosTotal=0,this.total=0,this.totalImpuestos=0,this.totalRecetas=0,this.dataTarifa.forEach(i=>{this.tarifasTotal=this.tarifasTotal+parseFloat(i.valor)}),this.totalProductos=this.productosAgregados.reduce((i,a)=>i+a.valorImpuesto,0),this.totalProductosImpuestos=this.productosAgregados.reduce((i,a)=>i+a.impuestos*a.cantidad,0),this.totalRecetas=this.recetasAgregadas.reduce((i,a)=>i+a.total,0),this.totalRecetasImpuestos=this.recetasAgregadas.reduce((i,a)=>i+a.impuestos*a.cantidad,0),this.dataAbonos.forEach(i=>{this.abonosTotal=this.abonosTotal+parseFloat(i.valor)}),this.totalImpuestos=this.totalProductosImpuestos+this.totalRecetasImpuestos,this.subtotaltotal=this.tarifasTotal+(this.totalProductos-this.totalProductosImpuestos)+(this.totalRecetas-this.totalRecetasImpuestos),this.total=this.subtotaltotal+this.totalImpuestos-this.abonosTotal,this.totales=[{nombre:"Tarifas",total:this.tarifasTotal,tipo:1},{nombre:"Productos/Servicios",total:this.totalProductos-this.totalProductosImpuestos,tipo:1},{nombre:"Recetas",total:this.totalRecetas-this.totalRecetasImpuestos,tipo:1},{nombre:"Abonos",total:this.abonosTotal},{nombre:"Impuestos",total:this.totalImpuestos},{nombre:"Subtotal",total:this.subtotaltotal},{nombre:"Total",total:this.total}],this.activarRedondear?(this.montoSinRedondear=this.total,this.total=function e(i){let a=i%50,n=0;return a>0&&(n=50-a),i+n}(this.total),this.excedente=this.total-this.montoSinRedondear,this.totales[6]={nombre:"Total sin redondear",total:this.montoSinRedondear},this.totales.push({nombre:"Excedente",total:this.excedente}),this.totales.push({nombre:"Total",total:this.total})):(this.excedente=0,this.totales=this.totales.filter(i=>"Total sin redondear"!==i.nombre||"Excedente"!==i.nombre)),this.validaciones()}modals(e){switch(e){case"Tarifas":this.tarifaVisible=!0;break;case"Productos/Servicios":this.formProducto.reset(),this.productoVisible=!0,this.validacionStock=!1;break;case"Recetas":this.formReceta.reset(),this.recetaVisible=!0,this.validacionStock=!1;break;case"Abonos":this.abonoVisible=!0}}validarStock(e){if("producto"==e&&this.formProducto.valid){const i=this.formProducto.get("producto_id").value,a=this.formProducto.get("cantidad").value;this.validacionStock=i.stockActual<a&&1==i.sin_limite_cantidad}}opcionSelect(e,i){"desocupar"==i&&this.desocuparHabitacion(),"facturar"==i&&this.facturacion()}confirmDeleteAbono(e){this.dataAbonos=this.dataAbonos.filter(i=>i.identificador!=e),this.recalcular()}confirmDeleteTarifa(e){this.dataTarifa=this.dataTarifa.filter(i=>i.id!=e),this.allTarifasDefault=this.dataTarifa,this.buildForm(),this.recalcular()}confirmDeleteProductos(e){this.productosAgregados.forEach(i=>{i.identificador==e&&this.productsData.forEach(a=>{a.id==i.id&&(a.stockActual=a.stockActual+i.cantidad)})}),this.productosAgregados=this.productosAgregados.filter(i=>i.identificador!=e),this.stockProductoModificado=this.productosAgregados.some(i=>1==i.stockModificado),this.impuestos_save=this.impuestos_save.filter(i=>i.identificador!=e),this.recalcular()}confirmDeleteRecetas(e){this.recetasAgregadas=this.recetasAgregadas.filter(i=>i.identificador!=e),this.impuestos_save=this.impuestos_save.filter(i=>i.identificador!=e),this.recalcular()}submitTarifa(){this.recargarTablaTarifa(),this.tarifaVisible=!1,this.recalcular()}submitProducto(){this.recargarTablaProducto(),this.productoVisible=!1,this.recalcular()}submitReceta(){this.recetaVisible=!1,this.recargarTablaReceta(),this.recalcular()}recargarTablaReceta(e=null,i=null,a=null){let n=e;null==e&&(n=this.formReceta.get("receta_id")?.value);let r=i;null==i&&(r=this.formReceta.get("cantidad").value);let c="receta"+this.generarIdAleatorio(),l=0;if(n.impuestos.forEach(m=>{let _=parseInt(m.impuesto.porcentaje)*parseFloat(n.valor)/100;l+=_,this.impuestos_save.push({valor:_,porcentaje:m?.impuesto?.porcentaje,cantidad:r,id:m?.impuesto.id,item_id:n.id,tipo:"4",identificador:c})}),this.recetasAgregadas.find(m=>m.nombre==n.nombre)){let m=this.recetasAgregadas.findIndex(_=>_.nombre==n.nombre);this.recetasAgregadas[m].cantidad=this.recetasAgregadas[m].cantidad+r,this.recetasAgregadas[m].total=this.recetasAgregadas[m].total+(parseFloat(n.valor)+l)*r}else null!=a?this.recetasAgregadas.splice(a,0,{nombre:n.nombre,cantidad:r,subtotal:n.valor,impuestos:l,total:(l+parseFloat(n.valor))*Number(r),id:n.id,identificador:c,impuestosData:n.impuestos}):this.recetasAgregadas.push({nombre:n.nombre,cantidad:r,subtotal:n.valor,impuestos:l,total:(l+parseFloat(n.valor))*Number(r),id:n.id,identificador:c,impuestosData:n.impuestos})}recargarTablaProducto(e=null,i=null,a=null){let n=e,r=i;null==e&&(n=this.formProducto.get("producto_id")?.value),null==i&&(r=this.formProducto.get("cantidad").value);let c=0,l="productos"+this.generarIdAleatorio();if(n?.impuestos.forEach(m=>{let _=parseInt(m.impuesto.porcentaje)*parseFloat(n.valor)/100;c+=_,this.impuestos_save.push({valor:_,porcentaje:m.impuesto.porcentaje,cantidad:r,id:m.impuesto.id,item_id:n.id,tipo:"1",identificador:l})}),this.productosAgregados?.find(m=>m.nombre==n?.nombre)){let m=this.productosAgregados?.findIndex(_=>_.nombre==n.nombre);this.productosAgregados[m].cantidad+=r,this.productosAgregados[m].valorImpuesto+=(parseFloat(n?.valor)+c)*r,this.productsData.forEach(_=>{_.id==n?.id&&(_.stockActual=null!=e?_.stockActualFijo-r:_.stockActual-r)})}else null==a?this.productosAgregados.push({nombre:n?.nombre,cantidad:Number(r),subtotal:parseFloat(n?.valor),impuestos:c,valorImpuesto:(parseFloat(n?.valor)+c)*Number(r),id:n?.id,identificador:l,tipoProducto:n?.tipo,impuestosData:n.impuestos}):this.productosAgregados.splice(a,0,{nombre:n?.nombre,cantidad:Number(r),subtotal:parseFloat(n?.valor),impuestos:c,valorImpuesto:(parseFloat(n?.valor)+c)*Number(r),id:n?.id,identificador:l,tipoProducto:n?.tipo,impuestosData:n.impuestos}),this.productsData.forEach(m=>{m.id==n.id&&(m.stockActual=null!=e?m.stockActualFijo-r:m.stockActual-r)});this.stockProductoModificado=this.productosAgregados.some(m=>1==m.stockModificado),this.formProducto.reset()}recargarTablaTarifa(){let e=this.formTarifa.get("tarifa_id").value;this.dataTarifa=[],this.allTarifasDefault=[],e.forEach(i=>{this.dataTarifa.push({valor:i.valor,nombre:i.nombre,tipo:i.tipo,id:i.id}),this.allTarifasDefault.push({valor:i.valor,nombre:i.nombre,tipo:i.tipo,id:i.id})})}recargarTablaAbonos(){let e=this.formMetodoPago.get("metodo_pago_id").value[0],i=parseFloat(this.formMetodoPago.get("valor").value);this.dataAbonos.push({valor:i,nombre:e.nombre,id:e.id,metodo_pago_id:e.id,identificador:"abonos"+this.generarIdAleatorio()})}submitAbono(){this.abonoVisible=!1,this.recargarTablaAbonos(),this.recalcular()}submitAll(){2==this.estadoHabitacion?.estado_id&&this.envirRoomDetalle({tarifas:this.dataTarifa,productos:this.productosAgregados,abonos:this.dataAbonos,detalleId:this.detalleId,hotelId:this.hotelId,clienteId:this.clienteId,receta:this.recetasAgregadas,habitacion_id:this.habitacionId})}envirRoomDetalle(e){this.spinner.show(),this.dashboardRoomsService.saveDetalleHabitacion(e).subscribe(i=>{this.spinner.hide();let a=i;if("success"==a.code)u().fire({title:"Exito",text:a.msm,icon:"success"}),this.layoutService.reloadComponent(),this.router.navigate(["dashboard/dashboardRooms"]);else if("warning"==a.code){u().fire({title:"Advertencia",text:a.msm,icon:"warning"});const n=a.productos_sin_stock;let r=0;this.stockProductoModificado=!0,n?.forEach(c=>{this.productsData.forEach(l=>{l.id==c.id&&(l.stockActual=0,r=l.valor_total)}),this.productosAgregados.forEach(l=>{l.id==c.id&&(l.cantidad=c.cantidad_actual,l.valorImpuesto=c.cantidad_actual*r,l.stockModificado=!0)})}),this.recalcular()}else u().fire({title:"Error",text:"Error al anular.",icon:"error"})})}envirRoomDetalleFactura(e){this.spinner.show(),this.dashboardRoomsService.saveDetalleHabitacion(e).subscribe(i=>{if("warning"==i.code)u().fire({title:"Advertencia",text:i.msm,icon:"warning"}),this.spinner.hide(),this.facturarVisible=!1;else{let a=this.formFacturar.get("isFacturaElectronica").value;this.enviarFacturacion({detalle_id:this.detalleId,metodos_pagos:this.formFacturacionMediosPago.value,concepto:"Factura Habitacion",hotel_id:this.hotelId,cliente_id:this.clienteId,porcentaje_descuento:0,subtotal:this.subtotaltotal,total:this.total+this.abonosTotal,impuesto_total:this.totalImpuestos,detalleId:this.detalleId,hotelId:this.hotelId,clienteId:this.clienteId,receta:this.recetasAgregadas,impuesto:this.impuestos_save,habitacion_id:this.habitacionId,is_factura_electronica:a,excedente:this.excedente})}})}desocuparHabitacion(){let e={id_habitacion:this.habitacionId};u().fire({title:"\xbfEstas seguro que deseas Salir (Check-out) de esta habitacion?",text:"",icon:"warning",showCancelButton:!0,confirmButtonText:"S\xed, Confirmar",cancelButtonText:"Cancelar"}).then(i=>{i.isConfirmed&&(this.spinner.show(),this.enviarDesocupar(e))})}facturacion(){this.facturarVisible=!0}enviarDesocupar(e){this.dashboardRoomsService.desocupar(e).subscribe(i=>{let a=i;this.spinner.hide(),"success"==a.code?(u().fire({title:"Exito",text:"Anulacion Exitosa.",icon:"success"}),this.router.navigate(["dashboard/dashboardRooms"])):"warning"==a.code?u().fire({title:"Advertencia",text:a.error,icon:"warning"}):u().fire({title:"Error",text:"Error al anular.",icon:"error"})},i=>{console.log("Error: ",i)})}validaciones(){this.disableFactura=!1,this.abonosTotal>this.tarifasTotal&&(this.disableFactura=!0,this.cargarItems())}eliminarMedioPagoAbono(e){this.formFacturacionMediosPago.removeAt(e),this.calcularTotalMetodosPago()}agregarAbonoOcupar(e){if(console.log("event",e),this.formFacturacionMediosPago.controls.find(a=>a.get("medio_pago").value.id==e.value.id))return;let i=this.FB.group({monto:["",[d.k0.required,d.k0.min(1)]],medio_pago:[e.value,[d.k0.required,d.k0.min(1)]],nombre:[e.value.nombre,[]]});i.get("nombre").disable(),this.formFacturacionMediosPago.push(i)}calcularTotalMetodosPago(){this.totalMetodosPago=0,this.formFacturacionMediosPago.value.forEach(e=>{let i=parseFloat(e.monto);isNaN(i)&&(i=0),this.totalMetodosPago+=i})}submitFactura(){this.envirRoomDetalleFactura({tarifas:this.dataTarifa,productos:this.productosAgregados,abonos:this.dataAbonos,detalleId:this.detalleId,hotelId:this.hotelId,clienteId:this.clienteId,receta:this.recetasAgregadas,impuesto:this.impuestos_save,habitacion_id:this.habitacionId})}enviarFacturacion(e){this.spinner.show("true",{size:"medium",color:"2C820C",type:"1",fullScreen:!0,showSpinner:!0}),this.dashboardRoomsService.facturar(e).subscribe(i=>{let a=i;this.facturarVisible=!1,this.spinner.hide(),"success"==a.code?(this.layoutService.reloadComponent(),u().fire({title:"Exito",text:a.msm,icon:"success"}),window.open(this.baseUrl+"/facturaRemisionPdf/"+a.factura.id+"?token="+this.token,"_blank"),this.router.navigate(["dashboard/dashboardRooms"])):"warning"==a.code?u().fire({title:"Advertencia",text:a.msm,icon:"warning"}):u().fire({title:"Error",text:"Error al Facturar.",icon:"error"})},i=>{console.log("Error: ",i)})}generarIdAleatorio(){let a="";for(let n=0;n<10;n++)a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random()));return a}changeCantidadProducto(e,i){let a=parseInt(i.target.value),n=e.id,r=null;this.productsData.forEach(l=>{l.id==n&&(r=l)});let c=this.productosAgregados.findIndex(l=>l.id==n);this.productosAgregados=this.productosAgregados.filter(l=>l.id!=n),this.recargarTablaProducto(r,a,c),this.recalcular()}changeCantidadReceta(e,i){let a=parseInt(i.target.value),n=e.id,r=null;this.recetasData.forEach(l=>{l.id==n&&(r=l)});let c=this.recetasAgregadas.findIndex(l=>l.id==n);this.recetasAgregadas=this.recetasAgregadas.filter(l=>l.id!=n),this.recargarTablaReceta(r,a,c),this.recalcular()}getCantidadMaximaProducto(e){console.log("lol2",this.productsData);let i=e.id,a=1;return this.productsData.forEach(n=>{n.id==i&&(a=n.stockActualFijo)}),a}static{this.\u0275fac=function(i){return new(i||o)(t.rXU(x.y),t.rXU(d.ok),t.rXU(D.ex),t.rXU(h.vh),t.rXU(R.Ix),t.rXU(R.nX),t.rXU(Qe.Z),t.rXU(H.Y))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-dashboard-rooms-ocupar"]],decls:166,vars:94,consts:[["type","ball-scale-multiple","size","large","bdColor","rgba(192,192,192,0.8)","template","<img src='assets/loading/cargando.gif' />"],[1,"surface-section","px-4","py-5","md:px-6","lg:px-8"],[1,"flex","align-items-center","flex-column","lg:flex-row"],[1,"field","md:px-6","lg:col-1"],["pButton","","pRipple","","label","","icon","pi pi-arrow-left",1,"p-button-outlined","mr-4",3,"routerLink"],[1,"field","md:px-6","lg:col-8"],[1,"font-medium","text-3xl","text-900"],[1,"field","md:px-6","lg:col-3"],[3,"label","disabled","model","onClick"],[1,"grid","mt-2"],[1,"col-12"],[1,"card",2,"padding","30px"],[1,"grid"],[1,"col-12","md:col-5"],["responsiveLayout","scroll",3,"value","tableStyle","rows"],["pTemplate","header"],["pTemplate","body"],[2,"margin-bottom","30px"],[3,"formGroup"],[1,"p-fluid","p-formgrid","grid","p-3"],[1,"field","col-12","lg:col-12"],["type","text","formControlName","nombreCliente","pInputText","",1,"w-full","mb-3","border-round-3xl"],["type","text","formControlName","desde","pInputText","",1,"w-full","mb-3","border-round-3xl"],[1,"field","col-12","lg:col-6"],["type","text","formControlName","hasta","pInputText","",1,"w-full","mb-3","border-round-3xl"],["formControlName","descripcion","pInputTextarea","","rows","3","cols","20",2,"resize","none"],["severity","error","class","padding","text","El total de abonos no puede ser mayor al total a pagar",4,"ngIf"],[1,"col-12","md:col-7"],[1,"table-details"],["pTemplate","footer"],["header","Agregar Tarifa",3,"visible","modal","draggable","resizable","visibleChange"],[3,"formGroup","ngSubmit"],[1,"p-fluid","p-formgrid","grid"],[1,"field","col-12","md:col-12"],["formControlName","tarifa_id","optionLabel","nombre","placeholder","Buscar Tarifa","optionLabel","nombre","emptyMessage","Tarifa no encontrada","display","chip",1,"multiselect-custom",3,"options"],["pTemplate","item"],["pButton","","pRipple","","label","Agregar","type","submit",1,"w-full","bg-admin","boder-admin","mb-5","border-round-3xl",3,"disabled"],["header","Agregar Producto",3,"visible","modal","visibleChange"],[1,"field","col-12","md:col-6"],["for","producto_id"],["formControlName","producto_id","placeholder","Buscar Producto/Servicio","optionLabel","nombre","emptyMessage","Cargando productos...",1,"dropdown-custom",3,"options","onChange"],["style","margin-top: 14px;",4,"ngIf"],["type","number","min","1","formControlName","cantidad","placeholder","Cantidad","pInputText","",1,"w-full","mb-3","border-round-3xl",3,"input"],["style","color: red;",4,"ngIf"],["style","color: orangered;",4,"ngIf"],["header","Agregar Receta",3,"visible","modal","visibleChange"],["for","cliente"],["formControlName","receta_id","placeholder","Buscar Receta","optionLabel","nombre","emptyMessage","Cargando recetas...",1,"dropdown-custom",3,"options"],["type","number","min","1","formControlName","cantidad","placeholder","Cantidad","pInputText","",1,"w-full","mb-3","border-round-3xl"],["class","field col-12","style","color: red;",4,"ngIf"],["header","Abonos ",3,"visible","modal","draggable","resizable","visibleChange"],["type","number","min","1","formControlName","valor","pInputText","",1,"w-full","mb-3","border-round-3xl"],["formControlName","metodo_pago_id","selectionLimit","1","limoptionLabel","nombre","placeholder","Metodo de pago","optionLabel","nombre","emptyMessage","Cargando m\xe9todos de pago...","display","chip",1,"multiselect-custom",3,"options"],["header","Facturar ",3,"visible","modal","draggable","resizable","visibleChange"],[1,"field","col-12"],[1,"font-medium","text-2xl","text-500","text-center"],["optionLabel","nombre","emptyMessage","Cargando m\xe9todos de pago...","placeholder","Buscar M\xe9todo de Pago",1,"dropdown-custom",3,"options","autoDisplayFirst","onChange"],["class","grid",3,"formGroup",4,"ngFor","ngForOf"],["class","col-6","style","padding: 0; margin-top: 15px;",4,"ngIf"],[1,"flex",2,"justify-content","space-between"],[1,"flex","align-items-center",2,"gap","10px"],["severity","info","text","Generar Factura electronica"],["formControlName","isFacturaElectronica"],[1,"flex","flex-column","justify-end"],[1,"font-medium","text-2xl","text-500","text-right"],["pButton","","pRipple","","type","submit",1,"w-full","bg-admin","boder-admin","mb-5","border-round-3xl",3,"label","disabled","click"],[4,"ngIf","ngIfElse"],["emptyTd",""],["pButton","","pRipple","","class","p-button","icon","pi pi-plus",3,"click",4,"ngIf"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button",3,"click"],["severity","error","text","El total de abonos no puede ser mayor al total a pagar",1,"padding"],["name",""],[4,"ngIf"],["icon","pi pi-trash","severity","danger",3,"click"],["type","number","min","1","id","cantidadProducto","pInputText","","placeholder","Valor",2,"width","100%",3,"max","value","keydown","input"],["colspan","1"],["colspan","2"],["type","number","min","1","id","cantidadReceta","pInputText","","placeholder","Valor",2,"width","100%",3,"value","keydown","input"],[1,"flex","align-items-center"],[1,"ml-2"],[1,"padding",3,"icon","value"],[1,"flex","align-items-center",2,"display","flex","justify-content","space-between"],[1,"padding",3,"value"],[2,"margin-top","14px"],[2,"color","red"],[2,"color","orangered"],[1,"field","col-12",2,"color","red"],[1,"grid",3,"formGroup"],[1,"col-6","md:col-5"],["type","text","min","1","formControlName","nombre","placeholder","Metodo de pago","id","medioPago","pInputText","","disabled","",1,"w-full","mb-3","border-round-3xl"],[1,"col-4","md:col-5"],["for","monto"],["type","number","min","1","id","monto","formControlName","monto","pInputText","","placeholder","Valor",1,"w-full","mb-3","border-round-3xl",3,"blur"],["class","col-2 mt-4 eliminar-metodo-pago",4,"ngIf"],[1,"col-2","mt-4","eliminar-metodo-pago"],["id","opciones","icon","pi pi-trash","severity","danger",3,"click"],[1,"col-6",2,"padding","0","margin-top","15px"],["severity","error","text","El total ingresado no es igual al total a pagar"]],template:function(i,a){1&i&&(t.nrm(0,"ngx-spinner",0),t.j41(1,"div",1)(2,"div",2)(3,"div",3),t.nrm(4,"button",4),t.k0s(),t.j41(5,"div",5)(6,"div",6),t.EFF(7),t.k0s()(),t.j41(8,"div",7)(9,"p-splitButton",8),t.bIt("onClick",function(){return a.submitAll()}),t.k0s()()()(),t.j41(10,"div",9)(11,"div",10)(12,"div",11)(13,"h3"),t.EFF(14,"Detalles de la reserva"),t.k0s(),t.j41(15,"div",12)(16,"div",13)(17,"div")(18,"p-table",14),t.DNE(19,We,7,0,"ng-template",15),t.DNE(20,oo,9,6,"ng-template",16),t.k0s()(),t.nrm(21,"br"),t.j41(22,"div",17)(23,"p-toolbar")(24,"form",18)(25,"div",19)(26,"div",20)(27,"label"),t.EFF(28,"Hu\xe9sped"),t.k0s(),t.nrm(29,"input",21),t.k0s(),t.j41(30,"div",20)(31,"label"),t.EFF(32,"Check-in"),t.k0s(),t.nrm(33,"input",22),t.k0s(),t.j41(34,"div",23)(35,"label"),t.EFF(36,"Check-out"),t.k0s(),t.nrm(37,"input",24),t.k0s(),t.j41(38,"div",20)(39,"label"),t.EFF(40,"Descripci\xf3n"),t.k0s(),t.nrm(41,"textarea",25),t.k0s()()(),t.DNE(42,ao,1,0,"p-message",26),t.k0s()()(),t.j41(43,"div",27)(44,"div",28)(45,"h5"),t.EFF(46,"Tarifas"),t.k0s(),t.j41(47,"p-table",14),t.DNE(48,so,8,1,"ng-template",15),t.DNE(49,co,9,5,"ng-template",16),t.k0s()(),t.nrm(50,"hr"),t.j41(51,"div",28)(52,"h5"),t.EFF(53,"Productos/Servicios"),t.k0s(),t.j41(54,"p-table",14),t.DNE(55,mo,12,1,"ng-template",15),t.DNE(56,ho,16,15,"ng-template",16),t.DNE(57,_o,12,9,"ng-template",29),t.k0s()(),t.nrm(58,"hr"),t.j41(59,"div",28)(60,"h5"),t.EFF(61,"Recetas"),t.k0s(),t.j41(62,"p-table",14),t.DNE(63,fo,12,1,"ng-template",15),t.DNE(64,vo,15,12,"ng-template",16),t.DNE(65,Ro,12,9,"ng-template",29),t.k0s()(),t.nrm(66,"hr"),t.j41(67,"div",28)(68,"h5"),t.EFF(69,"Abonos"),t.k0s(),t.j41(70,"p-table",14),t.DNE(71,ko,6,1,"ng-template",15),t.DNE(72,Do,7,5,"ng-template",16),t.k0s()()()()()()(),t.j41(73,"p-dialog",30),t.bIt("visibleChange",function(r){return a.tarifaVisible=r}),t.j41(74,"div",10)(75,"form",31),t.bIt("ngSubmit",function(){return a.submitTarifa()}),t.j41(76,"div",32)(77,"div",33)(78,"label"),t.EFF(79,"Tarifa"),t.k0s(),t.j41(80,"p-multiSelect",34),t.DNE(81,Eo,6,5,"ng-template",35),t.k0s()(),t.j41(82,"div",33),t.nrm(83,"button",36),t.k0s()()()()(),t.j41(84,"p-dialog",37),t.bIt("visibleChange",function(r){return a.productoVisible=r}),t.j41(85,"div",10)(86,"form",31),t.bIt("ngSubmit",function(){return a.submitProducto()}),t.j41(87,"div",32)(88,"div",38)(89,"label",39),t.EFF(90,"Producto / Servicio"),t.k0s(),t.j41(91,"p-dropdown",40),t.bIt("onChange",function(){return a.validarStock("producto")}),t.DNE(92,jo,8,7,"ng-template",35),t.k0s(),t.DNE(93,xo,2,1,"div",41),t.k0s(),t.j41(94,"div",38)(95,"label"),t.EFF(96,"Cantidad"),t.k0s(),t.j41(97,"input",42),t.bIt("input",function(){return a.validarStock("producto")}),t.k0s(),t.DNE(98,$o,2,0,"div",43),t.DNE(99,Mo,2,0,"div",44),t.k0s(),t.j41(100,"div",33),t.nrm(101,"button",36),t.k0s()()()()(),t.j41(102,"p-dialog",45),t.bIt("visibleChange",function(r){return a.recetaVisible=r}),t.j41(103,"div",10)(104,"form",31),t.bIt("ngSubmit",function(){return a.submitReceta()}),t.j41(105,"div",32)(106,"div",38)(107,"label",46),t.EFF(108,"Receta"),t.k0s(),t.j41(109,"p-dropdown",47),t.DNE(110,Go,5,4,"ng-template",35),t.k0s(),t.DNE(111,Ao,2,1,"div",41),t.k0s(),t.j41(112,"div",38)(113,"label"),t.EFF(114,"Cantidad"),t.k0s(),t.nrm(115,"input",48),t.DNE(116,Oo,2,0,"div",43),t.DNE(117,No,2,0,"div",49),t.k0s(),t.j41(118,"div",33),t.nrm(119,"button",36),t.k0s()()()()(),t.j41(120,"p-dialog",50),t.bIt("visibleChange",function(r){return a.abonoVisible=r}),t.j41(121,"div",10)(122,"form",31),t.bIt("ngSubmit",function(){return a.submitAbono()}),t.j41(123,"div",32)(124,"div",38)(125,"label"),t.EFF(126,"Monto"),t.k0s(),t.nrm(127,"input",51),t.k0s(),t.j41(128,"div",38)(129,"label",46),t.EFF(130,"Metodo de pago"),t.k0s(),t.j41(131,"p-dropdown",52),t.DNE(132,Po,3,1,"ng-template",35),t.k0s()()(),t.j41(133,"div",33),t.nrm(134,"button",36),t.k0s()()()(),t.j41(135,"p-dialog",53),t.bIt("visibleChange",function(r){return a.facturarVisible=r}),t.j41(136,"div",10)(137,"div",32)(138,"div",54)(139,"div",55),t.EFF(140),t.nI1(141,"currencyFormat"),t.k0s()(),t.j41(142,"div",54)(143,"label"),t.EFF(144,"Agregar m\xe9todo de pago"),t.k0s(),t.j41(145,"p-dropdown",56),t.bIt("onChange",function(r){return a.agregarAbonoOcupar(r)}),t.DNE(146,wo,3,1,"ng-template",35),t.k0s()(),t.j41(147,"div",54),t.DNE(148,Vo,13,3,"div",57),t.DNE(149,Bo,2,0,"div",58),t.nrm(150,"hr"),t.j41(151,"div",59)(152,"div",60),t.nrm(153,"p-message",61),t.j41(154,"form",31),t.bIt("ngSubmit",function(){return a.submitAbono()}),t.nrm(155,"p-inputSwitch",62),t.k0s()(),t.j41(156,"div",63)(157,"div",64),t.EFF(158),t.nI1(159,"currencyFormat"),t.k0s(),t.j41(160,"div",64),t.EFF(161),t.nI1(162,"currencyFormat"),t.nI1(163,"currencyFormat"),t.k0s()()()()(),t.j41(164,"div",33)(165,"button",65),t.bIt("click",function(){return a.submitFactura()}),t.k0s()()()()),2&i&&(t.R7$(4),t.Y8G("routerLink","/dashboard/dashboardRooms"),t.R7$(3),t.SpI("Detalle Ingreso: ",null==a.dataRoomDetail||null==a.dataRoomDetail.detalleHabitacion||null==a.dataRoomDetail.detalleHabitacion.habitacion?null:a.dataRoomDetail.detalleHabitacion.habitacion.nombre,""),t.R7$(2),t.Y8G("label",2==(null==a.estadoHabitacion?null:a.estadoHabitacion.estado_id)?"Guardar":void 0)("disabled",a.subtotaltotal<=0)("model",a.items),t.R7$(9),t.Y8G("value",a.totales)("tableStyle",t.lJ4(84,Lo))("rows",8),t.R7$(6),t.Y8G("formGroup",a.form),t.R7$(18),t.Y8G("ngIf",a.abonosTotal>a.tarifasTotal),t.R7$(5),t.Y8G("value",a.dataTarifa)("tableStyle",t.lJ4(85,I))("rows",5),t.R7$(7),t.Y8G("value",a.productosAgregados)("tableStyle",t.lJ4(86,I))("rows",5),t.R7$(8),t.Y8G("value",a.recetasAgregadas)("tableStyle",t.lJ4(87,I))("rows",5),t.R7$(8),t.Y8G("value",a.dataAbonos)("tableStyle",t.lJ4(88,I))("rows",5),t.R7$(3),t.Aen(t.lJ4(89,Xo)),t.Y8G("visible",a.tarifaVisible)("modal",!0)("draggable",!1)("resizable",!1),t.R7$(2),t.Y8G("formGroup",a.formTarifa),t.R7$(5),t.Y8G("options",a.allTarifas),t.R7$(3),t.Y8G("disabled",a.formTarifa.invalid),t.R7$(1),t.Aen(t.lJ4(90,Z)),t.Y8G("visible",a.productoVisible)("modal",!0),t.R7$(2),t.Y8G("formGroup",a.formProducto),t.R7$(5),t.Y8G("options",a.productsData),t.R7$(2),t.Y8G("ngIf",a.formProducto.get("producto_id").errors&&(a.formProducto.get("producto_id").dirty||a.formProducto.get("producto_id").touched)),t.R7$(5),t.Y8G("ngIf",a.formProducto.get("cantidad").hasError("required")),t.R7$(1),t.Y8G("ngIf",a.validacionStock),t.R7$(2),t.Y8G("disabled",a.formProducto.invalid||a.validacionStock),t.R7$(1),t.Aen(t.lJ4(91,Z)),t.Y8G("visible",a.recetaVisible)("modal",!0),t.R7$(2),t.Y8G("formGroup",a.formReceta),t.R7$(5),t.Y8G("options",a.recetasData),t.R7$(2),t.Y8G("ngIf",a.formReceta.get("receta_id").errors&&(a.formReceta.get("receta_id").dirty||a.formReceta.get("receta_id").touched)),t.R7$(5),t.Y8G("ngIf",a.formReceta.get("cantidad").hasError("required")),t.R7$(1),t.Y8G("ngIf",a.validacionStock),t.R7$(2),t.Y8G("disabled",a.formReceta.invalid),t.R7$(1),t.Aen(t.lJ4(92,zo)),t.Y8G("visible",a.abonoVisible)("modal",!0)("draggable",!1)("resizable",!1),t.R7$(2),t.Y8G("formGroup",a.formMetodoPago),t.R7$(9),t.Y8G("options",a.dataMetodosPago),t.R7$(3),t.Y8G("disabled",a.formMetodoPago.invalid),t.R7$(1),t.Aen(t.lJ4(93,Jo)),t.Y8G("visible",a.facturarVisible)("modal",!0)("draggable",!1)("resizable",!1),t.R7$(5),t.SpI("Total a pagar: $",t.bMT(141,76,a.total),""),t.R7$(5),t.Y8G("options",a.dataMetodosPago)("autoDisplayFirst",!1),t.R7$(3),t.Y8G("ngForOf",a.formFacturacionMediosPago.controls),t.R7$(1),t.Y8G("ngIf",a.totalMetodosPago!=a.total),t.R7$(5),t.Y8G("formGroup",a.formFacturar),t.R7$(4),t.SpI("Total ingresado: $",t.bMT(159,78,a.totalMetodosPago),""),t.R7$(3),t.SpI("Pendiente: $",a.total-a.totalMetodosPago>0?t.bMT(162,80,a.total-a.totalMetodosPago):t.bMT(163,82,0),""),t.R7$(4),t.Y8G("label","Pagar")("disabled",a.formFacturacionMediosPago.invalid||a.totalMetodosPago!=a.total))},dependencies:[v.Ei,h.Sq,h.bT,E.XI,k._f,k.$n,d.qT,d.me,d.Q0,d.BC,d.cb,d.VZ,R.Wk,C.n,N.M,P.S,j.Z,T.ms,y.l,d.j4,d.JD,D.et,G.v,S.KF,A.C,U.f,q.HW,h.PV,X.l],styles:["table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-bottom:20px}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px solid #dddddd;text-align:left;padding:8px}th[_ngcontent-%COMP%]{background-color:#f2f2f2}.ordenAdd[_ngcontent-%COMP%]{padding:1%;text-align:right}.padding[_ngcontent-%COMP%]{padding:1%}.expandir[_ngcontent-%COMP%]{width:100%}.table-details[_ngcontent-%COMP%]{padding:10px}"]})}}return o})();var Q=p(1765);let qo=(()=>{class o{static{this.\u0275fac=function(i){return new(i||o)}}static{this.\u0275mod=t.$C({type:o})}static{this.\u0275inj=t.G2t({imports:[R.iI.forChild([{path:"",component:qe,canActivate:[Q.q],data:{permissions:["dashboard.habitacion"]}},{path:":idHabitacion/ocupar",component:Uo,canActivate:[Q.q],data:{permissions:["dashboard.habitacion"]}}]),R.iI]})}}return o})();var Zo=p(4827),Qo=p(9322),Wo=p(3794),Ko=p(3887);let ta=(()=>{class o{static{this.\u0275fac=function(i){return new(i||o)}}static{this.\u0275mod=t.$C({type:o})}static{this.\u0275inj=t.G2t({providers:[{provide:ot.a7,useClass:at.R,multi:!0},x.y,h.vh],imports:[V.b,h.MD,E.bG,W.e,d.YN,B.Mk,k.tm,C.Z,K.MB,N.m,tt.wZ,P.u,j.f,T.kr,et.Ko,gt,w.O3,y.P,it.RZ.forRoot(),d.X1,D.PO,nt.I,qo,M.h6,G.$,Y.rO,S.iV,Zo.P,Qo.AV,A.u,U.J,T.kr,q.H_,Wo.ClientesModule,Ko.G]})}}return o})()}}]);