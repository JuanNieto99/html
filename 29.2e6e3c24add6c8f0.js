"use strict";(self.webpackChunksakai_ng=self.webpackChunksakai_ng||[]).push([[29],{8029:($,q,o)=>{o.r(q),o.d(q,{ExternalSequenceModule:()=>je});var h=o(177),a=o(3091),l=o(4341),C=o(8032),E=o.n(C),_=o(5989),e=o(540),v=o(6554),j=o(306),x=o(1626);let F=(()=>{class i{constructor(n){this.httpClient=n,this.baseUrl=j.T.url,this.endpointListar="/secuenciaExternaListar",this.endpointExternalSequenceGet="/secuenciaExternaEditar/",this.endpointExternalSequenceUpdate="/secuenciaExternaActualizar",this.endpointExternalSequenceCreate="/secuenciaExternaCrear",this.endpointDelete="/secuenciaExternaEliminar"}getAll(n,r="",t=1){return new x.Lr({"Content-Type":"application/json"}),this.httpClient.post(`${this.baseUrl+this.endpointListar}?per_page=${n}&page=${t}&search=${r}`,{})}getExternalSequence(n){return this.httpClient.get(`${this.baseUrl+this.endpointExternalSequenceGet+n}`)}createExternalSequence(n){return this.httpClient.post(`${this.baseUrl+this.endpointExternalSequenceCreate}`,n)}updateExternalSequence(n){return this.httpClient.post(`${this.baseUrl+this.endpointExternalSequenceUpdate}`,n)}deleteExternalSequence(n){return this.httpClient.post(`${this.baseUrl+this.endpointDelete}`,n)}static{this.\u0275fac=function(r){return new(r||i)(e.KVO(x.Qq))}}static{this.\u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var I=o(3386),T=o(5779),S=o(1141),R=o(563),y=o(9851),k=o(2242),s=o(9883),p=o(1570),m=o(5114);function g(i,c){if(1&i){const n=e.RV6();e.j41(0,"button",44),e.bIt("click",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.openModal())}),e.k0s()}}function d(i,c){if(1&i){const n=e.RV6();e.j41(0,"div",45),e.nrm(1,"span"),e.j41(2,"span",46)(3,"form",47)(4,"div",48)(5,"input",49),e.bIt("keyup.enter",function(t){e.eBV(n);const u=e.XpG();return e.Njj(u.buscarPorTecla(t))})("input",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.searchInput())}),e.k0s(),e.j41(6,"button",50),e.bIt("click",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.search())}),e.k0s()()()()()}if(2&i){const n=e.XpG();e.R7$(3),e.Y8G("formGroup",n.formSearch)}}function D(i,c){1&i&&(e.j41(0,"tr")(1,"th"),e.EFF(2,"Hotel"),e.k0s(),e.j41(3,"th"),e.EFF(4,"Prefijo"),e.k0s(),e.j41(5,"th"),e.EFF(6,"Fecha inicial"),e.k0s(),e.j41(7,"th"),e.EFF(8,"Fecha final"),e.k0s(),e.j41(9,"th"),e.EFF(10,"Recibo inicial"),e.k0s(),e.j41(11,"th"),e.EFF(12,"Recibo actual"),e.k0s(),e.j41(13,"th"),e.EFF(14,"Recibo final"),e.k0s(),e.j41(15,"th"),e.EFF(16,"Tipo operaci\xf3n"),e.k0s(),e.j41(17,"th"),e.EFF(18,"Acciones"),e.k0s()())}function M(i,c){if(1&i){const n=e.RV6();e.j41(0,"p-button",54),e.bIt("click",function(){e.eBV(n);const t=e.XpG().$implicit,u=e.XpG();return e.Njj(u.editExternalSequence(t.id))}),e.k0s()}}function Y(i,c){if(1&i){const n=e.RV6();e.j41(0,"p-button",55),e.bIt("click",function(){e.eBV(n);const t=e.XpG().$implicit,u=e.XpG();return e.Njj(u.confirmDelete(t.id))}),e.k0s()}}function N(i,c){if(1&i&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.nI1(7,"date"),e.k0s(),e.j41(8,"td"),e.EFF(9),e.nI1(10,"date"),e.k0s(),e.j41(11,"td"),e.EFF(12),e.k0s(),e.j41(13,"td"),e.EFF(14),e.k0s(),e.j41(15,"td"),e.EFF(16),e.k0s(),e.j41(17,"td"),e.EFF(18),e.k0s(),e.j41(19,"td",51),e.DNE(20,M,1,0,"p-button",52),e.nrm(21,"p-confirmDialog"),e.DNE(22,Y,1,0,"p-button",53),e.k0s()()),2&i){const n=c.$implicit,r=e.XpG();e.R7$(2),e.JRh(n.hotel.nombre),e.R7$(2),e.JRh(n.prefijo),e.R7$(2),e.JRh(e.i5U(7,10,n.fecha_inicio,"dd/MM/yyyy")),e.R7$(3),e.JRh(e.i5U(10,13,n.fecha_final,"dd/MM/yyyy")),e.R7$(3),e.JRh(n.secuencia_incial),e.R7$(2),e.JRh(n.secuencia_actual),e.R7$(2),e.JRh(n.secuencia_final),e.R7$(2),e.JRh(null==n.tipo_operacion?null:n.tipo_operacion.nombre),e.R7$(2),e.Y8G("ngIf",r.permisoActualizar),e.R7$(2),e.Y8G("ngIf",r.permisoEliminar)}}function P(i,c){1&i&&(e.j41(0,"tr")(1,"td",56),e.EFF(2,"Cargando informacion porfavor espere ..."),e.k0s()())}function w(i,c){1&i&&(e.j41(0,"div",57),e.EFF(1," Campo requerido "),e.k0s())}function U(i,c){1&i&&(e.j41(0,"div",57),e.EFF(1," Campo requerido "),e.k0s())}function A(i,c){1&i&&(e.j41(0,"div",57),e.EFF(1,"Campo requerido"),e.k0s())}function B(i,c){1&i&&(e.j41(0,"div",57),e.EFF(1,"M\xe1ximo 10 caracteres"),e.k0s())}function L(i,c){1&i&&(e.j41(0,"div",57),e.EFF(1,"Campo requerido"),e.k0s())}function O(i,c){1&i&&(e.j41(0,"div",57),e.EFF(1,"Campo requerido"),e.k0s())}function X(i,c){1&i&&e.nrm(0,"p-message",58)}function V(i,c){1&i&&(e.j41(0,"div",57),e.EFF(1,"Campo requerido"),e.k0s())}function J(i,c){1&i&&(e.j41(0,"div",57),e.EFF(1,"M\xe1ximo 10 caracteres"),e.k0s())}function z(i,c){1&i&&e.nrm(0,"p-message",59)}function H(i,c){1&i&&(e.j41(0,"div",57),e.EFF(1,"Campo requerido"),e.k0s())}function K(i,c){1&i&&(e.j41(0,"div",57),e.EFF(1,"M\xe1ximo 10 caracteres"),e.k0s())}function W(i,c){1&i&&e.nrm(0,"p-message",60)}function Z(i,c){1&i&&(e.j41(0,"div",57),e.EFF(1,"Campo requerido"),e.k0s())}function Q(i,c){1&i&&(e.j41(0,"div",57),e.EFF(1,"M\xe1ximo 10 caracteres"),e.k0s())}function ee(i,c){1&i&&(e.j41(0,"div",57),e.EFF(1," Campo requerido "),e.k0s())}function te(i,c){1&i&&(e.j41(0,"div",57),e.EFF(1," Campo requerido "),e.k0s())}function ne(i,c){1&i&&(e.j41(0,"div",57),e.EFF(1,"Campo requerido"),e.k0s())}function ie(i,c){1&i&&(e.j41(0,"div",57),e.EFF(1,"M\xe1ximo 10 caracteres"),e.k0s())}function ae(i,c){1&i&&(e.j41(0,"div",57),e.EFF(1,"Campo requerido"),e.k0s())}function re(i,c){1&i&&(e.j41(0,"div",57),e.EFF(1,"Campo requerido"),e.k0s())}function oe(i,c){1&i&&e.nrm(0,"p-message",61)}function le(i,c){1&i&&(e.j41(0,"div",57),e.EFF(1,"Campo requerido"),e.k0s())}function se(i,c){1&i&&(e.j41(0,"div",57),e.EFF(1,"M\xe1ximo 10 caracteres"),e.k0s())}function ce(i,c){1&i&&e.nrm(0,"p-message",59)}function ue(i,c){1&i&&(e.j41(0,"div",57),e.EFF(1,"Campo requerido"),e.k0s())}function de(i,c){1&i&&(e.j41(0,"div",57),e.EFF(1,"M\xe1ximo 10 caracteres"),e.k0s())}function me(i,c){1&i&&e.nrm(0,"p-message",60)}function pe(i,c){1&i&&(e.j41(0,"div",57),e.EFF(1,"Campo requerido"),e.k0s())}function fe(i,c){1&i&&(e.j41(0,"div",57),e.EFF(1,"M\xe1ximo 10 caracteres"),e.k0s())}const he=function(){return{"min-width":"50rem"}},Ee=function(){return["nombre","prefijo","fecha_inicio","fecha_final","secuencia_incial","secuencia_actual","secuencia_final","acciones"]},G=function(){return{width:"95vw"}};let ge=(()=>{class i{constructor(n,r,t,u){this.FB=n,this.spinner=r,this.ExternalSequenceService=t,this.datePipe=u,this.permisoCrear=_.u.hasPermission(["administracion.secuenciaExterna.crear"]),this.permisoActualizar=_.u.hasPermission(["administracion.secuenciaExterna.actualizar"]),this.permisoEliminar=_.u.hasPermission(["administracion.secuenciaExterna.eliminar"]),this.loadingTable=!1,this.pageCount=10,this.visibleModalExternalSequence=!0,this.visibleModalExternalSequenceEditar=!1,this.imagen=null,this.tipoOperacion=null,this.idEditando=0,this.pageActual=1,this.ultimaPage=1,this.disablePageLeft=!1,this.disablePageRight=!1,this.first=0,this.rows=8}esMayor(n,r){return parseInt(n,10)>parseInt(r,10)}ngOnInit(){this.buildForm(),this.getIndex(),this.visibleModalExternalSequence=!1}openModal(){this.onCreate()}onCreate(){this.formCreateExternalSequence.reset(),this.ExternalSequenceService.getExternalSequence(0).subscribe(n=>{this.hotel=n.hotel,this.prefijo=n.prefijo,this.tipoOperacion=n.tipo_operacion,n.fecha_inicio&&n.fecha_final&&(this.fechaInicial=new Date(n.fecha_inicio).toISOString().split("T")[0],this.fechaFinal=new Date(n.fecha_final).toISOString().split("T")[0]),this.secuenciaInicial=n.secuencia_incial,this.secuenciaActual=n.secuencia_actual,this.secuenciaFinal=n.secuencia_final,this.visibleModalExternalSequence=!0},n=>{console.log("Error: ",n)})}onRemove(n){this.imagen=null}onSelect(n){this.imagen=n.currentFiles[0]}onPage(n){this.pageCount=n.rows,this.getIndex("",this.pageCount)}submitCreate(){if(this.formCreateExternalSequence.valid){const n=this.formatDate(this.formCreateExternalSequence.value.fecha_inicio),r=this.formatDate(this.formCreateExternalSequence.value.fecha_final);this.formCreateExternalSequence.patchValue({fecha_inicio:n,fecha_final:r}),this.newExternalSequence()}else this.formCreateExternalSequence.markAllAsTouched()}formatDate(n){const r=new Date(n),t=r?.getFullYear();return`${t}-${("0"+(r.getMonth()+1)).slice(-2)}-${("0"+r.getDate()).slice(-2)}`}newExternalSequence(){this.visibleModalExternalSequence=!0,this.spinner.show();let n=this.formCreateExternalSequence.value;n.hotel_id=n.hotel_id.id,n.tipo_operacion_id=n.tipo_operacion_id.id,n.estado=1,this.ExternalSequenceService.createExternalSequence(n).subscribe(r=>{this.spinner.hide(),this.imagen=null,this.visibleModalExternalSequence=!1,"success"==r.code?(E().fire({title:"Exito",text:"Recibo creado exitosamente.",icon:"success"}),this.getIndex()):E().fire({title:"Error",text:"Error al crear el recibo.",icon:"error"})},r=>{console.log("Error: ",r)})}editExternalSequence(n){this.idEditando=n,this.spinner.show(),this.ExternalSequenceService.getExternalSequence(n).subscribe(r=>{this.spinner.hide(),this.hotel=r.hotel;const t=r.secuencia_externa;if(this.tipoOperacion=r.tipo_operacion,t&&"prefijo"in t){let u,f;this.secuenciaInicial=t.secuencia_incial,this.secuenciaActual=t.secuencia_actual,this.secuenciaFinal=t.secuencia_final,this.fechaInicial=t.fecha_inicio,this.fechaFinal=t.fecha_final,this.prefijo=t.prefijo,r.hotel.forEach(b=>{b.id==t.hotel_id&&(u=b)}),r.tipo_operacion.forEach(b=>{b.id==t.tipo_operacion_id&&(f=b)}),this.formEditExternalSequence.patchValue({hotel_id:u,tipo_operacion_id:f,prefijo:this.prefijo,fecha_inicio:this.datePipe.transform(new Date(this.fechaInicial),"yyyy/MM/dd"),fecha_final:this.datePipe.transform(new Date(this.fechaFinal),"yyyy/MM/dd"),secuencia_incial:this.secuenciaInicial,secuencia_actual:this.secuenciaActual,secuencia_final:this.secuenciaFinal})}setTimeout(()=>{this.visibleModalExternalSequenceEditar=!0},1)},r=>{console.log("Error: ",r)})}updateExternalSequence(){this.spinner.show();let n=this.formEditExternalSequence.value;n.hotel_id=n.hotel_id.id,n.tipo_operacion_id=n.tipo_operacion_id.id,n.id=this.idEditando,n.estado=1,this.ExternalSequenceService.updateExternalSequence(n).subscribe(r=>{this.spinner.hide(),this.imagen=null,this.visibleModalExternalSequenceEditar=!1,"success"==r.code?(E().fire({title:"\xc9xito",text:"Recibo actualizado exitosamente.",icon:"success"}),this.getIndex()):E().fire({title:"Error",text:"Error al actualizar el recibo.",icon:"error"})},r=>{console.log("Error: ",r)})}submitUpdate(){if(this.formEditExternalSequence.valid){const n=this.formatDate(this.formEditExternalSequence.value.fecha_inicio),r=this.formatDate(this.formEditExternalSequence.value.fecha_final);this.formEditExternalSequence.patchValue({fecha_inicio:n,fecha_final:r}),this.updateExternalSequence()}}confirmDelete(n){E().fire({title:"\xbfEstas seguro que deseas eliminar \xe9ste recibo?",text:"Ten cuidado, esta acci\xf3n no se prodr\xe1 revertir",icon:"warning",showCancelButton:!0,confirmButtonText:"S\xed, Confirmar",cancelButtonText:"Cancelar"}).then(r=>{r.isConfirmed&&(this.spinner.show(),this.ExternalSequenceService.deleteExternalSequence({id:n}).subscribe(t=>{this.spinner.hide(),"success"==t.code?(E().fire({title:"Exito",text:"Recibo eliminado exitosamente.",icon:"success"}),this.getIndex()):E().fire({title:"Error",text:"Error al eliminar el recibo.",icon:"error"})},t=>{console.log("Error: ",t)}))})}buildForm(){this.formSearch=this.FB.group({search:["",[]]}),this.formCreateExternalSequence=this.FB.group({hotel_id:["",[l.k0.required]],prefijo:["",[l.k0.required,l.k0.maxLength(10)]],fecha_inicio:["",[l.k0.required]],fecha_final:["",[l.k0.required]],secuencia_incial:["",[l.k0.required,l.k0.maxLength(10)]],secuencia_actual:["",[l.k0.required,l.k0.maxLength(10)]],secuencia_final:["",[l.k0.required,l.k0.maxLength(10)]],tipo_operacion_id:["",[l.k0.required]]}),this.formEditExternalSequence=this.FB.group({hotel_id:["",[l.k0.required]],prefijo:["",[l.k0.required,l.k0.maxLength(10)]],fecha_inicio:["",[l.k0.required]],fecha_final:["",[l.k0.required]],secuencia_incial:["",[l.k0.required,l.k0.maxLength(10)]],secuencia_actual:["",[l.k0.required,l.k0.maxLength(10)]],secuencia_final:["",[l.k0.required,l.k0.maxLength(10)]],tipo_operacion_id:["",[l.k0.required]]})}getMaxDate1(){const n=this.formEditExternalSequence?.get("fecha_final")?.value;return n?new Date(n):null}getMaxDate2(){const n=this.formEditExternalSequence?.get("fecha_inicio")?.value;return n?new Date(n):null}getIndex(n="",r=this.pageCount,t=1){this.spinner.show(),this.loadingTable=!0,this.ExternalSequenceService.getAll(r,n,t).subscribe(u=>{this.loadingTable=!1,this.externalSequenceData=u.data,this.ultimaPage=u.last_page,this.countRegisters=u.total,this.ultimaPage=u.last_page,u.total>r&&(this.disablePageRight=!0),this.validatePage(),this.spinner.hide()},u=>{console.log("Error: ",u),this.spinner.hide()})}searchInput(){let n=this.formSearch.get("search").value;this.pageActual=1,""==n&&this.getIndex(n)}search(){let n=this.formSearch.get("search").value;this.getIndex(n)}onPageChange(n){this.first=n.first,this.rows=n.rows}leftTable(){this.pageActual=this.pageActual-1,this.getIndex("",this.pageCount,this.pageActual),this.validatePage()}rightTable(){this.pageActual=this.pageActual+1,this.getIndex("",this.pageCount,this.pageActual),this.validatePage()}validatePage(){1==this.pageActual&&(this.disablePageLeft=!1),this.pageActual>1&&(this.disablePageLeft=!0),this.ultimaPage==this.pageActual&&(this.disablePageRight=!1),this.ultimaPage>this.pageActual&&(this.disablePageRight=!0)}buscarPorTecla(n){"Enter"==n.code&&this.search()}static{this.\u0275fac=function(r){return new(r||i)(e.rXU(l.ok),e.rXU(v.ex),e.rXU(F),e.rXU(h.vh))}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-external-sequence"]],decls:132,vars:70,consts:[["type","ball-scale-multiple","size","large","bdColor","rgba(192,192,192,0.8)","template","<img src='assets/loading/cargando.gif' />"],[1,"surface-section","px-4","py-5","md:px-6","lg:px-8"],[1,"flex","align-items-start","flex-column","lg:justify-content-between","lg:flex-row"],[1,"font-medium","text-3xl","text-900"],[1,"flex","align-items-center","text-700","flex-wrap"],[1,"mr-5","flex","align-items-center","mt-3"],[1,"mt-3","lg:mt-0"],["pButton","","pRipple","","label","Crear","class","p-button-outlined mr-2","icon","",3,"click",4,"ngIf"],[1,"grid","mt-3"],[1,"col-12"],[1,"card","px-3","py-3"],["responsiveLayout","scroll","selectionMode","multiple","dataKey","usuario",3,"value","tableStyle","loading","rows","globalFilterFields","rowHover","onPage"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","loadingbody"],[2,"text-align","center"],[1,"p-buttonset"],["pButton","","pRipple","","label","","icon","pi pi-arrow-left",3,"disabled","click"],["pButton","","pRipple","",3,"label"],["pButton","","pRipple","","label","","icon","pi pi-arrow-right",3,"disabled","click"],["header","Crear Recibo Externo",3,"visible","modal","draggable","resizable","visibleChange"],[3,"formGroup","ngSubmit"],[1,"p-fluid","p-formgrid","grid"],[1,"field","col-12","md:col-6"],["optionLabel","nombre","formControlName","hotel_id",3,"options"],["style","color: red;",4,"ngIf"],["optionLabel","nombre","formControlName","tipo_operacion_id",3,"options"],["type","text","pInputText","","formControlName","prefijo",1,"w-full","mb-3","border-round-3xl"],["formControlName","fecha_inicio",1,"w-full","mb-3","border-round-3xl",3,"showIcon","maxDate"],["formControlName","fecha_final",1,"w-full","mb-3","border-round-3xl",3,"showIcon","minDate"],["severity","error","class","padding","text","La fecha final debe ser mayor a la inicial",4,"ngIf"],["type","number","min","0","pInputText","","formControlName","secuencia_incial",1,"w-full","mb-3","border-round-3xl"],["severity","error","class","padding","text","El Recibo inicial no puede ser mayor al Recibo actual",4,"ngIf"],["type","number","min","0","pInputText","","formControlName","secuencia_actual",1,"w-full","mb-3","border-round-3xl"],["severity","error","class","padding","text","El Recibo actual no puede ser mayor al recibo final",4,"ngIf"],["type","number","min","0","pInputText","","formControlName","secuencia_final",1,"w-full","mb-3","border-round-3xl"],[1,"field","col-12","md:col-12"],["pButton","","pRipple","","label","Crear Recibo Externo","icon","","type","submit",1,"w-full","bg-admin","boder-admin","mb-5","border-round-3xl",3,"disabled"],["header","Editar Recibo Externo",3,"visible","modal","draggable","resizable","visibleChange"],["formControlName","fecha_inicio","dateFormat","yy/mm/dd",1,"w-full","mb-3","border-round-3xl",3,"showIcon"],["formControlName","fecha_final","dateFormat","yy/mm/dd",1,"w-full","mb-3","border-round-3xl",3,"showIcon"],["severity","error","class","padding","text","La fecha inicial y final no pueden ser iguales",4,"ngIf"],["pButton","","pRipple","","label","Editar Recibo Externo","icon","","type","submit",1,"w-full","bg-admin","boder-admin","mb-5","border-round-3xl",3,"disabled"],["pButton","","pRipple","","label","Crear","icon","",1,"p-button-outlined","mr-2",3,"click"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[3,"formGroup"],[1,"p-inputgroup"],["formControlName","search","pInputText","","type","text","placeholder","Buscar...",1,"w-full","sm:w-auto",3,"keyup.enter","input"],["type","button","pButton","","pRipple","",1,"pi","pi-search",3,"click"],[1,"flex","gap-2"],["icon","pi pi-pencil","severity","info",3,"click",4,"ngIf"],["icon","pi pi-trash","severity","danger",3,"click",4,"ngIf"],["icon","pi pi-pencil","severity","info",3,"click"],["icon","pi pi-trash","severity","danger",3,"click"],["colspan","8"],[2,"color","red"],["severity","error","text","La fecha final debe ser mayor a la inicial",1,"padding"],["severity","error","text","El Recibo inicial no puede ser mayor al Recibo actual",1,"padding"],["severity","error","text","El Recibo actual no puede ser mayor al recibo final",1,"padding"],["severity","error","text","La fecha inicial y final no pueden ser iguales",1,"padding"]],template:function(r,t){1&r&&(e.nrm(0,"ngx-spinner",0),e.j41(1,"div",1)(2,"div",2)(3,"div")(4,"div",3),e.EFF(5,"Recibos externos"),e.k0s(),e.j41(6,"div",4),e.nrm(7,"div",5),e.k0s()(),e.j41(8,"div",6),e.DNE(9,g,1,0,"button",7),e.k0s()()(),e.j41(10,"div",8)(11,"div",9)(12,"div",10)(13,"p-table",11),e.bIt("onPage",function(f){return t.onPage(f)}),e.DNE(14,d,7,1,"ng-template",12),e.DNE(15,D,19,0,"ng-template",13),e.DNE(16,N,23,16,"ng-template",14),e.DNE(17,P,3,0,"ng-template",15),e.k0s(),e.nrm(18,"br"),e.j41(19,"div",16)(20,"span",17)(21,"button",18),e.bIt("click",function(){return t.leftTable()}),e.k0s(),e.nrm(22,"button",19),e.j41(23,"button",20),e.bIt("click",function(){return t.rightTable()}),e.k0s()()()()()(),e.j41(24,"p-dialog",21),e.bIt("visibleChange",function(f){return t.visibleModalExternalSequence=f}),e.j41(25,"div",9)(26,"form",22),e.bIt("ngSubmit",function(){return t.submitCreate()}),e.j41(27,"div",23)(28,"div",24)(29,"label"),e.EFF(30,"Hotel"),e.k0s(),e.nrm(31,"p-dropdown",25),e.DNE(32,w,2,0,"div",26),e.k0s(),e.j41(33,"div",24)(34,"label"),e.EFF(35,"Tipo operaci\xf3n"),e.k0s(),e.nrm(36,"p-dropdown",27),e.DNE(37,U,2,0,"div",26),e.k0s(),e.j41(38,"div",24)(39,"label"),e.EFF(40,"Prefijo"),e.k0s(),e.nrm(41,"input",28),e.DNE(42,A,2,0,"div",26),e.DNE(43,B,2,0,"div",26),e.k0s(),e.j41(44,"div",24)(45,"label"),e.EFF(46,"Fecha inicio"),e.k0s(),e.nrm(47,"p-calendar",29),e.DNE(48,L,2,0,"div",26),e.k0s(),e.j41(49,"div",24)(50,"label"),e.EFF(51,"Fecha final"),e.k0s(),e.nrm(52,"p-calendar",30),e.DNE(53,O,2,0,"div",26),e.DNE(54,X,1,0,"p-message",31),e.k0s(),e.j41(55,"div",24)(56,"label"),e.EFF(57,"Recibo inicial"),e.k0s(),e.nrm(58,"input",32),e.DNE(59,V,2,0,"div",26),e.DNE(60,J,2,0,"div",26),e.DNE(61,z,1,0,"p-message",33),e.k0s(),e.j41(62,"div",24)(63,"label"),e.EFF(64,"Recibo actual"),e.k0s(),e.nrm(65,"input",34),e.DNE(66,H,2,0,"div",26),e.DNE(67,K,2,0,"div",26),e.DNE(68,W,1,0,"p-message",35),e.k0s(),e.j41(69,"div",24)(70,"label"),e.EFF(71,"Recibo final"),e.k0s(),e.nrm(72,"input",36),e.DNE(73,Z,2,0,"div",26),e.DNE(74,Q,2,0,"div",26),e.k0s(),e.j41(75,"div",37),e.nrm(76,"button",38),e.k0s()(),e.nrm(77,"br"),e.k0s()()(),e.j41(78,"p-dialog",39),e.bIt("visibleChange",function(f){return t.visibleModalExternalSequenceEditar=f}),e.j41(79,"div",9)(80,"form",22),e.bIt("ngSubmit",function(){return t.submitUpdate()}),e.j41(81,"div",23)(82,"div",24)(83,"label"),e.EFF(84,"Hotel"),e.k0s(),e.nrm(85,"p-dropdown",25),e.DNE(86,ee,2,0,"div",26),e.k0s(),e.j41(87,"div",24)(88,"label"),e.EFF(89,"Tipo operaci\xf3n"),e.k0s(),e.nrm(90,"p-dropdown",27),e.DNE(91,te,2,0,"div",26),e.k0s(),e.j41(92,"div",24)(93,"label"),e.EFF(94,"Prefijo"),e.k0s(),e.nrm(95,"input",28),e.DNE(96,ne,2,0,"div",26),e.DNE(97,ie,2,0,"div",26),e.k0s(),e.j41(98,"div",24)(99,"label"),e.EFF(100,"Fecha inicio"),e.k0s(),e.nrm(101,"p-calendar",40),e.DNE(102,ae,2,0,"div",26),e.k0s(),e.j41(103,"div",24)(104,"label"),e.EFF(105,"Fecha final"),e.k0s(),e.nrm(106,"p-calendar",41),e.DNE(107,re,2,0,"div",26),e.DNE(108,oe,1,0,"p-message",42),e.k0s(),e.j41(109,"div",24)(110,"label"),e.EFF(111,"Recibo inicial"),e.k0s(),e.nrm(112,"input",32),e.DNE(113,le,2,0,"div",26),e.DNE(114,se,2,0,"div",26),e.DNE(115,ce,1,0,"p-message",33),e.k0s(),e.j41(116,"div",24)(117,"label"),e.EFF(118,"Recibo actual"),e.k0s(),e.nrm(119,"input",34),e.DNE(120,ue,2,0,"div",26),e.DNE(121,de,2,0,"div",26),e.DNE(122,me,1,0,"p-message",35),e.k0s(),e.j41(123,"div",24)(124,"label"),e.EFF(125,"Recibo final"),e.k0s(),e.nrm(126,"input",36),e.DNE(127,pe,2,0,"div",26),e.DNE(128,fe,2,0,"div",26),e.k0s(),e.j41(129,"div",37),e.nrm(130,"button",43),e.k0s()(),e.nrm(131,"br"),e.k0s()()()),2&r&&(e.R7$(9),e.Y8G("ngIf",t.permisoCrear),e.R7$(4),e.Y8G("value",t.externalSequenceData)("tableStyle",e.lJ4(66,he))("loading",t.loadingTable)("rows",8)("globalFilterFields",e.lJ4(67,Ee))("rowHover",!0),e.R7$(8),e.Y8G("disabled",!t.disablePageLeft),e.R7$(1),e.Y8G("label",t.pageActual),e.R7$(1),e.Y8G("disabled",!t.disablePageRight),e.R7$(1),e.Aen(e.lJ4(68,G)),e.Y8G("visible",t.visibleModalExternalSequence)("modal",!0)("draggable",!1)("resizable",!1),e.R7$(2),e.Y8G("formGroup",t.formCreateExternalSequence),e.R7$(5),e.Y8G("options",t.hotel),e.R7$(1),e.Y8G("ngIf",t.formCreateExternalSequence.get("hotel_id").hasError("required")&&t.formCreateExternalSequence.get("hotel_id").touched),e.R7$(4),e.Y8G("options",t.tipoOperacion),e.R7$(1),e.Y8G("ngIf",t.formCreateExternalSequence.get("tipo_operacion_id").hasError("required")&&t.formCreateExternalSequence.get("tipo_operacion_id").touched),e.R7$(5),e.Y8G("ngIf",t.formCreateExternalSequence.get("prefijo").hasError("required")),e.R7$(1),e.Y8G("ngIf",t.formCreateExternalSequence.get("prefijo").hasError("maxlength")),e.R7$(4),e.Y8G("showIcon",!0)("maxDate",t.formCreateExternalSequence.get("fecha_final").value),e.R7$(1),e.Y8G("ngIf",t.formCreateExternalSequence.get("fecha_inicio").hasError("required")),e.R7$(4),e.Y8G("showIcon",!0)("minDate",t.formCreateExternalSequence.get("fecha_inicio").value),e.R7$(1),e.Y8G("ngIf",t.formCreateExternalSequence.get("fecha_final").hasError("required")),e.R7$(1),e.Y8G("ngIf",!(t.formCreateExternalSequence.get("fecha_final").value>t.formCreateExternalSequence.get("fecha_inicio").value)&&null!=t.formCreateExternalSequence.get("fecha_final").value),e.R7$(5),e.Y8G("ngIf",t.formCreateExternalSequence.get("secuencia_incial").hasError("required")),e.R7$(1),e.Y8G("ngIf",t.formCreateExternalSequence.get("secuencia_incial").hasError("maxlength")),e.R7$(1),e.Y8G("ngIf",t.esMayor(t.formCreateExternalSequence.get("secuencia_incial").value,t.formCreateExternalSequence.get("secuencia_actual").value)),e.R7$(5),e.Y8G("ngIf",t.formCreateExternalSequence.get("secuencia_actual").hasError("required")),e.R7$(1),e.Y8G("ngIf",t.formCreateExternalSequence.get("secuencia_actual").hasError("maxlength")),e.R7$(1),e.Y8G("ngIf",t.esMayor(t.formCreateExternalSequence.get("secuencia_actual").value,t.formCreateExternalSequence.get("secuencia_final").value)),e.R7$(5),e.Y8G("ngIf",t.formCreateExternalSequence.get("secuencia_final").hasError("required")),e.R7$(1),e.Y8G("ngIf",t.formCreateExternalSequence.get("secuencia_final").hasError("maxlength")),e.R7$(2),e.Y8G("disabled",t.esMayor(t.formCreateExternalSequence.get("secuencia_incial").value,t.formCreateExternalSequence.get("secuencia_actual").value)||t.esMayor(t.formCreateExternalSequence.get("secuencia_actual").value,t.formCreateExternalSequence.get("secuencia_final").value)||!t.formCreateExternalSequence.valid||!(t.formCreateExternalSequence.get("fecha_final").value>t.formCreateExternalSequence.get("fecha_inicio").value)),e.R7$(2),e.Aen(e.lJ4(69,G)),e.Y8G("visible",t.visibleModalExternalSequenceEditar)("modal",!0)("draggable",!1)("resizable",!1),e.R7$(2),e.Y8G("formGroup",t.formEditExternalSequence),e.R7$(5),e.Y8G("options",t.hotel),e.R7$(1),e.Y8G("ngIf",t.formEditExternalSequence.get("hotel_id").hasError("required")&&t.formEditExternalSequence.get("hotel_id").touched),e.R7$(4),e.Y8G("options",t.tipoOperacion),e.R7$(1),e.Y8G("ngIf",t.formEditExternalSequence.get("tipo_operacion_id").hasError("required")&&t.formEditExternalSequence.get("tipo_operacion_id").touched),e.R7$(5),e.Y8G("ngIf",t.formEditExternalSequence.get("prefijo").hasError("required")),e.R7$(1),e.Y8G("ngIf",t.formEditExternalSequence.get("prefijo").hasError("maxlength")),e.R7$(4),e.Y8G("showIcon",!0),e.R7$(1),e.Y8G("ngIf",t.formEditExternalSequence.get("fecha_inicio").hasError("required")&&t.formEditExternalSequence.get("fecha_inicio").touched),e.R7$(4),e.Y8G("showIcon",!0),e.R7$(1),e.Y8G("ngIf",t.formEditExternalSequence.get("fecha_final").hasError("required")&&t.formEditExternalSequence.get("fecha_final").touched),e.R7$(1),e.Y8G("ngIf",!(t.formEditExternalSequence.get("fecha_final").value>t.formEditExternalSequence.get("fecha_inicio").value)&&null!=t.formEditExternalSequence.get("fecha_final").value),e.R7$(5),e.Y8G("ngIf",t.formEditExternalSequence.get("secuencia_incial").hasError("required")&&t.formEditExternalSequence.get("secuencia_incial").touched),e.R7$(1),e.Y8G("ngIf",t.formEditExternalSequence.get("secuencia_incial").hasError("maxlength")&&t.formEditExternalSequence.get("secuencia_incial").touched),e.R7$(1),e.Y8G("ngIf",t.esMayor(t.formEditExternalSequence.get("secuencia_incial").value,t.formEditExternalSequence.get("secuencia_actual").value)),e.R7$(5),e.Y8G("ngIf",t.formEditExternalSequence.get("secuencia_actual").hasError("required")&&t.formEditExternalSequence.get("secuencia_actual").touched),e.R7$(1),e.Y8G("ngIf",t.formEditExternalSequence.get("secuencia_actual").hasError("maxlength")&&t.formEditExternalSequence.get("secuencia_actual").touched),e.R7$(1),e.Y8G("ngIf",t.esMayor(t.formEditExternalSequence.get("secuencia_actual").value,t.formEditExternalSequence.get("secuencia_final").value)),e.R7$(5),e.Y8G("ngIf",t.formEditExternalSequence.get("secuencia_final").hasError("required")&&t.formEditExternalSequence.get("secuencia_final").touched),e.R7$(1),e.Y8G("ngIf",t.formEditExternalSequence.get("secuencia_final").hasError("maxlength")&&t.formEditExternalSequence.get("secuencia_final").touched),e.R7$(2),e.Y8G("disabled",t.esMayor(t.formEditExternalSequence.get("secuencia_incial").value,t.formEditExternalSequence.get("secuencia_actual").value)||t.esMayor(t.formEditExternalSequence.get("secuencia_actual").value,t.formEditExternalSequence.get("secuencia_final").value)||!t.formEditExternalSequence.valid||!(t.formEditExternalSequence.get("fecha_final").value>t.formEditExternalSequence.get("fecha_inicio").value)))},dependencies:[h.bT,I.XI,T.Ei,S._f,S.$n,l.qT,l.me,l.Q0,l.BC,l.cb,l.VZ,R.n,y.Vv,k.S,s.ms,p.l,l.j4,l.JD,v.et,m.C,h.vh],styles:["svg[_ngcontent-%COMP%]{width:45%}"]})}}return i})();var _e=o(1765);let ve=(()=>{class i{static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275mod=e.$C({type:i})}static{this.\u0275inj=e.G2t({imports:[a.iI.forChild([{path:"",component:ge,canActivate:[_e.q],data:{permissions:["administracion.secuenciaExterna"]}}]),a.iI]})}}return i})();var xe=o(4058),Se=o(5493),be=o(981),qe=o(1305),Ce=o(6627),Fe=o(494),Ie=o(4714),Re=o(9998),ye=o(1830),ke=o(635);let je=(()=>{class i{static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275mod=e.$C({type:i})}static{this.\u0275inj=e.G2t({providers:[{provide:x.a7,useClass:ke.R,multi:!0},F,h.vh],imports:[h.MD,ve,I.bG,Se.e,l.YN,S.tm,R.Z,Re.MB,y.rO,ye.m,Ie.wZ,k.u,qe.f,s.kr,Fe.Ko,be.O3,p.P,xe.RZ.forRoot(),l.X1,v.PO,Ce.I,m.u]})}}return i})()},5114:($,q,o)=>{o.d(q,{C:()=>y,u:()=>k});var h=o(177),a=o(540),l=o(3306),C=o(9329),E=o(9581),_=o(2816);function e(s,p){1&s&&a.nrm(0,"CheckIcon",4),2&s&&a.Y8G("styleClass","p-inline-message-icon")}function v(s,p){1&s&&a.nrm(0,"InfoCircleIcon",4),2&s&&a.Y8G("styleClass","p-inline-message-icon")}function j(s,p){1&s&&a.nrm(0,"TimesCircleIcon",4),2&s&&a.Y8G("styleClass","p-inline-message-icon")}function x(s,p){1&s&&a.nrm(0,"ExclamationTriangleIcon",4),2&s&&a.Y8G("styleClass","p-inline-message-icon")}function F(s,p){if(1&s&&a.nrm(0,"span",6),2&s){const m=a.XpG(2);a.Y8G("innerHTML",m.text,a.npT)}}function I(s,p){if(1&s&&(a.j41(0,"div"),a.DNE(1,F,1,1,"span",5),a.k0s()),2&s){const m=a.XpG();a.R7$(1),a.Y8G("ngIf",!m.escape)}}function T(s,p){if(1&s&&(a.j41(0,"span",8),a.EFF(1),a.k0s()),2&s){const m=a.XpG(2);a.R7$(1),a.JRh(m.text)}}function S(s,p){if(1&s&&a.DNE(0,T,2,1,"span",7),2&s){const m=a.XpG();a.Y8G("ngIf",m.escape)}}const R=function(s,p,m,g,d){return{"p-inline-message-info":s,"p-inline-message-warn":p,"p-inline-message-error":m,"p-inline-message-success":g,"p-inline-message-icon-only":d}};let y=(()=>{class s{severity;text;escape=!0;style;styleClass;get icon(){return this.severity&&this.severity.trim()?this.severity:"info"}static \u0275fac=function(g){return new(g||s)};static \u0275cmp=a.VBU({type:s,selectors:[["p-message"]],hostAttrs:[1,"p-element"],inputs:{severity:"severity",text:"text",escape:"escape",style:"style",styleClass:"styleClass"},decls:8,vars:16,consts:[["aria-live","polite",1,"p-inline-message","p-component","p-inline-message",3,"ngStyle","ngClass"],[3,"styleClass",4,"ngIf"],[4,"ngIf","ngIfElse"],["escapeOut",""],[3,"styleClass"],["class","p-inline-message-text",3,"innerHTML",4,"ngIf"],[1,"p-inline-message-text",3,"innerHTML"],["class","p-inline-message-text",4,"ngIf"],[1,"p-inline-message-text"]],template:function(g,d){if(1&g&&(a.j41(0,"div",0),a.DNE(1,e,1,1,"CheckIcon",1),a.DNE(2,v,1,1,"InfoCircleIcon",1),a.DNE(3,j,1,1,"TimesCircleIcon",1),a.DNE(4,x,1,1,"ExclamationTriangleIcon",1),a.DNE(5,I,2,1,"div",2),a.DNE(6,S,1,1,"ng-template",null,3,a.C5r),a.k0s()),2&g){const D=a.sdS(7);a.HbH(d.styleClass),a.Y8G("ngStyle",d.style)("ngClass",a.s1E(10,R,"info"===d.severity,"warn"===d.severity,"error"===d.severity,"success"===d.severity,null==d.text)),a.R7$(1),a.Y8G("ngIf","success"===d.icon),a.R7$(1),a.Y8G("ngIf","info"===d.icon),a.R7$(1),a.Y8G("ngIf","error"===d.icon),a.R7$(1),a.Y8G("ngIf","warn"===d.icon),a.R7$(1),a.Y8G("ngIf",!d.escape)("ngIfElse",D)}},dependencies:function(){return[h.YU,h.bT,h.B3,l.S,E.e,_.I,C.P]},styles:[".p-inline-message{display:inline-flex;align-items:center;justify-content:center;vertical-align:top}.p-inline-message-icon-only .p-inline-message-text{visibility:hidden;width:0}.p-fluid .p-inline-message{display:flex}\n"],encapsulation:2,changeDetection:0})}return s})(),k=(()=>{class s{static \u0275fac=function(g){return new(g||s)};static \u0275mod=a.$C({type:s});static \u0275inj=a.G2t({imports:[h.MD,l.S,E.e,_.I,C.P]})}return s})()}}]);