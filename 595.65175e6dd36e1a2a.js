"use strict";(self.webpackChunksakai_ng=self.webpackChunksakai_ng||[]).push([[595],{5595:(Qt,P,r)=>{r.r(P),r.d(P,{SaleModule:()=>Lt});var m=r(6814),d=r(95),Z=r(9664),E=r(6068),h=r(707),v=r(4480),F=r(4104),S=r(6340),Y=r(6022),T=r(3714),$=r(6218),q=r(2160),L=r(1865),Q=r(354),U=r(7213),x=r(9862),j=r(8712),B=r(5722),f=r(8672),O=r(1712),G=r(3514),y=r(4444),t=r(4946);let A=(()=>{class a{constructor(e){this.httpClient=e,this.baseUrl=y.D.url,this.endpointListar="/ventasListar",this.endpointProductsGet="/getDatosVentasCrear",this.endpointVentasCrear="/crearVenta",this.endpointVentasDelete="/eliminarVenta"}getAll(e,i="",o=1){const n={headers:new x.WM({"Content-Type":"application/json"})};return this.httpClient.post(`${this.baseUrl+this.endpointListar}?per_page=${e}&page=${o}&search=${i}`,n)}deleteSale(e){return this.httpClient.post(`${this.baseUrl+this.endpointVentasDelete}`,e)}getDatosVentasCrear(){return this.httpClient.get(`${this.baseUrl+this.endpointProductsGet}`)}createVentas(e){return this.httpClient.post(`${this.baseUrl+this.endpointVentasCrear}`,e)}static#t=this.\u0275fac=function(i){return new(i||a)(t.LFG(x.eN))};static#e=this.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();var _=r(86),H=r(3519),g=r.n(H),M=r(3859),V=r(6401),D=r(5219);function z(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"div",21),t._UZ(1,"span"),t.TgZ(2,"span",22)(3,"form",23)(4,"div",24)(5,"input",25),t.NdJ("keyup.enter",function(o){t.CHM(e);const n=t.oxw();return t.KtG(n.buscarPorTecla(o))})("input",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.searchInput())}),t.qZA(),t.TgZ(6,"button",26),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.search())}),t.qZA()()()()()}if(2&a){const e=t.oxw();t.xp6(3),t.Q6J("formGroup",e.formSearch)}}function K(a,s){1&a&&(t.TgZ(0,"tr")(1,"th"),t._uU(2,"Hotel"),t.qZA(),t.TgZ(3,"th"),t._uU(4,"Recibo interno"),t.qZA(),t.TgZ(5,"th"),t._uU(6,"Usuario"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"Total"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"Subtotal"),t.qZA(),t.TgZ(11,"th"),t._uU(12,"Estado"),t.qZA(),t.TgZ(13,"th"),t._uU(14,"Acciones"),t.qZA()())}function W(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"p-button",31),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,n=t.oxw();return t.KtG(n.confirmAbrirPdf(o.id))}),t.qZA()}}function X(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"p-button",32),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,n=t.oxw();return t.KtG(n.confirmDelete(o.id))}),t.qZA()}}function tt(a,s){if(1&a&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td",27),t.YNc(14,W,1,0,"p-button",28),t.YNc(15,X,1,0,"p-button",29),t.TgZ(16,"button",30),t._uU(17,"."),t.qZA()()()),2&a){const e=s.$implicit,i=t.oxw();t.xp6(2),t.Oqu(e.hotel.nombre),t.xp6(2),t.Oqu(e.secuencia_interna),t.xp6(2),t.Oqu(e.usuario.usuario),t.xp6(2),t.Oqu(e.total),t.xp6(2),t.Oqu(e.subtotal),t.xp6(2),t.Oqu(i.getEstado(e.estado_id)),t.xp6(2),t.Q6J("ngIf",0!==e.estado_id),t.xp6(1),t.Q6J("ngIf",0!==e.estado_id||i.permisoEliminar)}}function et(a,s){1&a&&(t.TgZ(0,"tr")(1,"td",33),t._uU(2,"Cargando informacion porfavor espere ..."),t.qZA()())}const ot=function(){return{"min-width":"50rem"}},at=function(){return["nombre","Hotel","acciones"]};let it=(()=>{class a{constructor(e,i,o,n,l,p){this.FB=e,this.spinner=i,this.SaleService=o,this.router=n,this.layoutService=l,this.appComponent=p,this.loadingTable=!1,this.pageCount=10,this.pageActual=1,this.ultimaPage=1,this.disablePageLeft=!1,this.disablePageRight=!1,this.first=0,this.rows=8}ngOnInit(){this.buildForm(),this.getIndex(),this.baseUrl=y.D.url,this.token=this.appComponent.getToken()}buildForm(){this.formSearch=this.FB.group({search:["",[]]})}redirectToCrearVenta(){this.router.navigate(["dashboard/dashboardSell/sale-detail"])}getEstado(e){switch(e){case 1:return"Activa";case 0:return"Anulada";default:return"Desconocido"}}getIndex(e="",i=this.pageCount,o=1){this.spinner.show(),this.loadingTable=!0,this.SaleService.getAll(i,e,o).subscribe(n=>{this.loadingTable=!1,this.salesData=n.data,this.countRegisters=n.total,this.ultimaPage=n.last_page,n.total>i&&(this.disablePageRight=!0),this.validatePage(),this.spinner.hide()},n=>{console.log("Error: ",n),this.spinner.hide()})}confirmDelete(e){g().fire({title:"\xbfEstas seguro que deseas anular esta venta?",text:"Ten cuidado esta acci\xf3n no se prodr\xe1 reversar",icon:"warning",showCancelButton:!0,confirmButtonText:"S\xed, Confirmar",cancelButtonText:"Cancelar"}).then(i=>{i.isConfirmed&&(this.spinner.show(),this.SaleService.deleteSale({id:e}).subscribe(o=>{this.spinner.hide(),"success"==o.code?(g().fire({title:"Exito",text:"Venta anulada exitosamente.",icon:"success"}),this.getIndex(),this.layoutService.reloadComponent()):g().fire({title:"Error",text:"Error al anular la venta.",icon:"error"})},o=>{console.log("Error: ",o)}))})}onPage(e){this.pageCount=e.rows,this.getIndex("",this.pageCount)}searchInput(){let e=this.formSearch.get("search").value;this.pageActual=1,""==e&&this.getIndex(e)}buscarPorTecla(e){"Enter"==e.code&&this.search()}search(){let e=this.formSearch.get("search").value;this.getIndex(e)}onPageChange(e){this.first=e.first,this.rows=e.rows}leftTable(){this.pageActual=this.pageActual-1,this.getIndex("",this.pageCount,this.pageActual),this.validatePage()}rightTable(){this.pageActual=this.pageActual+1,this.getIndex("",this.pageCount,this.pageActual),this.validatePage()}validatePage(){1==this.pageActual&&(this.disablePageLeft=!1),this.pageActual>1&&(this.disablePageLeft=!0),this.ultimaPage==this.pageActual&&(this.disablePageRight=!1),this.ultimaPage>this.pageActual&&(this.disablePageRight=!0)}confirmAbrirPdf(e){console.log(e),window.open(this.baseUrl+"/ventasPdf/"+e+"?token="+this.token,"_blank")}static#t=this.\u0275fac=function(i){return new(i||a)(t.Y36(d.qu),t.Y36(f.t2),t.Y36(A),t.Y36(_.F0),t.Y36(M.P),t.Y36(V.y))};static#e=this.\u0275cmp=t.Xpm({type:a,selectors:[["app-sale"]],decls:24,vars:11,consts:[["type","ball-scale-multiple"],[1,"surface-section","px-4","py-5","md:px-6","lg:px-8"],[1,"flex","align-items-start","flex-column","lg:justify-content-between","lg:flex-row"],[1,"font-medium","text-3xl","text-900"],[1,"flex","align-items-center","text-700","flex-wrap"],[1,"mr-5","flex","align-items-center","mt-3"],[1,"mt-3","lg:mt-0"],["pButton","","pRipple","","label","Crear","icon","",1,"p-button-outlined","mr-2",3,"click"],[1,"grid","mt-3"],[1,"col-12"],[1,"card","px-3","py-3"],["responsiveLayout","scroll","selectionMode","multiple","dataKey","usuario",3,"value","tableStyle","loading","rows","globalFilterFields","rowHover","onPage"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","loadingbody"],[2,"text-align","center"],[1,"p-buttonset"],["pButton","","pRipple","","label","","icon","pi pi-arrow-left",3,"disabled","click"],["pButton","","pRipple","",3,"label"],["pButton","","pRipple","","label","","icon","pi pi-arrow-right",3,"disabled","click"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[3,"formGroup"],[1,"p-inputgroup"],["formControlName","search","pInputText","","type","text","placeholder","Buscar...",1,"w-full","sm:w-auto",3,"keyup.enter","input"],["type","button","pButton","","pRipple","",1,"pi","pi-search",3,"click"],[1,"flex","gap-1"],["icon","pi pi-file-pdf","severity","danger",3,"click",4,"ngIf"],["icon","pi pi-trash","severity","danger",3,"click",4,"ngIf"],["disabled","",2,"visibility","hidden"],["icon","pi pi-file-pdf","severity","danger",3,"click"],["icon","pi pi-trash","severity","danger",3,"click"],["colspan","8"]],template:function(i,o){1&i&&(t._UZ(0,"ngx-spinner",0),t.TgZ(1,"div",1)(2,"div",2)(3,"div")(4,"div",3),t._uU(5,"Ventas"),t.qZA(),t.TgZ(6,"div",4),t._UZ(7,"div",5),t.qZA()(),t.TgZ(8,"div",6)(9,"button",7),t.NdJ("click",function(){return o.redirectToCrearVenta()}),t.qZA()()()(),t.TgZ(10,"div",8)(11,"div",9)(12,"div",10)(13,"p-table",11),t.NdJ("onPage",function(l){return o.onPage(l)}),t.YNc(14,z,7,1,"ng-template",12),t.YNc(15,K,15,0,"ng-template",13),t.YNc(16,tt,18,8,"ng-template",14),t.YNc(17,et,3,0,"ng-template",15),t.qZA(),t._UZ(18,"br"),t.TgZ(19,"div",16)(20,"span",17)(21,"button",18),t.NdJ("click",function(){return o.leftTable()}),t.qZA(),t._UZ(22,"button",19),t.TgZ(23,"button",20),t.NdJ("click",function(){return o.rightTable()}),t.qZA()()()()()()),2&i&&(t.xp6(13),t.Q6J("value",o.salesData)("tableStyle",t.DdM(9,ot))("loading",o.loadingTable)("rows",8)("globalFilterFields",t.DdM(10,at))("rowHover",!0),t.xp6(8),t.Q6J("disabled",!o.disablePageLeft),t.xp6(1),t.Q6J("label",o.pageActual),t.xp6(1),t.Q6J("disabled",!o.disablePageRight))},dependencies:[m.O5,Z.iA,D.jx,h.Hq,h.zx,d._Y,d.Fj,d.JJ,d.JL,v.H,T.o,d.sg,d.u,f.Ro]})}return a})();var I=r(2506),N=r(4055),J=r(6263),nt=r(8725),R=r(7161);function lt(a,s){if(1&a&&(t.TgZ(0,"div",56)(1,"span",57),t._uU(2),t.qZA()()),2&a){const e=s.$implicit;t.xp6(2),t.lnq(" ",e.numero_documento," ",e.nombres," ",e.apellidos,"")}}function st(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"button",58),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.crearCliente())}),t.qZA()}}function rt(a,s){1&a&&(t.TgZ(0,"tr")(1,"th"),t._uU(2,"Categor\xeda"),t.qZA(),t.TgZ(3,"th"),t._uU(4,"Total"),t.qZA(),t.TgZ(5,"th"),t._uU(6,"Acci\xf3n"),t.qZA()())}function dt(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"td")(1,"button",61),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,n=t.oxw();return t.KtG(n.modals(o.nombre))}),t.qZA()()}}function ct(a,s){1&a&&t._UZ(0,"td")}function pt(a,s){if(1&a&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.ALo(5,"number"),t.qZA(),t.YNc(6,dt,2,0,"td",59),t.YNc(7,ct,1,0,"ng-template",null,60,t.W1O),t.qZA()),2&a){const e=s.$implicit,i=t.MAs(8);t.xp6(2),t.Oqu(e.nombre),t.xp6(2),t.hij("$",t.lcZ(5,4,e.total),""),t.xp6(2),t.Q6J("ngIf",e.accion)("ngIfElse",i)}}function ut(a,s){1&a&&(t.TgZ(0,"tr")(1,"th"),t._uU(2,"Nombre"),t.qZA(),t.TgZ(3,"th"),t._uU(4,"Precio"),t.qZA(),t.TgZ(5,"th"),t._uU(6,"Impuesto"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"Cantidad"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"Total"),t.qZA(),t.TgZ(11,"th"),t._uU(12,"Acciones"),t.qZA()())}function gt(a,s){1&a&&(t.TgZ(0,"span",64),t._uU(1,"*"),t.qZA())}function mt(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.ALo(3,"titlecase"),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.ALo(6,"number"),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.ALo(9,"number"),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.YNc(12,gt,2,0,"span",62),t.qZA(),t.TgZ(13,"td"),t._uU(14),t.ALo(15,"number"),t.qZA(),t.TgZ(16,"td")(17,"p-button",63),t.NdJ("click",function(){const n=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.eliminarProducto(n))}),t.qZA()()()}if(2&a){const e=s.$implicit;t.xp6(2),t.Oqu(t.lcZ(3,6,e.nombre)),t.xp6(3),t.hij("$",t.lcZ(6,8,e.subtotal),""),t.xp6(3),t.hij("$",t.lcZ(9,10,e.impuestos),""),t.xp6(3),t.Oqu(e.cantidad),t.xp6(1),t.Q6J("ngIf",e.stockModificado),t.xp6(2),t.hij("$",t.lcZ(15,12,e.total),"")}}function ht(a,s){1&a&&(t.TgZ(0,"tr")(1,"td",68)(2,"span"),t._uU(3,"*"),t.qZA(),t._uU(4," El stock de estos productos ha sido actualizado. "),t.qZA()())}function ft(a,s){if(1&a&&(t.TgZ(0,"tr")(1,"td",65),t._uU(2,"Totales:"),t.qZA(),t.TgZ(3,"td",65),t._uU(4),t.ALo(5,"number"),t.qZA(),t.TgZ(6,"td",66),t._uU(7),t.ALo(8,"number"),t.qZA(),t.TgZ(9,"td",66),t._uU(10),t.ALo(11,"number"),t.qZA()(),t.YNc(12,ht,5,0,"tr",67)),2&a){const e=t.oxw();t.xp6(4),t.hij(" $",t.lcZ(5,4,e.totalProductos-e.totalProductosImpuestos),""),t.xp6(3),t.hij(" $",t.lcZ(8,6,e.totalProductosImpuestos),""),t.xp6(3),t.hij(" $",t.lcZ(11,8,e.totalProductos),""),t.xp6(2),t.Q6J("ngIf",e.stockProductoModificado&&e.productosAgregados.length>0)}}function _t(a,s){1&a&&(t.TgZ(0,"tr")(1,"th"),t._uU(2,"Nombre"),t.qZA(),t.TgZ(3,"th"),t._uU(4,"Precio"),t.qZA(),t.TgZ(5,"th"),t._uU(6,"Impuesto"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"Cantidad"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"Total"),t.qZA(),t.TgZ(11,"th"),t._uU(12,"Acciones"),t.qZA()())}function bt(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.ALo(3,"titlecase"),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.ALo(6,"number"),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.ALo(13,"number"),t.qZA(),t.TgZ(14,"td")(15,"p-button",63),t.NdJ("click",function(){const n=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.eliminarReceta(n))}),t.qZA()()()}if(2&a){const e=s.$implicit;t.xp6(2),t.Oqu(t.lcZ(3,5,e.nombre)),t.xp6(3),t.hij("$",t.lcZ(6,7,e.subtotal),""),t.xp6(3),t.hij("$",e.impuestos,""),t.xp6(2),t.Oqu(e.cantidad),t.xp6(2),t.hij("$",t.lcZ(13,9,e.total),"")}}function Zt(a,s){if(1&a&&(t.TgZ(0,"tr")(1,"td",65),t._uU(2,"Totales:"),t.qZA(),t.TgZ(3,"td",65),t._uU(4),t.ALo(5,"number"),t.qZA(),t.TgZ(6,"td",66),t._uU(7),t.ALo(8,"number"),t.qZA(),t.TgZ(9,"td",65),t._uU(10),t.ALo(11,"number"),t.qZA(),t.TgZ(12,"td"),t._uU(13,"\xa0"),t.qZA()()),2&a){const e=t.oxw();t.xp6(4),t.hij(" $",t.lcZ(5,3,e.totalRecetas-e.totalRecetasImpuestos),""),t.xp6(3),t.hij(" $",t.lcZ(8,5,e.totalRecetasImpuestos),""),t.xp6(3),t.hij(" $",t.lcZ(11,7,e.totalRecetas),"")}}function vt(a,s){if(1&a&&(t.TgZ(0,"div",69)(1,"span",57),t._uU(2),t.ALo(3,"titlecase"),t.qZA(),t.TgZ(4,"div"),t._UZ(5,"p-tag",70),t.ALo(6,"number"),t._UZ(7,"p-tag",70),t.qZA()()),2&a){const e=s.$implicit;t.xp6(2),t.Oqu(t.lcZ(3,3,e.nombre)),t.xp6(3),t.MGl("value","$",t.lcZ(6,5,e.precioTotal),""),t.xp6(2),t.MGl("value","Stock: ",1==e.sin_limite_cantidad?e.stockActual:"Ilimitado","")}}function Tt(a,s){1&a&&(t.TgZ(0,"span",72),t._uU(1,"Producto es requerido."),t.qZA())}function xt(a,s){if(1&a&&(t.TgZ(0,"div",71),t.YNc(1,Tt,2,0,"span",34),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.formProducto.get("producto_id").hasError("required"))}}function At(a,s){1&a&&(t.TgZ(0,"div",72),t._uU(1,"Campo requerido"),t.qZA())}function Ct(a,s){1&a&&(t.TgZ(0,"div",73),t._uU(1,"La cantidad excede el stock disponible."),t.qZA())}function Pt(a,s){if(1&a&&(t.TgZ(0,"div",69)(1,"span",57),t._uU(2),t.qZA(),t._UZ(3,"p-tag",70),t.ALo(4,"number"),t.qZA()),2&a){const e=s.$implicit;t.xp6(2),t.Oqu(e.nombre),t.xp6(1),t.MGl("value","$",t.lcZ(4,2,e.precioTotal),"")}}function St(a,s){1&a&&(t.TgZ(0,"span",72),t._uU(1,"Receta es requerida."),t.qZA())}function qt(a,s){if(1&a&&(t.TgZ(0,"div",71),t.YNc(1,St,2,0,"span",34),t.qZA()),2&a){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.formReceta.get("receta_id").hasError("required"))}}function Ut(a,s){1&a&&(t.TgZ(0,"div",72),t._uU(1,"Campo requerido"),t.qZA())}function yt(a,s){1&a&&(t.TgZ(0,"div",74),t._uU(1,"La cantidad excede el stock disponible."),t.qZA())}function Mt(a,s){if(1&a&&(t.TgZ(0,"div",56)(1,"span",57),t._uU(2),t.qZA()()),2&a){const e=s.$implicit;t.xp6(2),t.Oqu(e.nombre)}}function Dt(a,s){1&a&&(t.TgZ(0,"div",72),t._uU(1,"Campo requerido"),t.qZA())}function It(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"div",81)(1,"p-button",82),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().index,n=t.oxw();return t.KtG(n.eliminarMetodoPago(o))}),t.qZA()()}}function Nt(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"div",75)(1,"div",76)(2,"label"),t._uU(3,"M\xe9todo de Pago"),t.qZA(),t._UZ(4,"input",77),t.qZA(),t.TgZ(5,"div",78)(6,"label"),t._uU(7,"Valor"),t.qZA(),t.TgZ(8,"input",79),t.NdJ("blur",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.calcularTotalMetodosPago())}),t.qZA(),t.YNc(9,Dt,2,0,"div",34),t.qZA(),t.YNc(10,It,2,0,"div",80),t.qZA()}if(2&a){const e=s.$implicit,i=s.index,o=t.oxw();t.Q6J("formGroupName",i),t.xp6(9),t.Q6J("ngIf",e.get("valor").hasError("required")),t.xp6(1),t.Q6J("ngIf",o.metodosPago.controls.length>1)}}function Jt(a,s){1&a&&(t.TgZ(0,"div",83),t._UZ(1,"p-message",84),t.qZA())}function Rt(a,s){if(1&a){const e=t.EpF();t.TgZ(0,"app-clientes",85,86),t.NdJ("clienteCreado",function(o){t.CHM(e);const n=t.oxw();return t.KtG(n.handleClienteCreado(o))}),t.qZA()}if(2&a){const e=t.oxw();t.Q6J("vieneDeHabitaciones",e.creandoCliente)}}const wt=function(){return{"min-width":"20rem"}},w=function(){return{"min-width":"35rem"}},k=function(){return{width:"60vw"}},kt=function(){return{width:"50vw"}};let Et=(()=>{class a{constructor(e,i,o,n,l){this.FB=e,this.spinner=i,this.saleService=o,this.router=n,this.layoutService=l,this.loadingTable=!1,this.clienteData=[],this.validacionStock=!1,this.productosAgregados=[],this.recetasAgregadas=[],this.totalProductos=0,this.totalProductosImpuestos=0,this.totalRecetas=0,this.totalRecetasImpuestos=0,this.totalImpuestos=0,this.subtotal=0,this.total=0,this.totales=[{nombre:"Productos/Servicios",total:this.totalProductos-this.totalProductosImpuestos,accion:!0},{nombre:"Recetas",total:this.totalRecetas-this.totalRecetasImpuestos,accion:!0},{nombre:"Impuestos",total:this.totalImpuestos},{nombre:"Subtotal",total:this.subtotal},{nombre:"Total",total:this.total}],this.recetasData=[],this.displayModalRecipes=!1,this.productsData=[],this.displayModalProducts=!1,this.dataMetodosPago=[],this.displayModalMetodosPago=!1,this.montoSinRedondear=0,this.excedente=0,this.activarRedondear=!1,this.stockProductoModificado=!1,this.creandoCliente=!1,this.totalMetodosPago=0,this.buildForm()}ngOnInit(){this.spinner.hide(),this.buildForm(),this.loadData()}buildForm(){this.formCliente=this.FB.group({cliente_id:[null,[]]}),this.formProducto=this.FB.group({producto_id:[null,d.kI.required],cantidad:[1,[d.kI.required,d.kI.min(1)]]}),this.formReceta=this.FB.group({receta_id:[null,d.kI.required],cantidad:[1,[d.kI.required,d.kI.min(1)]]}),this.formMetodoPago=this.FB.group({metodos_pago:this.FB.array([]),cambio:[0,d.kI.required]}),this.agregarMetodoPago({value:{id:1,nombre:"Efectivo"}})}crearCliente(){this.creandoCliente=!0}handleClienteCreado(e){this.creandoCliente=!1,e&&this.loadData()}get metodosPago(){return this.formMetodoPago.get("metodos_pago")}agregarMetodoPago(e){if(this.metodosPago.controls.find(o=>o.get("metodo_pago_id").value===e.value.id))return;const i=this.FB.group({metodo_pago_id:[e.value.id,d.kI.required],valor:[null,[d.kI.required,d.kI.min(1)]],nombre:[e.value.nombre]});i.get("nombre").disable(),this.metodosPago.push(i)}eliminarMetodoPago(e){this.metodosPago.removeAt(e)}calcularTotalMetodosPago(){this.totalMetodosPago=0,this.metodosPago.controls.forEach(e=>{let i=e.get("valor").value;isNaN(i)&&(i=0),this.totalMetodosPago+=i})}submitFactura(){this.formMetodoPago.valid&&(this.displayModalMetodosPago=!1,this.calcularTotales())}loadData(){this.spinner.show(),this.saleService.getDatosVentasCrear().subscribe(e=>{function i(o){const n=parseFloat(o.precio);let l=0;return o.impuestos.forEach(p=>{const c=n*(Number(p.impuesto.porcentaje)/100);l+=c}),n+l}this.spinner.hide(),this.productsData=e.productos.map(o=>({...o,precioTotal:i(o),tipo_servicio_id:1===o.tipo_producto?1:2,stockModificado:!1})),this.recetasData=e.recetas.map(o=>({...o,precioTotal:i(o),tipo_servicio_id:4})),this.clienteData=e.clientes,this.dataMetodosPago=e.metodosPago},e=>{console.error(e)})}agregarProductos(){const e=this.formProducto.get("producto_id").value,i=this.formProducto.get("cantidad").value,o=parseFloat(e.precio),n=o*e.impuestos_total/100,l=(o+n)*i,p={...e,cantidad:Number(i),subtotal:o,total:l,stockModificado:!1,impuestos:n};if(this.productosAgregados.some(c=>c.id===p.id)){const c=this.productosAgregados.findIndex(u=>u.id===p.id);this.productosAgregados[c].cantidad+=p.cantidad,this.productosAgregados[c].total+=p.total}else this.productosAgregados.push(p);this.productsData.find(c=>c.id===p.id).stockActual-=i,this.stockProductoModificado=this.productosAgregados.some(c=>1==c.stockModificado),this.calcularTotales(),this.displayModalProducts=!1,this.formProducto.reset()}validarStock(e){if("producto"==e&&this.formProducto.valid){const i=this.formProducto.get("producto_id").value,o=this.formProducto.get("cantidad").value;this.validacionStock=i.stockActual<o&&1==i.sin_limite_cantidad}}eliminarProducto(e){const i=this.productosAgregados.indexOf(e);i>-1&&(this.productosAgregados.splice(i,1),this.productsData.find(o=>o.id===e.id).stockActual+=e.cantidad),this.stockProductoModificado=this.productosAgregados.some(o=>1==o.stockModificado),this.calcularTotales()}agregarRecetas(){const e=this.formReceta.get("receta_id").value,i=this.formReceta.get("cantidad").value,o=parseFloat(e.precio),n=o*e.impuestos_total/100,l=(o+n)*i,p={...e,cantidad:i,subtotal:o,total:l,impuestos:n};if(this.recetasAgregadas.some(c=>c.id===p.id)){const c=this.recetasAgregadas.findIndex(u=>u.id===p.id);this.recetasAgregadas[c].total+=p.total,this.recetasAgregadas[c].cantidad+=p.cantidad}else this.recetasAgregadas.push(p);this.calcularTotales(),this.displayModalRecipes=!1,this.formReceta.reset()}eliminarReceta(e){const i=this.recetasAgregadas.findIndex(o=>o.id===e.id);-1!==i?this.recetasAgregadas.splice(i,1):console.error(`No se encontr\xf3 la receta con id ${e.id} en recetasAgregadas`),this.calcularTotales()}calcularTotales(){this.totalProductos=this.productosAgregados.reduce((i,o)=>i+o.total,0),this.totalProductosImpuestos=this.productosAgregados.reduce((i,o)=>i+o.impuestos*o.cantidad,0),this.totalRecetas=this.recetasAgregadas.reduce((i,o)=>i+o.total,0),this.totalRecetasImpuestos=this.recetasAgregadas.reduce((i,o)=>i+o.impuestos*o.cantidad,0),this.totalImpuestos=this.totalProductosImpuestos+this.totalRecetasImpuestos,this.subtotal=this.totalProductos-this.totalProductosImpuestos+(this.totalRecetas-this.totalRecetasImpuestos),this.total=this.subtotal+this.totalImpuestos,this.totales=[{nombre:"Productos/Servicios",total:this.totalProductos-this.totalProductosImpuestos,accion:!0},{nombre:"Recetas",total:this.totalRecetas-this.totalRecetasImpuestos,accion:!0},{nombre:"Impuestos",total:this.totalImpuestos},{nombre:"Subtotal",total:this.subtotal},{nombre:"Total",total:this.total}],this.activarRedondear?(this.montoSinRedondear=this.total,this.total=function e(i){let o=i%50,n=0;return o>0&&(n=50-o),i+n}(this.total),this.excedente=this.total-this.montoSinRedondear,this.totales[4]={nombre:"Total sin redondear",total:this.montoSinRedondear},this.totales.push({nombre:"Excedente",total:this.excedente}),this.totales.push({nombre:"Total",total:this.total})):(this.excedente=0,this.totales=this.totales.filter(i=>"Total sin redondear"!==i.nombre||"Excedente"!==i.nombre))}modals(e){switch(e){case"Productos/Servicios":this.formProducto.reset(),this.displayModalProducts=!0,this.validacionStock=!1;break;case"Recetas":this.formReceta.reset(),this.displayModalRecipes=!0,this.validacionStock=!1;break;case"Pagar":this.displayModalMetodosPago=!0}}crearVenta(){this.spinner.show();const e=[...this.productosAgregados,...this.recetasAgregadas];if(!Array.isArray(e))return this.spinner.hide(),void g().fire({title:"Error",text:"Hubo un error al preparar los detalles de la venta.",icon:"error"});let i={cliente_id:this.formCliente.get("cliente_id").value?parseInt(this.formCliente.get("cliente_id").value[0].id):null,total:this.total,subtotal:this.subtotal,excedente:this.excedente,total_impuestos:this.totalImpuestos,estado_id:1};const o=new FormData;for(const l in i)i.hasOwnProperty(l)&&o.append(l,i[l]);e.forEach((l,p)=>{l.consumo_id=l.id,l.valor_consumo=l.subtotal,l.tipo_consumo=l.tipo_servicio_id,l.valor_impuesto=l.impuestos||0;for(const c in l)l.hasOwnProperty(c)&&o.append(`detalles_venta[${p}][${c}]`,l[c])}),this.formMetodoPago.get("metodos_pago").value.forEach((l,p)=>{for(const c in l)l.hasOwnProperty(c)&&o.append(`metodos_pago[${p}][${c}]`,l[c])}),this.saleService.createVentas(o).subscribe(l=>{this.spinner.hide(),l.venta?(this.formCliente.reset(),this.productosAgregados=[],this.recetasAgregadas=[],this.calcularTotales(),g().fire({title:"Exito",text:"Venta creada exitosamente.",icon:"success"}).then(()=>{this.router.navigate(["/dashboard/dashboardSell"])}),this.layoutService.reloadComponent()):"warning"===l.code?g().fire({title:"Advertencia",text:l.msm,icon:"warning"}):g().fire({title:"Error",text:"Error al crear la venta.",icon:"error"})},l=>{if(400===l.status&&l.error.error.startsWith("Stock insuficiente")){this.spinner.hide(),g().fire({title:"Advertencia",text:l.error.error,icon:"warning"});const p=l.error.productos_sin_stock;this.stockProductoModificado=!0,p.forEach(c=>{const u=this.productsData.find(C=>C.id===c.id),b=this.productosAgregados.find(C=>C.consumo_id===c.id);u&&(u.stockActual=0),b&&(b.cantidad=c.stockActual,b.total=u.precioTotal*b.cantidad,b.stockModificado=!0),this.calcularTotales()})}else this.spinner.hide(),console.error("Error:",l)})}static#t=this.\u0275fac=function(i){return new(i||a)(t.Y36(d.qu),t.Y36(f.t2),t.Y36(A),t.Y36(_.F0),t.Y36(M.P))};static#e=this.\u0275cmp=t.Xpm({type:a,selectors:[["app-sale-detail"]],decls:119,vars:71,consts:[["type","ball-scale-multiple"],[1,"surface-section","px-4","py-5","md:px-6","lg:px-8"],[1,"flex","align-items-center","flex-column","lg:flex-row"],["pButton","","pRipple","","label","","icon","pi pi-arrow-left",1,"p-button-outlined","mr-4",3,"routerLink"],[1,"font-medium","text-3xl","text-900"],[1,"card","mt-3",2,"margin-bottom","14px"],[1,"p-fluid"],[1,"col-12",2,"display","flex","justify-content","space-between","align-items","center","width","100%"],[1,"col-6",2,"display","flex","flex-direction","column",3,"formGroup"],["for","cliente",2,"font-size","large","margin-bottom","15px"],["formControlName","cliente_id","selectionLimit","1","optionLabel","nombres","placeholder","Buscar hu\xe9sped","display","chip","emptyMessage","Cargando hu\xe9spedes...",1,"multiselect-custom",3,"options"],["pTemplate","item"],["pTemplate","footer"],[1,"col-6",2,"display","flex","flex-direction","column","align-items","flex-end","justify-content","flex-end"],[2,"display","flex","flex-direction","row","gap","30px"],[1,"font-medium","text-3xl","text-500"],[1,"flex-grow-1","text-right",2,"margin-top","20px"],["pButton","","pRipple","","label","Pagar","icon","",1,"p-button","mr-2",3,"disabled","click"],[1,"grid"],[1,"col-12"],[1,"card",2,"padding","30px","margin-top","0"],[1,"col-12","lg:col-5"],["responsiveLayout","scroll",3,"value","tableStyle","rows"],["pTemplate","header"],["pTemplate","body"],[1,"col-7"],[2,"padding","10px"],["header","Agregar Producto/Servicio",3,"visible","modal","draggable","resizable","visibleChange"],[3,"formGroup","ngSubmit"],[1,"p-fluid","p-formgrid","grid"],[1,"field","col-6","md:col-6"],["formControlName","producto_id","placeholder","Buscar Producto/Servicio","optionLabel","nombre","emptyMessage","Cargando productos...",1,"dropdown-custom",3,"options","onChange"],["style","margin-top: 14px;",4,"ngIf"],["type","number","min","1","formControlName","cantidad","placeholder","Cantidad","pInputText","",1,"w-full","mb-3","border-round-3xl",3,"input"],["style","color: red;",4,"ngIf"],["style","color: orangered;",4,"ngIf"],[1,"field","col-12","md:col-12"],["pButton","","pRipple","","label","Agregar Producto","icon","pi pi-fw","type","submit",1,"w-full","bg-admin","boder-admin","mb-5","border-round-3xl",3,"disabled"],["header","Agregar Receta",3,"visible","modal","draggable","resizable","visibleChange"],["formControlName","receta_id","placeholder","Buscar Receta","optionLabel","nombre","emptyMessage","Cargando recetas...",1,"dropdown-custom",3,"options"],["type","number","min","1","formControlName","cantidad","placeholder","Cantidad","pInputText","",1,"w-full","mb-3","border-round-3xl"],["class","field col-12","style","color: red;",4,"ngIf"],["pButton","","pRipple","","label","Agregar Receta","icon","pi pi-fw","type","submit",1,"w-full","bg-admin","boder-admin","mb-5","border-round-3xl",3,"disabled"],["header","Facturar",3,"visible","modal","draggable","resizable","visibleChange"],["formArrayName","metodos_pago",1,"p-fluid","p-formgrid","grid"],[1,"field","col-12"],[1,"font-medium","text-2xl","text-500","text-center"],["optionLabel","nombre","emptyMessage","Cargando m\xe9todos de pago...","placeholder","Buscar M\xe9todo de Pago",1,"dropdown-custom",3,"options","autoDisplayFirst","onChange"],["class","grid",3,"formGroupName",4,"ngFor","ngForOf"],["class","col-6","style","padding: 0; margin-top: 15px;",4,"ngIf"],[1,"flex",2,"justify-content","space-between"],[1,"flex","align-items-center",2,"gap","10px"],[1,"flex","flex-column","justify-end",2,"justify-content","end","align-items","end"],[1,"font-medium","text-2xl","text-500","text-right"],["pButton","","pRipple","","icon","",1,"w-full","bg-admin","boder-admin","mb-5","border-round-3xl",3,"label","disabled","click"],[3,"vieneDeHabitaciones","clienteCreado",4,"ngIf"],[1,"flex","align-items-center"],[1,"ml-2"],["pButton","","pRipple","","label","Registrar nuevo hu\xe9sped","type","button","icon","pi pi-plus",1,"w-full","bg-blue","boder-blue","mb-5","border-round-3xl",3,"click"],[4,"ngIf","ngIfElse"],["emptyTd",""],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button",3,"click"],["style","color: orangered; font-size: xx-large;",4,"ngIf"],["icon","pi pi-trash","severity","danger",3,"click"],[2,"color","orangered","font-size","xx-large"],["colspan","1"],["colspan","2"],[4,"ngIf"],["colspan","6",2,"color","orangered"],[1,"flex","align-items-center",2,"display","flex","justify-content","space-between"],[1,"padding",3,"value"],[2,"margin-top","14px"],[2,"color","red"],[2,"color","orangered"],[1,"field","col-12",2,"color","red"],[1,"grid",3,"formGroupName"],[1,"col-6","md:col-5"],["type","text","min","1","formControlName","nombre","placeholder","Metodo de pago","pInputText","","disabled","",1,"w-full","mb-3","border-round-3xl"],[1,"col-4","md:col-5"],["type","number","min","1","formControlName","valor","placeholder","Valor","pInputText","",1,"w-full","mb-3","border-round-3xl",3,"blur"],["class","col-2 mt-4 eliminar-metodo-pago",4,"ngIf"],[1,"col-2","mt-4","eliminar-metodo-pago"],["pRipple","","type","button","icon","pi pi-trash","severity","danger",3,"click"],[1,"col-6",2,"padding","0","margin-top","15px"],["severity","error","text","El total ingresado no es igual al total a pagar"],[3,"vieneDeHabitaciones","clienteCreado"],["clientes",""]],template:function(i,o){1&i&&(t._UZ(0,"ngx-spinner",0),t.TgZ(1,"div",1)(2,"div",2)(3,"div"),t._UZ(4,"button",3),t.qZA(),t.TgZ(5,"div")(6,"div",4),t._uU(7,"Crear venta"),t.qZA()()()(),t.TgZ(8,"div",5)(9,"p-toolbar",6)(10,"div",7)(11,"div",8)(12,"label",9),t._uU(13,"Hu\xe9sped"),t.qZA(),t.TgZ(14,"p-multiSelect",10),t.YNc(15,lt,3,3,"ng-template",11),t.YNc(16,st,1,0,"ng-template",12),t.qZA()(),t.TgZ(17,"div",13)(18,"div",14)(19,"div",15),t._uU(20),t.ALo(21,"number"),t.qZA()(),t.TgZ(22,"div",16)(23,"button",17),t.NdJ("click",function(){return o.modals("Pagar")}),t.qZA()()()()()(),t.TgZ(24,"div",18)(25,"div",19)(26,"div",20)(27,"h3"),t._uU(28,"Detalles de venta"),t.qZA(),t.TgZ(29,"div",18)(30,"div",21)(31,"p-table",22),t.YNc(32,rt,7,0,"ng-template",23),t.YNc(33,pt,9,6,"ng-template",24),t.qZA()(),t.TgZ(34,"div",25)(35,"div",26)(36,"h5"),t._uU(37,"Productos/Servicios"),t.qZA(),t.TgZ(38,"p-table",22),t.YNc(39,ut,13,0,"ng-template",23),t.YNc(40,mt,18,14,"ng-template",24),t.YNc(41,ft,13,10,"ng-template",12),t.qZA()(),t._UZ(42,"hr"),t.TgZ(43,"div",26)(44,"h5"),t._uU(45,"Recetas"),t.qZA(),t.TgZ(46,"p-table",22),t.YNc(47,_t,13,0,"ng-template",23),t.YNc(48,bt,16,11,"ng-template",24),t.YNc(49,Zt,14,9,"ng-template",12),t.qZA()()()()()()(),t.TgZ(50,"p-dialog",27),t.NdJ("visibleChange",function(l){return o.displayModalProducts=l}),t.TgZ(51,"div",19)(52,"form",28),t.NdJ("ngSubmit",function(){return o.agregarProductos()}),t.TgZ(53,"div",29)(54,"div",30)(55,"label"),t._uU(56,"Producto/Servicio"),t.qZA(),t.TgZ(57,"p-dropdown",31),t.NdJ("onChange",function(){return o.validarStock("producto")}),t.YNc(58,vt,8,7,"ng-template",11),t.qZA(),t.YNc(59,xt,2,1,"div",32),t.qZA(),t.TgZ(60,"div",30)(61,"label"),t._uU(62,"Cantidad"),t.qZA(),t.TgZ(63,"input",33),t.NdJ("input",function(){return o.validarStock("producto")}),t.qZA(),t.YNc(64,At,2,0,"div",34),t.YNc(65,Ct,2,0,"div",35),t.qZA(),t.TgZ(66,"div",36),t._UZ(67,"button",37),t.qZA()(),t._UZ(68,"br"),t.qZA()()(),t.TgZ(69,"p-dialog",38),t.NdJ("visibleChange",function(l){return o.displayModalRecipes=l}),t.TgZ(70,"div",19)(71,"form",28),t.NdJ("ngSubmit",function(){return o.agregarRecetas()}),t.TgZ(72,"div",29)(73,"div",30)(74,"label"),t._uU(75,"Receta"),t.qZA(),t.TgZ(76,"p-dropdown",39),t.YNc(77,Pt,5,4,"ng-template",11),t.qZA(),t.YNc(78,qt,2,1,"div",32),t.qZA(),t.TgZ(79,"div",30)(80,"label"),t._uU(81,"Cantidad"),t.qZA(),t._UZ(82,"input",40),t.YNc(83,Ut,2,0,"div",34),t.YNc(84,yt,2,0,"div",41),t.qZA(),t.TgZ(85,"div",36),t._UZ(86,"button",42),t.qZA()(),t._UZ(87,"br"),t.qZA()()(),t.TgZ(88,"p-dialog",43),t.NdJ("visibleChange",function(l){return o.displayModalMetodosPago=l}),t.TgZ(89,"div",19)(90,"form",28),t.NdJ("ngSubmit",function(){return o.submitFactura()}),t.TgZ(91,"div",44)(92,"div",45)(93,"div",46),t._uU(94),t.ALo(95,"number"),t.qZA()(),t.TgZ(96,"div",45)(97,"label"),t._uU(98,"Agregar m\xe9todo de pago"),t.qZA(),t.TgZ(99,"p-dropdown",47),t.NdJ("onChange",function(l){return o.agregarMetodoPago(l)}),t.YNc(100,Mt,3,1,"ng-template",11),t.qZA()(),t.TgZ(101,"div",45),t.YNc(102,Nt,11,3,"div",48),t.YNc(103,Jt,2,0,"div",49),t._UZ(104,"hr"),t.TgZ(105,"div",50)(106,"div",51),t._UZ(107,"span"),t.qZA(),t.TgZ(108,"div",52)(109,"div",53),t._uU(110),t.ALo(111,"number"),t.qZA(),t.TgZ(112,"div",53),t._uU(113),t.ALo(114,"number"),t.ALo(115,"number"),t.qZA()()()()(),t.TgZ(116,"div",45)(117,"button",54),t.NdJ("click",function(){return o.crearVenta()}),t.qZA()()()()(),t.YNc(118,Rt,2,1,"app-clientes",55)),2&i&&(t.xp6(4),t.Q6J("routerLink","/dashboard/dashboardSell"),t.xp6(7),t.Q6J("formGroup",o.formCliente),t.xp6(3),t.Q6J("options",o.clienteData),t.xp6(6),t.hij("Total: $",t.lcZ(21,55,o.total),""),t.xp6(3),t.Q6J("disabled",o.total<1),t.xp6(8),t.Q6J("value",o.totales)("tableStyle",t.DdM(65,wt))("rows",8),t.xp6(7),t.Q6J("value",o.productosAgregados)("tableStyle",t.DdM(66,w))("rows",5),t.xp6(8),t.Q6J("value",o.recetasAgregadas)("tableStyle",t.DdM(67,w))("rows",5),t.xp6(4),t.Akn(t.DdM(68,k)),t.Q6J("visible",o.displayModalProducts)("modal",!0)("draggable",!1)("resizable",!1),t.xp6(2),t.Q6J("formGroup",o.formProducto),t.xp6(5),t.Q6J("options",o.productsData),t.xp6(2),t.Q6J("ngIf",o.formProducto.get("producto_id").errors&&(o.formProducto.get("producto_id").dirty||o.formProducto.get("producto_id").touched)),t.xp6(5),t.Q6J("ngIf",o.formProducto.get("cantidad").hasError("required")),t.xp6(1),t.Q6J("ngIf",o.validacionStock),t.xp6(2),t.Q6J("disabled",o.formProducto.invalid||o.validacionStock),t.xp6(2),t.Akn(t.DdM(69,k)),t.Q6J("visible",o.displayModalRecipes)("modal",!0)("draggable",!1)("resizable",!1),t.xp6(2),t.Q6J("formGroup",o.formReceta),t.xp6(5),t.Q6J("options",o.recetasData),t.xp6(2),t.Q6J("ngIf",o.formReceta.get("receta_id").errors&&(o.formReceta.get("receta_id").dirty||o.formReceta.get("receta_id").touched)),t.xp6(5),t.Q6J("ngIf",o.formReceta.get("cantidad").hasError("required")),t.xp6(1),t.Q6J("ngIf",o.validacionStock),t.xp6(2),t.Q6J("disabled",o.formReceta.invalid),t.xp6(2),t.Akn(t.DdM(70,kt)),t.Q6J("visible",o.displayModalMetodosPago)("modal",!0)("draggable",!1)("resizable",!1),t.xp6(2),t.Q6J("formGroup",o.formMetodoPago),t.xp6(4),t.hij("Total a pagar: $",t.lcZ(95,57,o.total),""),t.xp6(5),t.Q6J("options",o.dataMetodosPago)("autoDisplayFirst",!1),t.xp6(3),t.Q6J("ngForOf",o.metodosPago.controls),t.xp6(1),t.Q6J("ngIf",o.totalMetodosPago!=o.total),t.xp6(7),t.hij("Total ingresado: $",t.lcZ(111,59,o.totalMetodosPago),""),t.xp6(3),t.hij("Pendiente: $",o.total-o.totalMetodosPago>0?t.lcZ(114,61,o.total-o.totalMetodosPago):t.lcZ(115,63,0),""),t.xp6(4),t.Q6J("label","Pagar")("disabled",o.totalMetodosPago!=o.total||0===o.total||o.formMetodoPago.invalid),t.xp6(1),t.Q6J("ngIf",o.creandoCliente))},dependencies:[m.sg,m.O5,_.rH,Z.iA,D.jx,h.Hq,h.zx,d._Y,d.Fj,d.wV,d.JJ,d.JL,d.qQ,v.H,S.o,T.o,q.Lt,U.V,d.sg,d.u,d.x0,d.CE,f.Ro,N.NU,J.V,nt.R,R.q,m.JJ,m.rS],styles:['@charset "UTF-8";.flex[_ngcontent-%COMP%]{display:flex;align-items:center}.flex-grow-1[_ngcontent-%COMP%]{flex-grow:1}.text-right[_ngcontent-%COMP%]{text-align:right}.mr-2[_ngcontent-%COMP%]{margin-right:2rem}.multiselect-custom[_ngcontent-%COMP%]{width:100%!important}.padding[_ngcontent-%COMP%]{padding:1%}']})}return a})(),Ft=(()=>{class a{static#t=this.\u0275fac=function(i){return new(i||a)};static#e=this.\u0275mod=t.oAB({type:a});static#o=this.\u0275inj=t.cJS({imports:[_.Bz.forChild([{path:"",component:it,canActivate:[I.a],data:{permissions:["dashboard.venta"]}},{path:"sale-detail",component:Et,canActivate:[I.a],data:{permissions:["dashboard.venta"]}}]),_.Bz]})}return a})();var Yt=r(2169),$t=r(5617);let Lt=(()=>{class a{static#t=this.\u0275fac=function(i){return new(i||a)};static#e=this.\u0275mod=t.oAB({type:a});static#o=this.\u0275inj=t.cJS({providers:[{provide:x.TP,useClass:j.n,multi:!0},A],imports:[m.ez,Ft,Z.U$,E.O,d.u5,h.hJ,v.T,F.EV,S.V,Y.Xt,T.j,$.A,q.kW,L.cc,Q.L$,U.S,B.ii.forRoot(),d.UX,f.ef,O.U,G.dp,N.q4,Yt.o,J.W,$t.ClientesModule,R.O]})}return a})()}}]);