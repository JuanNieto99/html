"use strict";(self.webpackChunksakai_ng=self.webpackChunksakai_ng||[]).push([[595],{5595:(k,b,r)=>{r.r(b),r.d(b,{SaleModule:()=>mt});var f=r(6814),c=r(95),v=r(9664),y=r(6068),_=r(707),C=r(4480),S=r(4104),q=r(6340),I=r(6022),T=r(3714),U=r(6218),x=r(2160),P=r(1865),w=r(354),Z=r(7213),A=r(9862),R=r(8712),M=r(5722),h=r(8672),a=r(1712),g=r(3514),l=r(4444),t=r(4946);let d=(()=>{class i{constructor(e){this.httpClient=e,this.baseUrl=l.D.url,this.endpointListar="/ventasListar",this.endpointProductsGet="/getproductosVentasCrear",this.endpointRecipesGet="/getrecetasVentasCrear",this.endpointClientsGet="/getClientesByHotel"}getAll(e,n="",o=1){const s={headers:new A.WM({"Content-Type":"application/json"})};return this.httpClient.post(`${this.baseUrl+this.endpointListar}?per_page=${e}&page=${o}&search=${n}`,s)}getProducts(){return this.httpClient.get(`${this.baseUrl+this.endpointProductsGet}`)}getRecipes(){return this.httpClient.get(`${this.baseUrl+this.endpointRecipesGet}`)}getClients(){return this.httpClient.get(`${this.baseUrl+this.endpointClientsGet}`)}static#t=this.\u0275fac=function(n){return new(n||i)(t.LFG(A.eN))};static#e=this.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var u=r(86),D=r(5219);function F(i,p){if(1&i){const e=t.EpF();t.TgZ(0,"div",16)(1,"h5",17),t._uU(2,"Lista de Ventas"),t.qZA(),t.TgZ(3,"span",18)(4,"form",19)(5,"div",20)(6,"input",21),t.NdJ("input",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.searchInput())}),t.qZA(),t.TgZ(7,"button",22),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.search(o.dt))}),t.qZA()()()()()}if(2&i){const e=t.oxw();t.xp6(4),t.Q6J("formGroup",e.formSearch)}}function L(i,p){1&i&&(t.TgZ(0,"tr")(1,"th"),t._uU(2,"Hotel"),t.qZA(),t.TgZ(3,"th"),t._uU(4,"Usuario"),t.qZA(),t.TgZ(5,"th"),t._uU(6,"Total"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"Subtotal"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"Total Impuestos"),t.qZA(),t.TgZ(11,"th"),t._uU(12,"Acciones"),t.qZA()())}function V(i,p){if(1&i){const e=t.EpF();t.TgZ(0,"p-button",25),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,s=t.oxw();return t.KtG(s.confirmDelete(o.id))}),t.qZA()}}function Y(i,p){if(1&i&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td",23),t._UZ(12,"p-confirmDialog"),t.YNc(13,V,1,0,"p-button",24),t.qZA()()),2&i){const e=p.$implicit,n=t.oxw();t.xp6(2),t.Oqu(e.hotel.nombre),t.xp6(2),t.Oqu(e.usuario.usuario),t.xp6(2),t.Oqu(e.total),t.xp6(2),t.Oqu(e.subtotal),t.xp6(2),t.Oqu(e.total_impuestos),t.xp6(3),t.Q6J("ngIf",n.permisoEliminar)}}function B(i,p){1&i&&(t.TgZ(0,"tr")(1,"td",26),t._uU(2,"Cargando informacion porfavor espere ..."),t.qZA()())}const Q=function(){return{"min-width":"50rem"}},$=function(){return["nombre","Hotel","acciones"]};let G=(()=>{class i{constructor(e,n,o,s){this.FB=e,this.spinner=n,this.SaleService=o,this.router=s,this.loadingTable=!1,this.pageCount=10,this.pageActual=1,this.ultimaPage=1,this.disablePageLeft=!1,this.disablePageRight=!1,this.first=0,this.rows=8}ngOnInit(){this.buildForm(),this.getIndex()}buildForm(){this.formSearch=this.FB.group({search:["",[]]})}redirectToCrearVenta(){this.router.navigate(["dashboard/dashboardSell/sale-detail"])}getIndex(e="",n=this.pageCount,o=1){this.spinner.show(),this.loadingTable=!0,this.SaleService.getAll(n,e,o).subscribe(s=>{this.loadingTable=!1,this.salesData=s.data,this.countRegisters=s.total,this.ultimaPage=s.last_page,s.total>n&&(this.disablePageRight=!0),this.validatePage(),this.spinner.hide()},s=>{console.log("Error: ",s),this.spinner.hide()})}onPage(e){this.pageCount=e.rows,this.getIndex("",this.pageCount)}onPageChange(e){this.first=e.first,this.rows=e.rows}leftTable(){this.pageActual=this.pageActual-1,this.getIndex("",this.pageCount,this.pageActual),this.validatePage()}rightTable(){this.pageActual=this.pageActual+1,this.getIndex("",this.pageCount,this.pageActual),this.validatePage()}validatePage(){1==this.pageActual&&(this.disablePageLeft=!1),this.pageActual>1&&(this.disablePageLeft=!0),this.ultimaPage==this.pageActual&&(this.disablePageRight=!1),this.ultimaPage>this.pageActual&&(this.disablePageRight=!0)}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(c.qu),t.Y36(h.t2),t.Y36(d),t.Y36(u.F0))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-sale"]],decls:19,vars:8,consts:[["type","ball-scale-multiple"],[1,"surface-section","px-4","py-5","md:px-6","lg:px-8"],[1,"flex","align-items-start","flex-column","lg:justify-content-between","lg:flex-row"],[1,"font-medium","text-3xl","text-900"],[1,"flex","align-items-center","text-700","flex-wrap"],[1,"mr-5","flex","align-items-center","mt-3"],[1,"mt-3","lg:mt-0"],["pButton","","pRipple","","label","Crear","icon","",1,"p-button-outlined","mr-2",3,"click"],[1,"grid","mt-3"],[1,"col-12"],[1,"card","px-3","py-3"],["responsiveLayout","scroll","selectionMode","multiple","dataKey","usuario",3,"value","tableStyle","loading","rows","globalFilterFields","rowHover","onPage"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","loadingbody"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[3,"formGroup"],[1,"p-inputgroup"],["formControlName","search","pInputText","","type","text","placeholder","Buscar...",1,"w-full","sm:w-auto",3,"input"],["type","button","pButton","","pRipple","",1,"pi","pi-search",3,"click"],[1,"flex","gap-2"],["icon","pi pi-trash","severity","danger",3,"click",4,"ngIf"],["icon","pi pi-trash","severity","danger",3,"click"],["colspan","8"]],template:function(n,o){1&n&&(t._UZ(0,"ngx-spinner",0),t.TgZ(1,"div",1)(2,"div",2)(3,"div")(4,"div",3),t._uU(5,"Ventas"),t.qZA(),t.TgZ(6,"div",4),t._UZ(7,"div",5),t.qZA()(),t.TgZ(8,"div",6)(9,"button",7),t.NdJ("click",function(){return o.redirectToCrearVenta()}),t.qZA()()()(),t.TgZ(10,"div",8)(11,"div",9)(12,"div",10)(13,"p-table",11),t.NdJ("onPage",function(m){return o.onPage(m)}),t.YNc(14,F,8,1,"ng-template",12),t.YNc(15,L,13,0,"ng-template",13),t.YNc(16,Y,14,6,"ng-template",14),t.YNc(17,B,3,0,"ng-template",15),t.qZA(),t._UZ(18,"br"),t.qZA()()()),2&n&&(t.xp6(13),t.Q6J("value",o.salesData)("tableStyle",t.DdM(6,Q))("loading",o.loadingTable)("rows",8)("globalFilterFields",t.DdM(7,$))("rowHover",!0))},dependencies:[f.O5,v.iA,D.jx,_.Hq,_.zx,c._Y,c.Fj,c.JJ,c.JL,C.H,T.o,c.sg,c.u,h.Ro]})}return i})();var N=r(2506),J=r(4055);function j(i,p){if(1&i&&(t.TgZ(0,"div",38)(1,"span",39),t._uU(2),t.qZA()()),2&i){const e=p.$implicit;t.xp6(2),t.lnq(" ",e.numero_documento," ",e.nombres," ",e.apellidos,"")}}function H(i,p){1&i&&(t.TgZ(0,"tr")(1,"th"),t._uU(2,"Categor\xeda"),t.qZA(),t.TgZ(3,"th"),t._uU(4,"Valor"),t.qZA()())}function z(i,p){if(1&i&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.ALo(5,"currency"),t.qZA()()),2&i){const e=p.$implicit;t.xp6(2),t.Oqu(e.nombre),t.xp6(2),t.Oqu(t.gM2(5,2,e.total,"COP","symbol-narrow","1.0-0"))}}function K(i,p){1&i&&(t.TgZ(0,"tr")(1,"th"),t._uU(2,"Nombre"),t.qZA(),t.TgZ(3,"th"),t._uU(4,"Cantidad"),t.qZA(),t.TgZ(5,"th"),t._uU(6,"Subtotal"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"Total"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"Acciones"),t.qZA()())}function W(i,p){if(1&i){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.ALo(7,"currency"),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.ALo(10,"currency"),t.qZA(),t.TgZ(11,"td")(12,"p-button",40),t.NdJ("click",function(){const s=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.eliminarProducto(s))}),t.qZA()()()}if(2&i){const e=p.$implicit;t.xp6(2),t.Oqu(e.nombre),t.xp6(2),t.Oqu(e.cantidad),t.xp6(2),t.Oqu(t.gM2(7,4,e.subtotal,"COP","symbol-narrow","1.0-0")),t.xp6(3),t.Oqu(t.gM2(10,9,e.total,"COP","symbol-narrow","1.0-0"))}}function X(i,p){1&i&&(t.TgZ(0,"tr")(1,"th"),t._uU(2,"Nombre"),t.qZA(),t.TgZ(3,"th"),t._uU(4,"Cantidad"),t.qZA(),t.TgZ(5,"th"),t._uU(6,"Subtotal"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"Total"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"Acciones"),t.qZA()())}function tt(i,p){if(1&i){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.ALo(7,"currency"),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.ALo(10,"currency"),t.qZA(),t.TgZ(11,"td")(12,"p-button",40),t.NdJ("click",function(){const s=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.eliminarReceta(s))}),t.qZA()()()}if(2&i){const e=p.$implicit;t.xp6(2),t.Oqu(e.nombre),t.xp6(2),t.Oqu(e.cantidad),t.xp6(2),t.Oqu(t.gM2(7,4,e.subtotal,"COP","symbol-narrow","1.0-0")),t.xp6(3),t.Oqu(t.gM2(10,9,e.total,"COP","symbol-narrow","1.0-0"))}}function et(i,p){if(1&i&&(t.TgZ(0,"div",38)(1,"span",39),t._uU(2),t.qZA()()),2&i){const e=p.$implicit;t.xp6(2),t.Oqu(e.nombre)}}function it(i,p){1&i&&(t.TgZ(0,"div",41),t._uU(1,"Campo requerido"),t.qZA())}function nt(i,p){1&i&&(t.TgZ(0,"div",41),t._uU(1,"Campo requerido "),t.qZA())}function ot(i,p){1&i&&(t.TgZ(0,"div",41),t._uU(1,"La cantidad debe ser al menos 1."),t.qZA())}function at(i,p){if(1&i&&(t.TgZ(0,"div",38)(1,"span",39),t._uU(2),t.qZA()()),2&i){const e=p.$implicit;t.xp6(2),t.Oqu(e.nombre)}}function lt(i,p){1&i&&(t.TgZ(0,"div",41),t._uU(1,"Campo requerido"),t.qZA())}function rt(i,p){1&i&&(t.TgZ(0,"div",41),t._uU(1,"Campo requerido "),t.qZA())}function st(i,p){1&i&&(t.TgZ(0,"div",41),t._uU(1,"La cantidad debe ser al menos 1."),t.qZA())}const ct=function(){return{"min-width":"20rem"}},E=function(){return{"min-width":"50rem"}},O=function(){return{width:"50vw"}};let pt=(()=>{class i{constructor(e,n,o){this.FB=e,this.spinner=n,this.saleService=o,this.loadingTable=!1,this.clienteData=[],this.productosAgregados=[],this.recetasAgregadas=[],this.totalProductos=0,this.totalRecetas=0,this.totalImpuestos=0,this.subtotal=0,this.total=0,this.totales=[{nombre:"Productos/Servicios",total:this.totalProductos},{nombre:"Recetas",total:this.totalRecetas},{nombre:"Impuestos",total:this.totalImpuestos},{nombre:"Subtotal",total:this.subtotal},{nombre:"Total",total:this.total}],this.recetasData=[],this.displayModalRecipes=!1,this.productsData=[],this.displayModalProducts=!1}ngOnInit(){this.spinner.hide(),this.buildForm(),this.loadProducts(),this.loadRecipes(),this.loadClients()}buildForm(){this.form=this.FB.group({cliente_id:[null]}),this.formProducto=this.FB.group({producto_id:[null,c.kI.required],cantidad:[1,[c.kI.required,c.kI.min(1)]]}),this.formReceta=this.FB.group({receta_id:[null,c.kI.required],cantidad:[1,[c.kI.required,c.kI.min(1)]]})}openModalProducts(){this.displayModalProducts=!0}openModalRecipes(){this.displayModalRecipes=!0}loadProducts(){this.saleService.getProducts().subscribe(e=>{this.productsData=e.map(n=>({...n,tipo_servicio_id:1===n.tipo_producto?1:2})),console.log(e)},e=>{console.error(e)})}agregarProductos(){const e=this.formProducto.get("producto_id").value,n=this.formProducto.get("cantidad").value;if(e){const o=parseFloat(e.precio),s=o*n+o*n*e.impuestos_total/100,m={...e,cantidad:n,subtotal:o,total:s};this.productosAgregados.push(m)}else console.error(`No se encontr\xf3 el producto con id ${e.id} en productsData`);this.calcularTotales(),this.displayModalProducts=!1,this.formProducto.reset()}eliminarProducto(e){const n=this.productosAgregados.indexOf(e);n>-1&&this.productosAgregados.splice(n,1),this.calcularTotales()}onCantidadChange(e){this.formProducto.controls.cantidad.setValue(e.target.value)}loadRecipes(){this.saleService.getRecipes().subscribe(e=>{this.recetasData=e.map(n=>({...n,tipo_servicio_id:4})),console.log(e)},e=>{console.error(e)})}agregarRecipes(){const e=this.formReceta.get("receta_id").value,n=this.formReceta.get("cantidad").value;if(e){const o=parseFloat(e.precio),s=o*n+o*n*e.impuestos_total/100,m={...e,cantidad:n,subtotal:o,total:s};this.recetasAgregadas.push(m)}else console.error(`No se encontr\xf3 la receta con id ${e.id} en recetasData`);this.calcularTotales(),this.displayModalRecipes=!1,this.formReceta.reset()}eliminarReceta(e){const n=this.recetasAgregadas.findIndex(o=>o.id===e.id);-1!==n?this.recetasAgregadas.splice(n,1):console.error(`No se encontr\xf3 la receta con id ${e.id} en recetasAgregadas`),this.calcularTotales()}calcularTotales(){this.totalProductos=this.productosAgregados.reduce((e,n)=>e+n.subtotal*n.cantidad,0),this.totalRecetas=this.recetasAgregadas.reduce((e,n)=>e+n.subtotal*n.cantidad,0),this.totalImpuestos=this.productosAgregados.reduce((e,n)=>e+n.subtotal*n.cantidad*n.impuestos_total/100,0)+this.recetasAgregadas.reduce((e,n)=>e+n.subtotal*n.cantidad*n.impuestos_total/100,0),this.subtotal=this.totalProductos+this.totalRecetas,this.total=this.subtotal+this.totalImpuestos,this.totales=[{nombre:"Productos/Servicios",total:this.totalProductos},{nombre:"Recetas",total:this.totalRecetas},{nombre:"Impuestos",total:this.totalImpuestos},{nombre:"Subtotal",total:this.subtotal},{nombre:"Total",total:this.total}]}loadClients(){this.saleService.getClients().subscribe(e=>{this.clienteData=e,console.log(e)},e=>{console.error(e)})}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(c.qu),t.Y36(h.t2),t.Y36(d))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-sale-detail"]],decls:87,vars:47,consts:[["type","ball-scale-multiple"],[1,"surface-section","px-4","py-5","md:px-6","lg:px-8"],[1,"flex","align-items-start","flex-row","lg:justify-content-between","lg:flex-row"],[1,"font-medium","text-3xl","text-900"],[1,"lg:mt-0"],["pButton","","pRipple","","label","Agregar Producto/Servicio","icon","",1,"p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","label","Agregar Receta","icon","",1,"p-button-outlined","mr-2",3,"click"],["pButton","","pRipple","","label","","icon","pi pi-arrow-left",1,"p-button-outlined","ml-2",3,"routerLink"],[1,"flex","align-items-start","flex-column","lg:justify-content-between","lg:flex-row"],[1,"mt-12","lg:mt-0"],[3,"formGroup"],["for","cliente"],["formControlName","cliente_id","selectionLimit","1","optionLabel","nombres","placeholder","Buscar cliente","display","chip","emptyMessage","Cliente no encontrado",1,"multiselect-custom",3,"options"],["pTemplate","item"],[1,"mt-3","lg:mt-0"],[1,"font-medium","text-3xl","text-500"],[1,"grid","mt-3"],[1,"col-12"],[1,"card","px-3","py-3"],[1,"grid"],[1,"col-4"],["responsiveLayout","scroll",3,"value","tableStyle","rows"],["pTemplate","header"],["pTemplate","body"],[1,"col-8"],[1,"mt-2"],["header","Agregar Producto/Servicio",3,"visible","modal","draggable","resizable","visibleChange"],[3,"formGroup","ngSubmit"],[1,"p-fluid","p-formgrid","grid"],[1,"field","col-12","md:col-12"],["formControlName","producto_id","optionLabel","nombre","placeholder","Buscar Producto o Servicio",1,"dropdown-custom",3,"options","autoDisplayFirst"],["style","color: red;",4,"ngIf"],["type","number","formControlName","cantidad","placeholder","Cantidad","pInputText","","min","1",1,"w-full","mb-3","border-round-3xl",3,"change"],["pButton","","pRipple","","label","Agregar Producto","icon","pi pi-fw","type","submit",1,"w-full","bg-admin","boder-admin","mb-5","border-round-3xl"],["header","Agregar Receta",3,"visible","modal","draggable","resizable","visibleChange"],["formControlName","receta_id","optionLabel","nombre","placeholder","Buscar Receta",1,"dropdown-custom",3,"options","autoDisplayFirst"],["type","number","formControlName","cantidad","placeholder","Cantidad","pInputText","","min","1",1,"w-full","mb-3","border-round-3xl"],["pButton","","pRipple","","label","Agregar Receta","icon","pi pi-fw","type","submit",1,"w-full","bg-admin","boder-admin","mb-5","border-round-3xl"],[1,"flex","align-items-center"],[1,"ml-2"],["icon","pi pi-trash","severity","danger",3,"click"],[2,"color","red"]],template:function(n,o){1&n&&(t._UZ(0,"ngx-spinner",0),t.TgZ(1,"div",1)(2,"div",2)(3,"div",3),t._uU(4,"Crear Venta"),t.qZA(),t.TgZ(5,"div",4)(6,"button",5),t.NdJ("click",function(){return o.openModalProducts()}),t.qZA(),t.TgZ(7,"button",6),t.NdJ("click",function(){return o.openModalRecipes()}),t.qZA(),t._UZ(8,"button",7),t.qZA()(),t.TgZ(9,"div",1)(10,"div",8)(11,"div")(12,"div",9)(13,"div",10)(14,"label",11),t._uU(15,"Cliente"),t.qZA(),t.TgZ(16,"div")(17,"p-multiSelect",12),t.YNc(18,j,3,3,"ng-template",13),t.qZA()()()()()()(),t.TgZ(19,"div",1)(20,"div",8)(21,"div",14)(22,"button",5),t.NdJ("click",function(){return o.openModalProducts()}),t.qZA()(),t.TgZ(23,"div",14)(24,"button",6),t.NdJ("click",function(){return o.openModalRecipes()}),t.qZA()(),t.TgZ(25,"div",15),t._uU(26),t.ALo(27,"currency"),t.qZA()()()(),t.TgZ(28,"div",16)(29,"div",17)(30,"div",18)(31,"h3"),t._uU(32,"Detalle de Venta"),t.qZA(),t.TgZ(33,"div",19)(34,"div",20)(35,"p-table",21),t.YNc(36,H,5,0,"ng-template",22),t.YNc(37,z,6,7,"ng-template",23),t.qZA()(),t.TgZ(38,"div",24)(39,"p"),t._uU(40,"Productos/Servicios"),t.qZA(),t.TgZ(41,"p-table",21),t.YNc(42,K,11,0,"ng-template",22),t.YNc(43,W,13,14,"ng-template",23),t.qZA(),t.TgZ(44,"p",25),t._uU(45,"Recetas"),t.qZA(),t.TgZ(46,"p-table",21),t.YNc(47,X,11,0,"ng-template",22),t.YNc(48,tt,13,14,"ng-template",23),t.qZA()()()()()(),t.TgZ(49,"p-dialog",26),t.NdJ("visibleChange",function(m){return o.displayModalProducts=m}),t.TgZ(50,"div",17)(51,"form",27),t.NdJ("ngSubmit",function(){return o.agregarProductos()}),t.TgZ(52,"div",28)(53,"div",29)(54,"label"),t._uU(55,"Producto/Servicio"),t.qZA(),t.TgZ(56,"p-dropdown",30),t.YNc(57,et,3,1,"ng-template",13),t.qZA(),t.YNc(58,it,2,0,"div",31),t.qZA(),t.TgZ(59,"div",29)(60,"label"),t._uU(61,"Cantidad"),t.qZA(),t.TgZ(62,"input",32),t.NdJ("change",function(m){return o.onCantidadChange(m)}),t.qZA(),t.YNc(63,nt,2,0,"div",31),t.YNc(64,ot,2,0,"div",31),t.qZA(),t.TgZ(65,"div",29),t._UZ(66,"button",33),t.qZA()(),t._UZ(67,"br"),t.qZA()()(),t.TgZ(68,"p-dialog",34),t.NdJ("visibleChange",function(m){return o.displayModalRecipes=m}),t.TgZ(69,"div",17)(70,"form",27),t.NdJ("ngSubmit",function(){return o.agregarRecipes()}),t.TgZ(71,"div",28)(72,"div",29)(73,"label"),t._uU(74,"Receta"),t.qZA(),t.TgZ(75,"p-dropdown",35),t.YNc(76,at,3,1,"ng-template",13),t.qZA(),t.YNc(77,lt,2,0,"div",31),t.qZA(),t.TgZ(78,"div",29)(79,"label"),t._uU(80,"Cantidad"),t.qZA(),t._UZ(81,"input",36),t.YNc(82,rt,2,0,"div",31),t.YNc(83,st,2,0,"div",31),t.qZA(),t.TgZ(84,"div",29),t._UZ(85,"button",37),t.qZA()(),t._UZ(86,"br"),t.qZA()()()),2&n&&(t.xp6(8),t.Q6J("routerLink","/dashboard/dashboardSell"),t.xp6(5),t.Q6J("formGroup",o.form),t.xp6(4),t.Q6J("options",o.clienteData),t.xp6(9),t.hij("Total: ",t.gM2(27,37,o.total,"COP","symbol-narrow","1.0-0"),""),t.xp6(9),t.Q6J("value",o.totales)("tableStyle",t.DdM(42,ct))("rows",8),t.xp6(6),t.Q6J("value",o.productosAgregados)("tableStyle",t.DdM(43,E))("rows",5),t.xp6(5),t.Q6J("value",o.recetasAgregadas)("tableStyle",t.DdM(44,E))("rows",5),t.xp6(3),t.Akn(t.DdM(45,O)),t.Q6J("visible",o.displayModalProducts)("modal",!0)("draggable",!1)("resizable",!1),t.xp6(2),t.Q6J("formGroup",o.formProducto),t.xp6(5),t.Q6J("options",o.productsData)("autoDisplayFirst",!1),t.xp6(2),t.Q6J("ngIf",o.formProducto.get("producto_id").hasError("required")),t.xp6(5),t.Q6J("ngIf",o.formProducto.get("cantidad").hasError("required")),t.xp6(1),t.Q6J("ngIf",null==o.formProducto.get("cantidad").errors?null:o.formProducto.get("cantidad").errors.min),t.xp6(4),t.Akn(t.DdM(46,O)),t.Q6J("visible",o.displayModalRecipes)("modal",!0)("draggable",!1)("resizable",!1),t.xp6(2),t.Q6J("formGroup",o.formReceta),t.xp6(5),t.Q6J("options",o.recetasData)("autoDisplayFirst",!1),t.xp6(2),t.Q6J("ngIf",o.formReceta.get("receta_id").hasError("required")),t.xp6(5),t.Q6J("ngIf",o.formReceta.get("cantidad").hasError("required")),t.xp6(1),t.Q6J("ngIf",null==o.formReceta.get("cantidad").errors?null:o.formReceta.get("cantidad").errors.min))},dependencies:[f.O5,u.rH,v.iA,D.jx,_.Hq,_.zx,c._Y,c.Fj,c.wV,c.JJ,c.JL,c.qQ,C.H,T.o,x.Lt,Z.V,c.sg,c.u,h.Ro,J.NU,f.H9]})}return i})(),dt=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=t.oAB({type:i});static#i=this.\u0275inj=t.cJS({imports:[u.Bz.forChild([{path:"",component:G,canActivate:[N.a],data:{permissions:["dashboard.venta"]}},{path:"sale-detail",component:pt,canActivate:[N.a],data:{permissions:["dashboard.venta"]}}]),u.Bz]})}return i})();var ut=r(2169);let mt=(()=>{class i{static#t=this.\u0275fac=function(n){return new(n||i)};static#e=this.\u0275mod=t.oAB({type:i});static#i=this.\u0275inj=t.cJS({providers:[{provide:A.TP,useClass:R.n,multi:!0},d],imports:[f.ez,dt,v.U$,y.O,c.u5,_.hJ,C.T,S.EV,q.V,I.Xt,T.j,U.A,x.kW,P.cc,w.L$,Z.S,M.ii.forRoot(),c.UX,h.ef,a.U,g.dp,J.q4,ut.o]})}return i})()},2169:(k,b,r)=>{r.d(b,{o:()=>h});var f=r(6814),c=r(4946),v=r(5219),y=r(8468);let h=(()=>{class a{static \u0275fac=function(t){return new(t||a)};static \u0275mod=c.oAB({type:a});static \u0275inj=c.cJS({imports:[f.ez,y.x,v.m8,v.m8]})}return a})()}}]);